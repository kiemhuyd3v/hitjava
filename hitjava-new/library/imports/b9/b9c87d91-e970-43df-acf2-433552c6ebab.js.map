{"version":3,"sources":["assets\\XocDia\\XocDiaScript\\XocDia.Player.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import App from \"../../Lobby/LobbyScript/Script/common/App\";\nimport Utils from \"../../Lobby/LobbyScript/Script/common/Utils\";\n\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class Player extends cc.Component {\n    \n    @property(cc.Button)\n    btnInvite: cc.Button = null;\n    @property(cc.Node)\n    info: cc.Node = null;\n\n    @property(cc.Label)\n    lblNickname: cc.Label = null;\n    @property(cc.Label)\n    lblCoin: cc.Label = null;\n    @property(cc.Sprite)\n    sprAvatar: cc.Sprite = null;\n    @property(cc.Label)\n    lbCoin: cc.Label = null;\n    @property(cc.Node)\n    boxWin: cc.Node = null;\n    @property(cc.Vec2)\n    chipsPoint: cc.Vec2 = cc.v2(0, 0);\n    @property(cc.Vec2)\n    chipsPoint2: cc.Vec2 = cc.v2(0, 0);\n    @property(cc.Node)\n    banker: cc.Node = null;\n    @property(cc.Node)\n    chatEmotion: cc.Node = null;\n    @property(cc.Node)\n    chatMsg: cc.Node = null;\n\n    public nickname: string = \"\";\n    public avatar: string = \"\";\n    private timeoutChat = null;\n    start() {\n       \n    }\n    public leave() {\n        this.nickname = \"\";\n\n        if (this.btnInvite) this.btnInvite.node.active = true;\n        if (this.info) this.info.active = false;\n        this.lbCoin.node.active = false;\n        this.boxWin.active = false;\n        this.banker.active = false;\n        this.unscheduleAllCallbacks();\n    }\n\n    public set(nickname: string, avatar: string, coin: number, isBanker: boolean) {\n        this.nickname = nickname;\n        this.lblNickname.string = nickname;\n        if (this.lblNickname.string.length > 14) {\n            this.lblNickname.string = this.lblNickname.string.substring(0, 11) + \"...\";\n        }\n        this.sprAvatar.spriteFrame = App.instance.getAvatarSpriteFrame(avatar);\n        this.setCoin(coin);\n        this.banker.active = isBanker;\n\n        if (this.btnInvite) this.btnInvite.node.active = false;\n        if (this.info) this.info.active = true;\n    }\n\n    public setCoin(coin: number) {\n        this.lblCoin.string = Utils.formatMoney(coin);\n    }\n\n    public clearUI(){\n        cc.Tween.stopAllByTarget(this.lbCoin.node);\n        this.lbCoin.node.active = false;\n        this.boxWin.active = false;\n    }\n\n    public showWinCoinString(coin: string) {\n        this.lbCoin.node.active = true;\n        this.boxWin.active = true;\n        this.boxWin.getComponentInChildren(sp.Skeleton).setAnimation(0, \"Win5\", true);\n        this.lbCoin.string = \"\" + (coin);\n        cc.tween(this.lbCoin.node)\n            .set({ scale: 0, y: -50 })\n            .to(1.0, { scale: 0.6, y: 70 }, { easing: cc.easing.backOut })\n            .delay(4.0)\n            .call(() => {\n                this.lbCoin.node.active = false;\n                this.boxWin.active = false;\n            }).start();\n    }\n\n    public showWinCoin(coin: number) {\n        this.lbCoin.node.active = true;\n        this.boxWin.active = true;\n        this.boxWin.getComponentInChildren(sp.Skeleton).setAnimation(0, \"Win5\", true);\n        this.lbCoin.string = \"\" + Utils.formatMoney(coin);\n        cc.tween(this.lbCoin.node)\n            .set({ scale: 0, y: -50 })\n            .to(1.0, { scale: 0.6, y: 70 }, { easing: cc.easing.backOut })\n            .delay(4.0)\n            .call(() => {\n                this.lbCoin.node.active = false;\n                this.boxWin.active = false;\n            }).start();\n    }\n\n    showChatEmotion(content) {\n        this.chatEmotion.active = true;\n        this.chatMsg.active = false;\n        clearTimeout(this.timeoutChat);\n        this.chatEmotion.getComponent(sp.Skeleton).setAnimation(0, content, true);\n        this.timeoutChat = setTimeout(() => {\n            this.chatEmotion.active = false;\n            this.chatMsg.active = false;\n        }, 3000);\n    }\n\n    showChatMsg(content) {\n\n        this.chatEmotion.active = false;\n        this.chatMsg.active = true;\n        clearTimeout(this.timeoutChat);\n        this.chatMsg.getComponentInChildren(cc.Label).string = content;\n        this.timeoutChat = setTimeout(() => {\n            this.chatEmotion.active = false;\n            this.chatMsg.active = false;\n        }, 5000);\n    }\n\n    hideChat() {\n        clearTimeout(this.timeoutChat);\n        this.chatEmotion.active = false;\n        this.chatMsg.active = false;\n    }\n\n    public showRefundCoin(coin: number) {\n        this.lbCoin.node.active = true;\n        this.boxWin.getComponentInChildren(sp.Skeleton).setAnimation(0, \"Win5\", true);\n        this.lbCoin.string = \"\" + Utils.formatMoney(coin);\n        cc.tween(this.lbCoin.node)\n            .set({ scale: 0, y: -50 })\n            .to(1.0, { scale: 0.6, y: 70 }, { easing: cc.easing.backOut })\n            .delay(4.0)\n            .call(() => {\n                this.lbCoin.node.active = false;\n                this.boxWin.active = false;\n            }).start();\n    }\n  \n}\n"]}
{"version":3,"sources":["assets\\Lobby\\LobbyScript\\Lobby.TopHu.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import ItemHu from \"./Lobby.ItemTopHu\";\nimport { Tophudata } from './Lobby.ItemTopHu';\nimport HandlerButton from \"./Script/common/HandlerButton\";\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class NewClass extends cc.Component {\n\n    @property(cc.Button)\n    btn100: cc.Button = null;\n    @property(cc.Button)\n    btn1000: cc.Button = null;\n    @property(cc.Button)\n    btn10000: cc.Button = null;\n    @property(cc.Node)\n    itemTemplate: cc.Node = null;\n    @property(cc.Node)\n    animTopHu: cc.Node = null;\n    @property(cc.Node)\n    nodeHu: cc.Node = null;\n    listItem: ItemHu[] = [];\n\n    index: number = 0;\n    listData100: Array<Tophudata> = new Array<Tophudata>();\n    listData1000: Array<Tophudata> = new Array<Tophudata>();\n    listData10000: Array<Tophudata> = new Array<Tophudata>();\n    isMove = false;\n    distance : number = 0;\n    onLoad() {\n        this.btn100.node.on('click', this.onBtn100Clicked, this);\n        this.btn1000.node.on('click', this.onBtn1000Clicked, this);\n        this.btn10000.node.on('click', this.onBtn10000Clicked, this);\n        this.index = 2;\n        this.animTopHu.on(cc.Node.EventType.TOUCH_START, (touch) => {\n            this.isMove = false;\n            this.distance = 0;\n           \n        });\n        this.animTopHu.on(cc.Node.EventType.TOUCH_MOVE, (touch) => {\n            this.animTopHu.setPosition(this.animTopHu.getPosition().add(touch.getDelta()));\n            this.distance += Math.abs(touch.getDelta().x) + Math.abs(touch.getDelta().y);\n            if(this.distance >= 70){\n                this.isMove = true;\n            }\n        });\n        this.animTopHu.on(cc.Node.EventType.TOUCH_END, (touch) => {\n            if (!this.isMove) {\n                this.onClickTopHu();\n            }\n            this.isMove = false;\n        });\n    }\n\n    onBtn100Clicked(event) {\n        this.btn100.node.getComponent(HandlerButton).SetActive(true);\n        this.btn1000.node.getComponent(HandlerButton).SetActive(false);\n        this.btn10000.node.getComponent(HandlerButton).SetActive(false);\n        this.Onshow(0);\n    }\n    onBtn1000Clicked(event) {\n        this.btn100.node.getComponent(HandlerButton).SetActive(false);\n        this.btn1000.node.getComponent(HandlerButton).SetActive(true);\n        this.btn10000.node.getComponent(HandlerButton).SetActive(false);\n        this.Onshow(1);\n    }\n    onBtn10000Clicked(event) {\n\n        this.btn100.node.getComponent(HandlerButton).SetActive(false);\n        this.btn1000.node.getComponent(HandlerButton).SetActive(false);\n        this.btn10000.node.getComponent(HandlerButton).SetActive(true);\n        this.Onshow(2);\n    }\n\n    start() {\n        this.btn100.node.getComponent(HandlerButton).SetActive(false);\n        this.btn1000.node.getComponent(HandlerButton).SetActive(false);\n        this.btn10000.node.getComponent(HandlerButton).SetActive(true);\n    }\n\n    public ShowData(listData100: Array<Tophudata>, listData1000: Array<Tophudata>, listData10000: Array<Tophudata>) {\n        //  //Utils.Log(\"ShowData:\"+listData100);\n        this.listData100 = listData100;\n        this.listData1000 = listData1000;\n        this.listData10000 = listData10000;\n        this.listData100.sort((a, b) => a.value > b.value ? -1 : 1);\n        this.listData1000.sort((a, b) => a.value > b.value ? -1 : 1);\n        this.listData10000.sort((a, b) => a.value > b.value ? -1 : 1);\n        this.Onshow(this.index)\n    }\n    private getItem(): cc.Node {\n        let item = null;\n        for (let i = 0; i < this.itemTemplate.parent.childrenCount; i++) {\n            let node = this.itemTemplate.parent.children[i];\n            if (node != this.itemTemplate && !node.active) {\n                item = node;\n                item.active = true;\n                break;\n            }\n        }\n        if (item == null) {\n            item = cc.instantiate(this.itemTemplate);\n            item.parent = this.itemTemplate.parent;\n        }\n        item.active = true;\n        return item;\n    }\n    private Onshow(index: number) {\n        var listdata = new Array<Tophudata>();\n        if (index == 0) {\n            listdata = this.listData100;\n        }\n        else if (index == 1) {\n            listdata = this.listData1000;\n        }\n        else {\n            listdata = this.listData10000;\n        }\n        // // init list\n        if (this.listItem.length <= 0) {\n            for (var i = 0; i < listdata.length; i++) {\n                let item = this.getItem();\n                let itemtophu = item.getComponent(ItemHu);\n                this.listItem.push(itemtophu);\n            }\n        }\n        for (var i = 0; i < listdata.length; i++) {\n            this.listItem[i].SetData(listdata[i]);\n        }\n        this.index = index;\n    }\n    onClickTopHu() {\n        this.nodeHu.active = !this.nodeHu.active;\n    }\n\n}\n"]}
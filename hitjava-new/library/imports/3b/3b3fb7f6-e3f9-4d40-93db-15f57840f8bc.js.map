{"version":3,"sources":["assets\\Slot1\\Slot1Script\\Slot1.Lobby.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["\nimport App from \"../../Lobby/LobbyScript/Script/common/App\";\nimport Tween from \"../../Lobby/LobbyScript/Script/common/Tween\";\nimport SlotNetworkClient from \"../../Lobby/LobbyScript/Script/networks/SlotNetworkClient\";\nimport cmd from \"./Slot1.Cmd\";\nimport Slot1Controller from \"./Slot1.Slot1Controller\";\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class Slot1Lobby extends cc.Component {\n\n    @property([cc.Label])\n    listPot: cc.Label[] = [];\n    @property([cc.Node])\n    rooms: cc.Node[] = [];\n    @property(cc.Node)\n    bgAnim: cc.Node = null;\n\n    mSlotController: Slot1Controller = null;\n\n    onLoad() {\n        let tileWidth = cc.winSize.width / 1280;\n        let titleheight = cc.winSize.height / 720;\n        this.bgAnim.scaleX = this.bgAnim.scaleX * tileWidth;\n        this.bgAnim.scaleY = this.bgAnim.scaleY * titleheight;\n        this.node.zIndex = 2;\n    }\n    start() {\n\n    }\n    public init(pSlot3Controller: Slot1Controller) {\n        this.mSlotController = pSlot3Controller;\n        if (this.mSlotController.isMusic) {\n            cc.audioEngine.setMusicVolume(0.5);\n            cc.audioEngine.playMusic(this.mSlotController.musicLobby, true);\n        }\n\n        this.show();\n    }\n\n    show() {\n        this.node.active = true;\n        this.showAnimation();\n    }\n\n    hide() {\n        this.node.active = false;\n    }\n\n    showAnimation() {\n        if (this.mSlotController.isSound) {\n            cc.audioEngine.play(this.mSlotController.soundStartSpin, false, 1);\n        }\n        var self = this;\n        // for(var i=0;i<this.rooms.length;i++){\n        //     var nodeBox = this.rooms[i]\n        //     cc.Tween.stopAllByTarget(nodeBox);\n        //     nodeBox.opacity = 0;\n        //     if (i == 0) {\n        //         nodeBox.position = cc.v3(-200, 0,0);\n        //     }\n        //     else if (i == 1) {\n        //         nodeBox.position = cc.v3(0, -200,0);\n        //     }\n        //     else if (i == 2) {\n        //         nodeBox.position = cc.v3(0, 200,0);\n        //     }\n        //     else {\n        //         nodeBox.position = cc.v3(200, 0,0);\n        //     }\n        //     cc.tween(nodeBox)\n        //         .to(1, { position: cc.v3(0, 0,0), opacity: 255 }, { easing: \"backOut\" })\n        //         .start();\n        // }\n    }\n\n    public onBtnBack() {\n\n        SlotNetworkClient.getInstance().send(new cmd.SendUnSubcribe(this.mSlotController.betId));\n        cc.audioEngine.stopAll();\n        App.instance.loadScene(\"Lobby\");\n    }\n\n    private onBtn100() {\n        this.mSlotController.betId = 0;\n        SlotNetworkClient.getInstance().send(new cmd.SendSubcribe(this.mSlotController.betId));\n        this.node.active = false;\n        this.mSlotController.onJoinRoom();\n    }\n\n    private onBtn5k() {\n        this.mSlotController.betId = 1;\n        SlotNetworkClient.getInstance().send(new cmd.SendSubcribe(this.mSlotController.betId));\n        this.node.active = false;\n        this.mSlotController.onJoinRoom();\n    }\n\n    private omBtn10k() {\n        this.mSlotController.betId = 2;\n        SlotNetworkClient.getInstance().send(new cmd.SendSubcribe(this.mSlotController.betId));\n        this.node.active = false;\n        this.mSlotController.onJoinRoom();\n    }\n\n    public onUpdateJackpot(pData) {\n        let res = new cmd.ResUpdateJackpotSlots(pData);\n        let resJson = JSON.parse(res.pots);\n        if (this.listPot[0].string == \"0\") {\n            this.listPot[0].string = (resJson['audition']['100'] - 100000) + \"\";\n            this.listPot[1].string = (resJson['audition']['1000'] - 1000000) + \"\";\n            this.listPot[2].string = (resJson['audition']['10000'] - 10000000) + \"\";\n        }\n        Tween.numberTo(this.listPot[0], resJson['audition']['100'].p, 4);\n        Tween.numberTo(this.listPot[1], resJson['audition']['1000'].p, 4);\n        Tween.numberTo(this.listPot[2], resJson['audition']['10000'].p, 4);\n    }\n}\n"]}
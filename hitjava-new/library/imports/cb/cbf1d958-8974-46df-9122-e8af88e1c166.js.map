{"version":3,"sources":["assets\\Lobby\\LobbyScript\\Script\\common\\BgResizer.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAM,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAAuC,6BAAY;IAAnD;QAAA,qEAsCC;QApCG,sBAAgB,GAAY,IAAI,EAAE,CAAC,IAAI,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;QAEnD,eAAS,GAAW,CAAC,CAAC;QACtB,gBAAU,GAAW,CAAC,CAAC;;IAiC3B,CAAC;IA/BG,yBAAK,GAAL;QACI,IAAI,CAAC,UAAU,EAAE,CAAC;IACtB,CAAC;IAED,0BAAM,GAAN,UAAO,EAAU;QACb,IAAI,CAAC,UAAU,EAAE,CAAC;IACtB,CAAC;IAED,8BAAU,GAAV;QACI,IAAI,SAAS,GAAG,EAAE,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC;QACvC,IAAI,IAAI,CAAC,SAAS,KAAK,SAAS,CAAC,KAAK,IAAI,IAAI,CAAC,UAAU,KAAK,SAAS,CAAC,MAAM,EAAE;YAE5E,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC,KAAK,CAAC;YACjC,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC,MAAM,CAAC;YAEnC,IAAI,IAAI,CAAC,gBAAgB,CAAC,KAAK,GAAG,IAAI,CAAC,gBAAgB,CAAC,MAAM,GAAG,SAAS,CAAC,KAAK,GAAG,SAAS,CAAC,MAAM,EAAE;gBACjG,IAAI,MAAM,GAAG,IAAI,CAAC,gBAAgB,CAAC,KAAK,GAAG,SAAS,CAAC,MAAM,GAAG,SAAS,CAAC,KAAK,CAAC;gBAC9E,IAAI,KAAK,GAAG,MAAM,GAAG,IAAI,CAAC,gBAAgB,CAAC,KAAK,GAAG,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC;gBAEhF,IAAI,aAAa,GAAG,EAAE,CAAC,IAAI,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;gBAC3C,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,aAAa,CAAC,CAAC;aAC3C;iBAAM;gBACH,IAAI,KAAK,GAAG,IAAI,CAAC,gBAAgB,CAAC,MAAM,GAAG,SAAS,CAAC,KAAK,GAAG,SAAS,CAAC,MAAM,CAAC;gBAC9E,IAAI,MAAM,GAAG,KAAK,GAAG,IAAI,CAAC,gBAAgB,CAAC,MAAM,GAAG,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC;gBAChF,IAAI,aAAa,GAAG,EAAE,CAAC,IAAI,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;gBAE3C,IAAI,aAAa,GAAG,EAAE,CAAC,IAAI,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;gBAC3C,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,aAAa,CAAC,CAAC;aAC3C;SACJ;IACL,CAAC;IAnCD;QADC,QAAQ;uDAC0C;IAFlC,SAAS;QAD7B,OAAO;OACa,SAAS,CAsC7B;IAAD,gBAAC;CAtCD,AAsCC,CAtCsC,EAAE,CAAC,SAAS,GAsClD;kBAtCoB,SAAS","file":"","sourceRoot":"/","sourcesContent":["const { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class BgResizer extends cc.Component {\n    @property\n    designResolution: cc.Size = new cc.Size(1560, 720);\n\n    lastWitdh: number = 0;\n    lastHeight: number = 0;\n\n    start() {\n        this.updateSize();\n    }\n\n    update(dt: number) {\n        this.updateSize();\n    }\n\n    updateSize() {\n        var frameSize = cc.view.getFrameSize();\n        if (this.lastWitdh !== frameSize.width || this.lastHeight !== frameSize.height) {\n\n            this.lastWitdh = frameSize.width;\n            this.lastHeight = frameSize.height;\n\n            if (this.designResolution.width / this.designResolution.height > frameSize.width / frameSize.height) {\n                var height = this.designResolution.width * frameSize.height / frameSize.width;\n                var width = height * this.designResolution.width / this.designResolution.height;\n                \n                var newDesignSize = cc.size(width, height);\n                this.node.setContentSize(newDesignSize);\n            } else {\n                var width = this.designResolution.height * frameSize.width / frameSize.height;\n                var height = width * this.designResolution.height / this.designResolution.width;\n                var newDesignSize = cc.size(width, height);\n\n                var newDesignSize = cc.size(width, height);\n                this.node.setContentSize(newDesignSize);\n            }\n        }\n    }\n}\n"]}
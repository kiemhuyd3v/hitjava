{"version":3,"sources":["assets\\MiniPoker\\MiniPokerScript\\MiniPoker.MiniPokerController.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import BundleControl from \"../../Loading/src/BundleControl\";\nimport Configs from \"../../Loading/src/Configs\";\nimport MiniGame from \"../../Lobby/LobbyScript/MiniGame\";\nimport App from \"../../Lobby/LobbyScript/Script/common/App\";\nimport BroadcastReceiver from \"../../Lobby/LobbyScript/Script/common/BroadcastReceiver\";\nimport Tween from \"../../Lobby/LobbyScript/Script/common/Tween\";\nimport Utils from \"../../Lobby/LobbyScript/Script/common/Utils\";\nimport MiniGameNetworkClient from \"../../Lobby/LobbyScript/Script/networks/MiniGameNetworkClient\";\nimport InPacket from \"../../Lobby/LobbyScript/Script/networks/Network.InPacket\";\nimport cmd from \"./MiniPoker.Cmd\";\nimport PopupHistory from \"./MiniPoker.PopupHistory\";\nimport PopupHonors from \"./MiniPoker.PopupHonors\";\n\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass(\"ButtonBet\")\nexport class ButtonBet {\n    @property(cc.Button)\n    button: cc.Button = null;\n    @property(cc.SpriteFrame)\n    sfNormal: cc.SpriteFrame = null;\n    @property(cc.SpriteFrame)\n    sfActive: cc.SpriteFrame = null;\n\n    _isActive = false;\n\n    setActive(isActive: boolean) {\n        this._isActive = isActive;\n        this.button.getComponent(cc.Sprite).spriteFrame = isActive ? this.sfActive : this.sfNormal;\n        this.button.interactable = !isActive;\n    }\n}\n\n@ccclass\nexport default class MiniPokerController extends MiniGame {\n    @property(cc.SpriteAtlas)\n    sprAtlasCards: cc.SpriteAtlas = null;\n    @property(cc.Node)\n    columns: cc.Node = null;\n    @property(cc.Node)\n    itemTemplate: cc.Node = null;\n    @property(cc.Label)\n    lblJackpot: cc.Label = null;\n    @property([ButtonBet])\n    buttonBets: ButtonBet[] = [];\n    @property(cc.Label)\n    lblToast: cc.Label = null;\n    @property(cc.Animation)\n    btnSpinAnim: cc.Animation = null;\n    @property(cc.Button)\n    btnSpin: cc.Button = null;\n    @property(cc.Button)\n    btnClose: cc.Button = null;\n    @property(cc.Toggle)\n    toggleAuto: cc.Toggle = null;\n    @property(cc.Toggle)\n    btnBoost: cc.Toggle = null;\n    @property(sp.Skeleton)\n    sprResult: sp.Skeleton = null;\n    @property(cc.Node)\n    lblWinCash: cc.Node = null;\n    @property(cc.Node)\n    popupContainer: cc.Node = null;\n\n    @property([cc.Node])\n    public popups: cc.Node[] = [];\n\n    private readonly rollStartItemCount = 15;\n    private readonly rollAddItemCount = 10;\n    private readonly spinDuration = 1.2;\n    private readonly addSpinDuration = 0.3;\n    private readonly listBet = [100, 1000, 10000];\n    private readonly defaultCards = [0, 1, 2, 3, 4];\n    private itemHeight = 0;\n    private betIdx = 0;\n    private isBoost = false;\n    private isCanChangeBet = true;\n    private isSpined = true;\n    private lastSpinRes: cmd.ReceiveSpin = null;\n    private popupGuide = null;\n    private popupHistory: PopupHistory = null;\n    private popupHonor: PopupHonors = null;\n\n    start() {\n        this.itemHeight = this.itemTemplate.height;\n        for (let i = 0; i < this.columns.childrenCount; i++) {\n            let column = this.columns.children[i];\n            let count = this.rollStartItemCount + i * this.rollAddItemCount;\n            for (let j = 0; j < count; j++) {\n                let item = cc.instantiate(this.itemTemplate);\n                item.parent = column;\n                if (j >= 1) {\n                    item.children[0].getComponent(cc.Sprite).spriteFrame = this.sprAtlasCards.getSpriteFrame(\"cardBlur_\" + Utils.randomRangeInt(1, 15));\n                } else {\n                    item.children[0].getComponent(cc.Sprite).spriteFrame = this.sprAtlasCards.getSpriteFrame(\"card\" + this.defaultCards[i]);\n                }\n            }\n        }\n        this.itemTemplate.removeFromParent();\n        this.itemTemplate = null;\n\n        for (let i = 0; i < this.buttonBets.length; i++) {\n            var btn = this.buttonBets[i];\n            btn.setActive(i == this.betIdx);\n            btn.button.node.on(\"click\", () => {\n                App.instance.showBgMiniGame(\"MiniPoker\");\n                if (!this.isCanChangeBet) {\n                    this.showToast(App.instance.getTextLang('txt_notify_fast_action'));\n                    return;\n                }\n                let oldIdx = this.betIdx;\n                this.betIdx = i;\n                for (let i = 0; i < this.buttonBets.length; i++) {\n                    this.buttonBets[i].setActive(i == this.betIdx);\n                }\n                this.isCanChangeBet = false;\n                this.scheduleOnce(() => {\n                    this.isCanChangeBet = true;\n                }, 1);\n                MiniGameNetworkClient.getInstance().send(new cmd.SendChangeRoom(oldIdx, this.betIdx));\n            });\n        }\n\n        this.toggleAuto.node.on(\"click\", () => {\n            App.instance.showBgMiniGame(\"MiniPoker\");\n            if (this.toggleAuto.isChecked) {\n                if (this.isSpined) this.actSpin();\n                this.btnBoost.interactable = false;\n            } else {\n                this.btnBoost.interactable = true;\n                if (this.isSpined) {\n                    this.setEnableAllButtons(true);\n                }\n            }\n        });\n\n        this.btnBoost.node.on(\"click\", () => {\n            App.instance.showBgMiniGame(\"MiniPoker\");\n            this.isBoost = !this.isBoost;\n            if (this.isBoost) {\n                if (this.isSpined) this.actSpin();\n                this.toggleAuto.interactable = false;\n                this.btnBoost.isChecked = true;\n            } else {\n                this.toggleAuto.interactable = true;\n                this.btnBoost.isChecked = false;\n                if (this.isSpined) {\n                    this.setEnableAllButtons(true);\n                }\n            }\n        });\n\n        BroadcastReceiver.register(BroadcastReceiver.USER_LOGOUT, () => {\n            if (!this.node.active) return;\n            this.dismiss();\n        }, this);\n\n        MiniGameNetworkClient.getInstance().addOnClose(() => {\n            if (!this.node.active) return;\n            this.dismiss();\n        }, this);\n\n        MiniGameNetworkClient.getInstance().addListener((data: Uint8Array) => {\n            if (!this.node.active) return;\n            let inpacket = new InPacket(data);\n            switch (inpacket.getCmdId()) {\n                case cmd.Code.UPDATE_JACKPOT: {\n                    let res = new cmd.ReceiveUpdateJackpot(data);\n                    Tween.numberTo(this.lblJackpot, res.value, 0.3);\n                    break;\n                }\n                case cmd.Code.SPIN: {\n                    let res = new cmd.ReceiveSpin(data);\n                    this.onSpinResult(res);\n                    break;\n                }\n            }\n        }, this);\n    }\n\n    show() {\n        if (this.node.active) {\n            this.reOrder();\n            return;\n        }\n        App.instance.showBgMiniGame(\"MiniPoker\");\n        super.show();\n\n        this.lblToast.node.parent.active = false;\n        this.sprResult.node.active = false;\n        this.lblWinCash.active = false;\n\n        this.isSpined = true;\n        this.isCanChangeBet = true;\n        this.betIdx = 0;\n        for (let i = 0; i < this.buttonBets.length; i++) {\n            this.buttonBets[i].setActive(i == this.betIdx);\n        }\n        MiniGameNetworkClient.getInstance().send(new cmd.SendScribe(this.betIdx));\n    }\n\n    actSpin() {\n        // cc.log(\"actSpin\");\n        //App.instance.showBgMiniGame(\"MiniPoker\");\n        if (!this.isSpined) {\n            this.showToast(App.instance.getTextLang('txt_notify_fast_action'));\n            return;\n        }\n        this.btnSpinAnim.play(\"spin\", 0);\n        this.isSpined = false;\n        this.setEnableAllButtons(false);\n        for (var i = 0; i < this.buttonBets.length; i++) {\n            this.buttonBets[i].button.interactable = false;\n        }\n        MiniGameNetworkClient.getInstance().send(new cmd.SendSpin(this.listBet[this.betIdx]));\n    }\n\n    private showToast(message: string) {\n        this.lblToast.string = message;\n        let parent = this.lblToast.node.parent;\n        parent.stopAllActions();\n        parent.active = true;\n        parent.opacity = 0;\n        parent.runAction(cc.sequence(cc.fadeIn(0.1), cc.delayTime(2), cc.fadeOut(0.2), cc.callFunc(() => {\n            parent.active = false;\n        })));\n    }\n\n    private setEnableAllButtons(isEnable: boolean) {\n        this.btnSpin.interactable = isEnable;\n        this.btnClose.interactable = isEnable;\n    }\n\n    private onSpinResult(data: cmd.ReceiveSpin) {\n        // cc.log(data);\n        this.lastSpinRes = data;\n\n        var resultSuccess = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11];\n        if (resultSuccess.indexOf(data.result) < 0) {\n            this.scheduleOnce(function () {\n                this.isSpined = true;\n            }, 1);\n            this.setEnableAllButtons(true);\n            for (var i = 0; i < this.buttonBets.length; i++) {\n                this.buttonBets[i].button.interactable = true;\n            }\n\n            this.toggleAuto.isChecked = false;\n            this.toggleAuto.interactable = true;\n\n            this.isBoost = false;\n            this.btnBoost.interactable = true;\n            this.btnBoost.isChecked = false;\n\n            switch (data.result) {\n                case 102:\n                    this.showToast(App.instance.getTextLang('txt_not_enough'));\n                    break;\n                default:\n                    this.showToast(App.instance.getTextLang('txt_unknown_error1'));\n                    break;\n            }\n            return;\n        }\n\n        Configs.Login.Coin -= this.listBet[this.betIdx];\n        BroadcastReceiver.send(BroadcastReceiver.USER_UPDATE_COIN);\n        Configs.Login.Coin = data.currentMoney;\n\n        let result = [data.card1, data.card2, data.card3, data.card4, data.card5];\n        //currentMoney: 3392748\n        // prize: 0\n        // result: 10 = khong an\n        // result: 9 = doi J+\n        // result: 8 = hai doi\n        // result: 7 = sam\n        let timeScale = this.isBoost ? 0.5 : 1;\n        for (let i = 0; i < this.columns.childrenCount; i++) {\n            let roll = this.columns.children[i];\n            let step1Pos = this.itemHeight * 0.2;\n            let step2Pos = -this.itemHeight * roll.childrenCount + this.itemHeight - this.itemHeight * 0.2;\n            let step3Pos = -this.itemHeight * roll.childrenCount + this.itemHeight;\n            roll.runAction(cc.sequence(\n                cc.delayTime(0.2 * i * timeScale),\n                cc.moveTo(0.2 * timeScale, cc.v2(roll.getPosition().x, step1Pos)).easing(cc.easeQuadraticActionOut()),\n                cc.moveTo((this.spinDuration + this.addSpinDuration * i) * timeScale, cc.v2(roll.getPosition().x, step2Pos)).easing(cc.easeQuadraticActionInOut()),\n                cc.moveTo(0.2 * timeScale, cc.v2(roll.getPosition().x, step3Pos)).easing(cc.easeQuadraticActionIn()),\n                cc.callFunc(() => {\n                    roll.setPosition(cc.v2(roll.getPosition().x, 0));\n                    if (i === this.columns.childrenCount - 1) {\n                        this.spined();\n                    }\n                })\n            ));\n            roll.runAction(cc.sequence(\n                cc.delayTime((0.45 + 0.2 * i) * timeScale),\n                cc.callFunc(() => {\n                    let children = roll.children;\n                    let bottomSprite = children[0].children[0].getComponent(cc.Sprite);\n                    let topSprite = children[children.length - 1].children[0].getComponent(cc.Sprite);\n                    bottomSprite.spriteFrame = topSprite.spriteFrame = this.sprAtlasCards.getSpriteFrame(\"card\" + result[i]);\n                })\n            ));\n        }\n    }\n\n    private spined() {\n        // cc.log(\"vao day chu ha:\" + JSON.stringify(this.lastSpinRes));\n        BroadcastReceiver.send(BroadcastReceiver.USER_UPDATE_COIN);\n        this.setEnableAllButtons(true);\n        if (this.lastSpinRes.prize > 0) {\n            // this.lastSpinRes.result = 9;\n            switch (this.lastSpinRes.result) {\n                case 1:\n                    this.sprResult.animation = \"jackport\";\n                    this.sprResult.loop = false;\n                    // this.sprResult.getComponent(cc.Sprite).spriteFrame = this.sfTxtNoHu;\n                    break;\n                case 2:\n                    this.sprResult.animation = \"thùng phá sảnh2\";\n                    // this.sprResult.getComponent(cc.Sprite).spriteFrame = this.sfTxtThungPhaSanh;\n                    break;\n                case 3:\n                    this.sprResult.animation = \"tu quy\";\n                    // this.sprResult.getComponent(cc.Sprite).spriteFrame = this.sfTxtTuQuy;\n                    break;\n                case 4:\n                    this.sprResult.animation = \"cù lũ\";\n                    // this.sprResult.getComponent(cc.Sprite).spriteFrame = this.sfTxtThung;\n                    break;\n                case 5:\n                    this.sprResult.animation = \"thùng\";\n                    // this.sprResult.getComponent(cc.Sprite).spriteFrame = this.sfTxtCuLu;\n                    break;\n                case 6:\n                    this.sprResult.animation = \"sanh\";\n                    // this.sprResult.getComponent(cc.Sprite).spriteFrame = this.sfTxtSanh;\n                    break;\n                case 7:\n                    this.sprResult.animation = \"sám cô\";\n                    // this.sprResult.getComponent(cc.Sprite).spriteFrame = this.sfTxtSamCo;\n                    break;\n                case 8:\n                    this.sprResult.animation = \"hai đôi\";\n                    // this.sprResult.getComponent(cc.Sprite).spriteFrame = this.sfTxtHaiDoi;\n                    break;\n                case 9:\n                    this.sprResult.animation = \"đôi J+\";\n                    // this.sprResult.getComponent(cc.Sprite).spriteFrame = this.sfTxtDoiJ;\n                    break;\n            }\n            this.sprResult.node.active = true;\n            this.sprResult.node.setScale(1);\n\n            this.lblWinCash.active = true;\n            this.lblWinCash.getComponent(cc.Label).string = \"+\" + this.lastSpinRes.prize;\n            this.lblWinCash.setPosition(0, 42);\n            this.lblWinCash.runAction(cc.sequence(\n                cc.delayTime(0.5),\n                cc.moveBy(1, cc.v2(0, 140)),\n                cc.delayTime(1),\n                cc.callFunc(() => {\n                    this.sprResult.node.active = false;\n                    this.lblWinCash.active = false;\n                    this.scheduleOnce(() => {\n                        this.isSpined = true;\n                        if (this.toggleAuto.isChecked || this.isBoost) {\n                            this.actSpin();\n                        } else {\n                            for (var i = 0; i < this.buttonBets.length; i++) {\n                                this.buttonBets[i].button.interactable = true;\n                            }\n                        }\n                    }, 0.2);\n                })\n            ));\n        } else {\n            this.scheduleOnce(() => {\n                this.isSpined = true;\n                if (this.toggleAuto.isChecked || this.isBoost) {\n                    this.actSpin();\n                } else {\n                    for (var i = 0; i < this.buttonBets.length; i++) {\n                        this.buttonBets[i].button.interactable = true;\n                    }\n                }\n            }, 0.4);\n        }\n    }\n\n    dismiss() {\n        super.dismiss();\n        for (let i = 0; i < this.popups.length; i++) {\n            this.popups[i].active = false;\n        }\n        App.instance.hideGameMini(\"MiniPoker\");\n        MiniGameNetworkClient.getInstance().send(new cmd.SendUnScribe(this.betIdx));\n    }\n    actPopupGuide() {\n        if (this.popupGuide == null) {\n            BundleControl.loadPrefabGame(\"MiniPoker\", \"res/prefabs/PopupGuide\", (finish, total) => {\n                // App.instance.showErrLoading(App.instance.getTextLang('txt_loading1') + parseInt((finish / total) * 100) + \"%\");\n            }, prefab => {\n                App.instance.showLoading(false);\n                this.popupGuide = cc.instantiate(prefab).getComponent(\"Dialog\");\n                this.popupGuide.node.parent = this.popupContainer;\n                this.popupGuide.show();\n                this.popups.push(this.popupGuide.node);\n            });\n        } else {\n            this.popupGuide.show();\n        }\n    }\n    actPopupHistory() {\n        if (this.popupHistory == null) {\n            BundleControl.loadPrefabGame(\"MiniPoker\", \"res/prefabs/PopupHistory\", (finish, total) => {\n                // App.instance.showErrLoading(App.instance.getTextLang('txt_loading1') + parseInt((finish / total) * 100) + \"%\");\n            }, prefab => {\n                App.instance.showLoading(false);\n                this.popupHistory = cc.instantiate(prefab).getComponent(\"MiniPoker.PopupHistory\");\n                this.popupHistory.node.parent = this.popupContainer;\n                this.popupHistory.show();\n                this.popups.push(this.popupHistory.node);\n            });\n        } else {\n            this.popupHistory.show();\n        }\n    }\n    actPopupHonor() {\n        if (this.popupHonor == null) {\n            BundleControl.loadPrefabGame(\"MiniPoker\", \"res/prefabs/PopupHonors\", (finish, total) => {\n                // App.instance.showErrLoading(App.instance.getTextLang('txt_loading1') + parseInt((finish / total) * 100) + \"%\");\n            }, prefab => {\n                App.instance.showLoading(false);\n                this.popupHonor = cc.instantiate(prefab).getComponent(\"MiniPoker.PopupHonors\");\n                this.popupHonor.node.parent = this.popupContainer;\n                this.popupHonor.show();\n                this.popups.push(this.popupHonor.node);\n            });\n        } else {\n            this.popupHonor.show();\n        }\n    }\n    public reOrder() {\n        super.reOrder();\n    }\n}\n"]}
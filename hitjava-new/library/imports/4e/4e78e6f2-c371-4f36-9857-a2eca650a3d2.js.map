{"version":3,"sources":["assets\\Slot4\\Slot4Script\\Slot4.Lobby.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["\nimport App from \"../../Lobby/LobbyScript/Script/common/App\";\nimport Tween from \"../../Lobby/LobbyScript/Script/common/Tween\";\nimport SlotNetworkClient from \"../../Lobby/LobbyScript/Script/networks/SlotNetworkClient\";\nimport cmd from \"./Slot4Cmd\";\nimport Slot4Controller from \"./Slot4Controller\";\n\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class Slot4Lobby extends cc.Component {\n\n    @property([cc.Label])\n    listPot : cc.Label[] = [];\n    @property([cc.Node])\n    rooms : cc.Node[] = [];\n\n    mSlotController : Slot4Controller = null;\n\n    public init(pSlot3Controller : Slot4Controller){\n        this.mSlotController = pSlot3Controller;\n        this.node.zIndex=2;\n        this.show();\n    }\n\n    show(){\n        this.node.active = true;\n        this.showAnimation();\n    }\n\n    hide(){\n        this.node.active = false;\n    }\n\n    showAnimation () {\n        var self = this;\n        for(var i=0;i<this.rooms.length;i++){\n            var nodeBox = this.rooms[i]\n            cc.Tween.stopAllByTarget(nodeBox);\n            nodeBox.opacity = 0;\n            if (i == 0) {\n                nodeBox.position = cc.v3(-200, 0,0);\n            }\n            else if (i == 1) {\n                nodeBox.position = cc.v3(0, -200,0);\n            }\n            else if (i == 2) {\n                nodeBox.position = cc.v3(0, 200,0);\n            }\n            else {\n                nodeBox.position = cc.v3(200, 0,0);\n            }\n            cc.tween(nodeBox)\n                .to(1, { position: cc.v3(0, 0,0), opacity: 255 }, { easing: \"backOut\" })\n                .start();\n        }\n    }\n    \n    public onBtnBack(){\n        if (this.mSlotController.isSound) {\n            cc.audioEngine.play(this.mSlotController.soundClick, false, 1);\n        }\n        SlotNetworkClient.getInstance().send(new cmd.SendUnSubcribe(this.mSlotController.betId));\n        cc.audioEngine.stopAll();\n        App.instance.loadScene(\"Lobby\");\n    }\n\n    private onBtnTry(){\n        this.mSlotController.betId = 0;\n        SlotNetworkClient.getInstance().send(new cmd.SendSubcribe(this.mSlotController.betId));\n        this.node.active = false;\n        \n        this.mSlotController.onJoinRoom(null);\n        this.mSlotController.isTrial = false;\n    }\n\n\n    public onUpdateJackpot(pData){\n        let res = new cmd.ResUpdateJackpotSlots(pData);\n        let resJson = JSON.parse(res.pots);\n        Tween.numberTo(this.listPot[0], resJson['tamhung']['100'].p, 0.3);\n        Tween.numberTo(this.listPot[1], resJson['tamhung']['1000'].p, 0.3);\n        Tween.numberTo(this.listPot[2], resJson['tamhung']['10000'].p, 0.3);\n    }\n}\n"]}
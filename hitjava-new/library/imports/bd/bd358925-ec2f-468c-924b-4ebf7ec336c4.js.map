{"version":3,"sources":["assets\\Lobby\\LobbyScript\\PopupConfirmTransfer.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AACA,qDAAgD;AAChD,+CAA0C;AAC1C,2CAAsC;AACtC,iDAA4C;AAC5C,+CAA0C;AAEpC,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAC5C,IAAI,IAAI,GAAG;IACP,MAAM,EAAE,CAAC;IACT,OAAO,EAAE,CAAC;CACb,CAAA;AAED;IAAkD,wCAAM;IAAxD;QAAA,qEAkIC;QA/HG,kBAAY,GAAa,IAAI,CAAC;QAE9B,gBAAU,GAAa,IAAI,CAAC;QAE5B,oBAAc,GAAa,IAAI,CAAC;QAEhC,sBAAgB,GAAa,IAAI,CAAC;QAElC,uBAAiB,GAAa,IAAI,CAAC;QAEnC,kBAAY,GAAa,IAAI,CAAC;QAE9B,cAAQ,GAAa,IAAI,CAAC;QAE1B,eAAS,GAAa,IAAI,CAAC;QAE3B,oBAAc,GAAY,IAAI,CAAC;QAE/B,wBAAwB;QACxB,UAAI,GAAG,CAAC,CAAC;QACD,gBAAU,GAAQ,IAAI,CAAC;QACvB,iBAAW,GAAQ,IAAI,CAAC;;QAyGhC,iBAAiB;IACrB,CAAC;IAzGG,eAAe;IAEf,oCAAK,GAAL;IAEA,CAAC;IACD,4CAAa,GAAb,UAAc,IAAI;QACd,mCAAmC;QACnC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;QACvC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;QAClC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;QAEzC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC;QACxB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;QACvB,IAAI,CAAC,YAAY,CAAC,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC;QAC7C,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC;QAC1C,IAAI,CAAC,cAAc,CAAC,MAAM,GAAG,IAAI,CAAC,cAAc,CAAC,CAAC;QAClD,IAAI,CAAC,gBAAgB,CAAC,MAAM,GAAG,IAAI,CAAC,gBAAgB,CAAC,CAAC;QACtD,IAAI,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,MAAM,GAAG,EAAE,EAAE;YAC1C,IAAI,CAAC,gBAAgB,CAAC,MAAM,GAAG,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,KAAK,CAAC;SACpF;QACD,IAAI,CAAC,YAAY,CAAC,MAAM,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC;QAC/C,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,eAAK,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;QAC1D,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC;QAEpC,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC,mBAAmB,CAAC,CAAC,MAAM,GAAG,KAAK,CAAC;QACvE,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC,kBAAkB,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC;QACrE,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC,cAAc,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC;QACjE,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC;QAC5D,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;IACzC,CAAC;IACD,6CAAc,GAAd,UAAe,IAAI;QACf,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC;QACzB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;QACxB,oCAAoC;QACpC,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC,mBAAmB,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC;QACtE,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;QAE1C,IAAI,CAAC,YAAY,CAAC,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC;QAC7C,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC;QAC1C,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,eAAK,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;QAC1D,IAAI,CAAC,iBAAiB,CAAC,MAAM,GAAG,IAAI,CAAC,iBAAiB,CAAC,CAAC;QACxD,IAAI,CAAC,cAAc,CAAC,MAAM,GAAG,IAAI,CAAC,cAAc,CAAC,CAAC;QAElD,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACnC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QAC1C,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC,kBAAkB,CAAC,CAAC,MAAM,GAAG,KAAK,CAAC;QACtE,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC,cAAc,CAAC,CAAC,MAAM,GAAG,KAAK,CAAC;QAClE,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,MAAM,GAAG,KAAK,CAAC;QAC7D,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;IAG1C,CAAC;IACD,6CAAc,GAAd;QAAA,iBAkDC;QAjDG,EAAE,CAAC,GAAG,CAAC,WAAW,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC;QAChC,IAAI,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,MAAM,EAAE;YAC1B,EAAE,CAAC,GAAG,CAAC,eAAe,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;YACzC,gGAAgG;YAChG,aAAG,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;YAC/B,cAAI,CAAC,GAAG,CAAC,iBAAO,CAAC,GAAG,CAAC,IAAI,EAAE;gBACvB,GAAG,EAAE,IAAI;gBACT,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC;gBAC/B,IAAI,EAAE,iBAAO,CAAC,KAAK,CAAC,QAAQ;gBAC5B,IAAI,EAAE,iBAAO,CAAC,KAAK,CAAC,WAAW;gBAC/B,MAAM,EAAE,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC;gBACnC,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC;gBAC7B,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC;gBACrC,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC;aAC1C,EAAE,UAAC,GAAG,EAAE,GAAG;gBACR,aAAG,CAAC,QAAQ,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;gBAChC,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;gBACZ,IAAI,GAAG,CAAC,SAAS,CAAC,EAAE;oBAChB,aAAG,CAAC,QAAQ,CAAC,eAAe,CAAC,aAAG,CAAC,QAAQ,CAAC,WAAW,CAAC,4BAA4B,CAAC,CAAC,CAAC;oBACrF,KAAI,CAAC,OAAO,EAAE,CAAC;iBAClB;qBAAM;oBACH,aAAG,CAAC,QAAQ,CAAC,eAAe,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC;oBAC7C,KAAI,CAAC,OAAO,EAAE,CAAC;iBAClB;YACL,CAAC,CAAC,CAAC;SACN;aAAM;YACH,EAAE,CAAC,GAAG,CAAC,YAAY,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;YACvC,wEAAwE;YACxE,aAAG,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;YAC/B,cAAI,CAAC,GAAG,CAAC,iBAAO,CAAC,GAAG,CAAC,IAAI,EAAE;gBACvB,GAAG,EAAE,IAAI;gBACT,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC;gBAChC,IAAI,EAAE,iBAAO,CAAC,KAAK,CAAC,QAAQ;gBAC5B,IAAI,EAAE,iBAAO,CAAC,KAAK,CAAC,WAAW;gBAC/B,MAAM,EAAE,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC;gBACpC,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC;aAC3C,EAAE,UAAC,GAAG,EAAE,GAAG;gBACR,aAAG,CAAC,QAAQ,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;gBAChC,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;gBACZ,IAAI,GAAG,CAAC,SAAS,CAAC,EAAE;oBAChB,aAAG,CAAC,QAAQ,CAAC,eAAe,CAAC,aAAG,CAAC,QAAQ,CAAC,WAAW,CAAC,4BAA4B,CAAC,CAAC,CAAC;oBACrF,KAAI,CAAC,OAAO,EAAE,CAAC;iBAClB;qBAAM;oBACH,aAAG,CAAC,QAAQ,CAAC,eAAe,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC;oBAC7C,KAAI,CAAC,OAAO,EAAE,CAAC;iBAClB;YACL,CAAC,CAAC,CAAC;SACN;IAEL,CAAC;IA5HD;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;8DACW;IAE9B;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;4DACS;IAE5B;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;gEACa;IAEhC;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;kEACe;IAElC;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;mEACgB;IAEnC;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;8DACW;IAE9B;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;0DACO;IAE1B;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;2DACQ;IAE3B;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;gEACa;IAnBd,oBAAoB;QADxC,OAAO;OACa,oBAAoB,CAkIxC;IAAD,2BAAC;CAlID,AAkIC,CAlIiD,gBAAM,GAkIvD;kBAlIoB,oBAAoB","file":"","sourceRoot":"/","sourcesContent":["\nimport Configs from \"../../Loading/src/Configs\";\nimport Http from \"../../Loading/src/Http\";\nimport App from \"./Script/common/App\";\nimport Dialog from \"./Script/common/Dialog\";\nimport Utils from \"./Script/common/Utils\";\n\nconst { ccclass, property } = cc._decorator;\nvar TYPE = {\n    CASHIN: 0,\n    CASHOUT: 1\n}\n@ccclass\nexport default class PopupConfirmTransfer extends Dialog {\n\n    @property(cc.Label)\n    lbNameAgency: cc.Label = null;\n    @property(cc.Label)\n    lbNickname: cc.Label = null;\n    @property(cc.Label)\n    lbUserBankName: cc.Label = null;\n    @property(cc.Label)\n    lbAgencyBankName: cc.Label = null;\n    @property(cc.Label)\n    lbUserAccountName: cc.Label = null;\n    @property(cc.Label)\n    lbBankNumber: cc.Label = null;\n    @property(cc.Label)\n    lbAmount: cc.Label = null;\n    @property(cc.Label)\n    lbContent: cc.Label = null;\n    @property(cc.Node)\n    titleContainer: cc.Node = null;\n\n    // LIFE-CYCLE CALLBACKS:\n    type = 0;\n    private dataCashIn: any = null;\n    private dataCashOut: any = null;\n    // onLoad () {}\n\n    start() {\n\n    }\n    setInfoCashIn(data) {\n        //  cc.log(\"setInfoCashIn:\", data);\n        this.lbUserBankName.node.active = true;\n        this.lbContent.node.active = true;\n        this.lbAgencyBankName.node.active = true;\n\n        this.type = TYPE.CASHIN;\n        this.dataCashIn = data;\n        this.lbNameAgency.string = data['nameagent'];\n        this.lbNickname.string = data['nickname'];\n        this.lbUserBankName.string = data['usernamebank'];\n        this.lbAgencyBankName.string = data['agencynamebank'];\n        if (this.lbAgencyBankName.string.length > 20) {\n            this.lbAgencyBankName.string = this.lbAgencyBankName.string.slice(0, 20) + \"...\";\n        }\n        this.lbBankNumber.string = data['bank_number'];\n        this.lbAmount.string = Utils.formatNumber(data['amount']);\n        this.lbContent.string = data['cid'];\n\n        this.titleContainer.getChildByName('lbUserAccountName').active = false;\n        this.titleContainer.getChildByName('lbAgencyBankName').active = true;\n        this.titleContainer.getChildByName('lbBankNumber').active = true;\n        this.titleContainer.getChildByName('Content').active = true;\n        this.lbBankNumber.node.active = true;\n    }\n    setInfoCashOut(data) {\n        this.type = TYPE.CASHOUT;\n        this.dataCashOut = data;\n        //  cc.log(\"setInfoCashOut:\", data);\n        this.titleContainer.getChildByName('lbUserAccountName').active = true;\n        this.lbUserAccountName.node.active = true;\n\n        this.lbNameAgency.string = data['nameagent'];\n        this.lbNickname.string = data['nickname'];\n        this.lbAmount.string = Utils.formatNumber(data['amount']);\n        this.lbUserAccountName.string = data['useraccountname'];\n        this.lbUserBankName.string = data['userbankname'];\n\n        this.lbContent.node.active = false;\n        this.lbAgencyBankName.node.active = false;\n        this.titleContainer.getChildByName('lbAgencyBankName').active = false;\n        this.titleContainer.getChildByName('lbBankNumber').active = false;\n        this.titleContainer.getChildByName('Content').active = false;\n        this.lbBankNumber.node.active = false;\n\n\n    }\n    onClickConfirm() {\n        cc.log(\"TYPE TAB:\" + this.type);\n        if (this.type == TYPE.CASHIN) {\n            cc.log(\"DataCassh IN=\", this.dataCashIn);\n            //api?c=2003&am=100000&code=367457&abn=2222&bc=TPB&cid=1122334455&nn=BigBird&at=123123&bn=1234\",\n            App.instance.showLoading(true);\n            Http.get(Configs.App.API2, {\n                \"c\": 2003,\n                \"am\": this.dataCashIn['amount'],\n                \"nn\": Configs.Login.Nickname,\n                \"at\": Configs.Login.AccessToken,\n                \"code\": this.dataCashIn['agencyID'],\n                \"cid\": this.dataCashIn['cid'],\n                \"abn\": this.dataCashIn['bank_number'],\n                \"bn\": this.dataCashIn['userbanknumber'],\n            }, (err, res) => {\n                App.instance.showLoading(false);\n                cc.log(res);\n                if (res['success']) {\n                    App.instance.ShowAlertDialog(App.instance.getTextLang('txt_request_cashin_success'));\n                    this.dismiss();\n                } else {\n                    App.instance.ShowAlertDialog(res['message']);\n                    this.dismiss();\n                }\n            });\n        } else {\n            cc.log(\"DataCassh=\", this.dataCashOut);\n            //api?c=2010&am=100000&code=367457&bc=TPB&nn=BigBird&at=123123&bn=1234\",\n            App.instance.showLoading(true);\n            Http.get(Configs.App.API2, {\n                \"c\": 2010,\n                \"am\": this.dataCashOut['amount'],\n                \"nn\": Configs.Login.Nickname,\n                \"at\": Configs.Login.AccessToken,\n                \"code\": this.dataCashOut['agencyID'],\n                \"bn\": this.dataCashOut['userbanknumber'],\n            }, (err, res) => {\n                App.instance.showLoading(false);\n                cc.log(res);\n                if (res['success']) {\n                    App.instance.ShowAlertDialog(App.instance.getTextLang('txt_request_cashin_success'));\n                    this.dismiss();\n                } else {\n                    App.instance.ShowAlertDialog(res['message']);\n                    this.dismiss();\n                }\n            });\n        }\n\n    }\n\n    // update (dt) {}\n}\n"]}
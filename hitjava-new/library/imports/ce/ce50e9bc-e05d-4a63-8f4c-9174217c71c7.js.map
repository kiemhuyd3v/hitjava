{"version":3,"sources":["assets\\Lobby\\LobbyScript\\Payment\\TabTopupNapThe.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import Configs from \"../../../Loading/src/Configs\";\nimport Http from \"../../../Loading/src/Http\";\nimport App from \"../Script/common/App\";\nimport Utils from \"../Script/common/Utils\";\nimport TabTopupChuyenKhoan from \"./TabTopupChuyenKhoan\";\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class TabTopupNapThe extends TabTopupChuyenKhoan {\n\n    @property(cc.Label)\n    lbFree: cc.Label = null;\n    @property({\n        type: cc.EditBox,\n        displayName: \"edbCardPin\",\n        override: true\n    })\n    editName: cc.EditBox = null;\n    @property({\n        type: cc.EditBox,\n        displayName: \"edbCardSeri\",\n        override: true\n    })\n    editMoney: cc.EditBox = null;\n\n    private listCard = [{ value: 10000, str: \"10.000 VNĐ\" }, { value: 20000, str: \"20.000 VNĐ\" }, { value: 50000, str: \"50.000 VNĐ\" }, { value: 100000, str: \"100.000 VNĐ\" }, { value: 200000, str: \"200.000 VNĐ\" }, { value: 500000, str: \"500.000 VNĐ\" }]\n    private listRateCard = [{ type: \"VNM\", fee: \"26%\" }, { type: \"GATE\", fee: \"32%\" }, { type: \"VCOIN\", fee: \"32%\" }, { type: \"VMS\", fee: \"26%\" }, { type: \"VTT\", fee: \"24%\" }, { type: \"VNP\", fee: \"26%\" }, { type: \"ZING\", fee: \"32%\" }]\n    show(data, providerName) {\n        super.show(data, providerName);\n        this.loadCardList();\n        this.lbFree.string = \"- Mỗi loại thẻ có phí nạp khác nhau.\";\n    }\n    onBtnXacNhan() {\n        let cardPin = this.editName.string.trim();\n        let seri = this.editMoney.string.trim();\n        var money = Utils.formatEditBox(this.dropCard.labelCaption.string);\n        if (seri == \"\" || cardPin == \"\" || this.dataBankChosing == null) {\n            App.instance.ShowAlertDialog(App.instance.getTextLang(\"txt_input_all\"));\n            return;\n        }\n        App.instance.showLoading(true, -1);\n        let request = {\n            \"c\": 2033,\n            \"p\": cardPin,\n            \"sn\": seri,\n            \"am\": money,\n            \"tc\": this.dataBankChosing['key'],\n            \"nn\": Configs.Login.Nickname,\n            \"at\": Configs.Login.AccessToken,\n        };\n        //  cc.log(\"request:\", request);\n        Http.get(Configs.App.API, request, (err, res) => {\n            App.instance.showLoading(false);\n            //  cc.log(res);\n            if (res.success == true) {\n                App.instance.ShowAlertDialog(\"Yêu cầu nạp thẻ đã được gửi thành công!\\nQuý khách vui lòng chờ trong ít phút!\");\n            }\n            else {\n                App.instance.ShowAlertDialog(\"Thông tin thẻ không đúng.\\nVui lòng kiểm tra lại!\");\n            }\n        });\n    }\n    loadCardList() {\n        var datas = new Array();\n        for (var i = 0; i < this.listCard.length; i++) {\n            datas.push({ optionString: this.listCard[i]['str'] });\n        }\n        this.dropCard.clearOptionDatas();\n        this.dropCard.addOptionDatas(datas);\n        this.dropCard.selectedIndex = 0;\n    }\n    onBtnChoseBank() {\n        this.lobbyChoseBank.init(this.tabWell, this.data.banks, (dataBankChosing) => {\n            this.dataBankChosing = dataBankChosing;\n            //  cc.log(\"data card=\", this.dataBankChosing);\n            for (let i = 0; i < this.listRateCard.length; i++) {\n                if (this.dataBankChosing['key'] == this.listRateCard[i]['type']) {\n                    this.lbFree.string = \"- Phí nạp: \" + this.listRateCard[i]['fee'];\n                }\n            }\n            this.showBankChosing();\n        });\n        this.lobbyChoseBank.show();\n    }\n}\n"]}
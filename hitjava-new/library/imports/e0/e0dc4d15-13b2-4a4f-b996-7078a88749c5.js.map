{"version":3,"sources":["assets\\TaiXiuDouble\\TaiXiuScript\\TaiXiu2\\TaiXiuMini2.TaiXiuMiniController.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import Configs from \"../../../Loading/src/Configs\";\nimport BroadcastReceiver from \"../../../Lobby/LobbyScript/Script/common/BroadcastReceiver\";\nimport Tween from \"../../../Lobby/LobbyScript/Script/common/Tween\";\nimport Utils from \"../../../Lobby/LobbyScript/Script/common/Utils\";\nimport InPacket from \"../../../Lobby/LobbyScript/Script/networks/Network.InPacket\";\nimport TX2NetworkClient from \"../../../Lobby/LobbyScript/Script/networks/TX2NetworkClient\";\nimport TaiXiuDoubleController from \"../src/TaiXiuDouble.Controller\";\nimport cmd from \"./TaiXiuMini2.Cmd\";\nimport PanelChat from \"./TaiXiuMini2.PanelChat\";\n\nimport PopupDetailHistory from \"./TaiXiuMini2.PopupDetailHistory\";\n\n\nconst { ccclass, property } = cc._decorator;\n\nenum BetDoor {\n    None, Tai, Xiu\n}\n\n@ccclass\nexport default class TaiXiuMini2Controller extends cc.Component {\n\n    static instance: TaiXiuMini2Controller = null;\n\n    @property(cc.Node)\n    gamePlay: cc.Node = null;\n    @property([cc.SpriteFrame])\n    sprDices: Array<cc.SpriteFrame> = new Array<cc.SpriteFrame>();\n    @property(cc.SpriteFrame)\n    sprFrameTai: cc.SpriteFrame = null;\n    @property(cc.SpriteFrame)\n    sprFrameXiu: cc.SpriteFrame = null;\n    @property(cc.SpriteFrame)\n    sprFrameBtnNan: cc.SpriteFrame = null;\n    @property(cc.SpriteFrame)\n    sprFrameBtnNan2: cc.SpriteFrame = null;\n    @property(cc.Label)\n    lblSession: cc.Label = null;\n    @property(cc.Label)\n    lblRemainTime: cc.Label = null;\n    @property(cc.Label)\n    lblRemainTime2: cc.Label = null;\n    @property(cc.Label)\n    lblScore: cc.Label = null;\n    @property(cc.Label)\n    lblUserTai: cc.Label = null;\n    @property(cc.Label)\n    lblUserXiu: cc.Label = null;\n    @property(cc.Label)\n    lblTotalBetTai: cc.Label = null;\n    @property(cc.Label)\n    lblTotalBetXiu: cc.Label = null;\n    @property(cc.Label)\n    lblBetTai: cc.Label = null;\n    @property(cc.Label)\n    lblBetXiu: cc.Label = null;\n    @property(cc.Label)\n    lblBetedTai: cc.Label = null;\n    @property(cc.Label)\n    lblBetedXiu: cc.Label = null;\n    @property(cc.Sprite)\n    dice1: cc.Sprite = null;\n    @property(cc.Sprite)\n    dice2: cc.Sprite = null;\n    @property(cc.Sprite)\n    dice3: cc.Sprite = null;\n    @property(cc.Node)\n    diceAnim: cc.Node = null;\n    @property(cc.Node)\n    bowl: cc.Node = null;\n    @property(cc.Node)\n    tai: cc.Node = null;\n    @property(cc.Node)\n    xiu: cc.Node = null;\n    @property(cc.Node)\n    btnHistories: cc.Node = null;\n    @property(cc.Node)\n    nodePanelChat: cc.Node = null;\n    @property(cc.Node)\n    layoutBet: cc.Node = null;\n    @property(cc.Node)\n    layoutBet1: cc.Node = null;\n    @property(cc.Node)\n    layoutBet2: cc.Node = null;\n    @property([cc.Button])\n    buttonsBet1: Array<cc.Button> = new Array<cc.Button>();\n    @property([cc.Button])\n    buttonsBet2: Array<cc.Button> = new Array<cc.Button>();\n    @property(cc.Label)\n    lblToast: cc.Label = null;\n    @property(cc.Label)\n    lblWinCash: cc.Label = null;\n    @property(cc.Node)\n    btnNan: cc.Node = null;\n    \n    @property(PopupDetailHistory)\n    popupDetailHistory: PopupDetailHistory = null;\n    \n    @property([cc.Node])\n    public popups: cc.Node[] = [];\n\n    private isBetting = false;\n    private remainTime = 0;\n    private canBet = true;\n    private betedTai = 0;\n    private betedXiu = 0;\n    private referenceId = 0;\n    private betingValue = -1;\n    private betingDoor = BetDoor.None;\n    private isOpenBowl = false;\n    private lastWinCash = 0;\n    private lastScore = 0;\n    private isNan = false;\n    histories = [];\n    private isCanChat = true;\n    private panelChat: PanelChat = null;\n    private readonly maxBetValue = 999999999;\n    private listBets = [1000, 5000, 10000, 50000, 100000, 500000, 1000000, 10000000];\n    private readonly bowlStartPos = cc.v2(0, -15);\n\n    onLoad() {\n        TaiXiuMini2Controller.instance = this;\n    }\n\n    start() {\n        BroadcastReceiver.register(BroadcastReceiver.USER_LOGOUT, () => {\n            if (!this.node.active) return;\n            this.dismiss();\n        }, this);\n\n        TX2NetworkClient.getInstance().addOnClose(() => {\n            if (!this.node.active) return;\n            this.dismiss();\n        }, this);\n\n        TX2NetworkClient.getInstance().addListener((data: Uint8Array) => {\n            if (!this.node.active) return;\n            let inpacket = new InPacket(data);\n            switch (inpacket.getCmdId()) {\n                case cmd.Code.GAME_INFO: {\n                    let res = new cmd.ReceiveGameInfo(data);\n                    this.stopWin();\n                    this.bowl.active = false;\n                    if (res.bettingState) {\n                        this.isBetting = true;\n                        this.dice1.node.active = false;\n                        this.dice2.node.active = false;\n                        this.dice3.node.active = false;\n                        this.lblRemainTime.node.active = true;\n                        this.lblRemainTime.string = res.remainTime < 10 ? \"0\" + res.remainTime : \"\" + res.remainTime;\n                        this.lblRemainTime2.node.parent.active = false;\n                        this.lblScore.node.parent.active = false;\n                    } else {\n                        this.lastScore = res.dice1 + res.dice2 + res.dice3;\n                        this.isBetting = false;\n                        this.dice1.node.active = true;\n                        this.dice1.spriteFrame = this.sprDices[res.dice1];\n                        this.dice2.node.active = true;\n                        this.dice2.spriteFrame = this.sprDices[res.dice2];\n                        this.dice3.node.active = true;\n                        this.dice3.spriteFrame = this.sprDices[res.dice3];\n                        this.lblRemainTime.node.active = false;\n                        this.lblRemainTime2.node.parent.active = true;\n                        this.lblRemainTime2.string = \"00:\" + (res.remainTime < 10 ? \"0\" + res.remainTime : \"\" + res.remainTime);\n                        this.showResult();\n                    }\n                    this.diceAnim.active = false;\n                    Tween.numberTo(this.lblTotalBetTai, res.potTai, 0.3);\n                    Tween.numberTo(this.lblTotalBetXiu, res.potXiu, 0.3);\n                    this.betedTai = res.betTai;\n                    this.lblBetedTai.string = Utils.formatNumber(this.betedTai);\n                    this.betedXiu = res.betXiu;\n                    this.lblBetedXiu.string = Utils.formatNumber(this.betedXiu);\n                    this.referenceId = res.referenceId;\n                    this.lblSession.string = \"#\" + res.referenceId;\n                    this.remainTime = res.remainTime;\n                    break;\n                }\n                case cmd.Code.UPDATE_TIME: {\n                    let res = new cmd.ReceiveUpdateTime(data);\n                    if (res.bettingState) {\n                        this.isBetting = true;\n                        this.lblRemainTime.node.active = true;\n                        this.lblRemainTime.string = res.remainTime < 10 ? \"0\" + res.remainTime : \"\" + res.remainTime;\n                        this.lblRemainTime2.node.parent.active = false;\n                        this.lblScore.node.parent.active = false;\n                    } else {\n                        this.isBetting = false;\n                        this.lblRemainTime.node.active = false;\n                        this.lblRemainTime2.node.parent.active = true;\n                        this.lblRemainTime2.string = \"00:\" + (res.remainTime < 10 ? \"0\" + res.remainTime : \"\" + res.remainTime);\n                        this.layoutBet.active = false;\n                        this.lblBetTai.string = \"ĐẶT\";\n                        this.lblBetXiu.string = \"ĐẶT\";\n                        if (res.remainTime < 15 && this.isNan && !this.isOpenBowl) {\n                            this.bowl.active = false;\n                            this.showResult();\n                            this.showWinCash();\n                            this.isOpenBowl = true;\n                        }\n                    }\n                    Tween.numberTo(this.lblTotalBetTai, res.potTai, 0.3);\n                    Tween.numberTo(this.lblTotalBetXiu, res.potXiu, 0.3);\n                    this.lblUserTai.string = \"(\" + Utils.formatNumber(res.numBetTai) + \")\";\n                    this.lblUserXiu.string = \"(\" + Utils.formatNumber(res.numBetXiu) + \")\";\n                    break;\n                }\n                case cmd.Code.DICES_RESULT: {\n                    let res = new cmd.ReceiveDicesResult(data);\n                    this.lastScore = res.dice1 + res.dice2 + res.dice3;\n                    this.lblRemainTime.node.active = false;\n                    this.dice1.spriteFrame = this.sprDices[res.dice1];\n                    this.dice2.spriteFrame = this.sprDices[res.dice2];\n                    this.dice3.spriteFrame = this.sprDices[res.dice3];\n\n                    this.diceAnim.active = true;\n                    this.diceAnim.getComponent(cc.Animation).play(\"shake\");\n                    this.scheduleOnce(() => {\n                        this.diceAnim.active = false;\n                        this.dice1.node.active = true;\n                        this.dice2.node.active = true;\n                        this.dice3.node.active = true;\n\n                        if (!this.isNan) {\n                            this.showResult();\n                        } else {\n                            this.bowl.setPosition(this.bowlStartPos);\n                            this.bowl.active = true;\n                        }\n                    }, 0.95);\n\n                    if (this.histories.length >= 100) {\n                        this.histories.slice(0, 1);\n                    }\n                    this.histories.push({\n                        \"session\": this.referenceId,\n                        \"dices\": [\n                            res.dice1,\n                            res.dice2,\n                            res.dice3\n                        ]\n                    });\n                    break;\n                }\n                case cmd.Code.RESULT: {\n                    let res = new cmd.ReceiveResult(data);\n                    // cc.log(res);\n                    Configs.Login.Coin = res.currentMoney;\n                    this.lastWinCash = res.totalMoney;\n                    if (!this.bowl.active) {\n                        if (res.totalMoney > 0) this.showWinCash();\n                    }\n                    break;\n                }\n                case cmd.Code.NEW_GAME: {\n                    let res = new cmd.ReceiveNewGame(data);\n                    this.diceAnim.active = false;\n                    this.dice1.node.active = false;\n                    this.dice2.node.active = false;\n                    this.dice3.node.active = false;\n                    this.lblTotalBetTai.string = \"0\";\n                    this.lblTotalBetXiu.string = \"0\";\n                    this.lblBetedTai.string = \"0\";\n                    this.lblBetedXiu.string = \"0\";\n                    this.lblUserTai.string = \"(0)\";\n                    this.lblUserXiu.string = \"(0)\";\n                    this.referenceId = res.referenceId;\n                    this.lblSession.string = \"#\" + res.referenceId;\n                    this.betingValue = -1;\n                    this.betingDoor = BetDoor.None;\n                    this.betedTai = 0;\n                    this.betedXiu = 0;\n                    this.isOpenBowl = false;\n                    this.lastWinCash = 0;\n                    this.stopWin();\n                    break;\n                }\n                case cmd.Code.HISTORIES: {\n                    let res = new cmd.ReceiveHistories(data);\n                    var his = res.data.split(\",\");\n                    for (var i = 0; i < his.length; i++) {\n                        this.histories.push({\n                            \"session\": this.referenceId - his.length / 3 + parseInt(\"\" + ((i + 1) / 3)) + (this.isBetting ? 0 : 1),\n                            \"dices\": [\n                                parseInt(his[i]),\n                                parseInt(his[++i]),\n                                parseInt(his[++i])\n                            ]\n                        });\n                    }\n                    this.updateBtnHistories();\n                    break;\n                }\n                case cmd.Code.LOG_CHAT: {\n                    let res = new cmd.ReceiveLogChat(data);\n                    // cc.log(res);\n                    var msgs = JSON.parse(res.message);\n                    for (var i = 0; i < msgs.length; i++) {\n                        this.panelChat.addMessage(msgs[i][\"u\"], msgs[i][\"m\"]);\n                    }\n                    this.panelChat.scrollToBottom();\n                    break;\n                }\n                case cmd.Code.SEND_CHAT: {\n                    let res = new cmd.ReceiveSendChat(data);\n                    switch (res.error) {\n                        case 0:\n                            this.panelChat.addMessage(res.nickname, res.message);\n                            break;\n                        case 2:\n                            this.showToast(\"Bạn không có quyền Chat!\");\n                            break;\n                        case 3:\n                            this.showToast(\"Tạm thời bạn bị cấm Chat!\");\n                            break;\n                        case 4:\n                            this.showToast(\"Nội dung chat quá dài.\");\n                            break;\n                        default:\n                            this.showToast(\"Bạn không thể chat vào lúc này.\");\n                            break;\n                    }\n                    // cc.log(res);\n                    break;\n                }\n                case cmd.Code.BET: {\n                    let res = new cmd.ReceiveBet(data);\n                    switch (res.result) {\n                        case 0:\n                            switch (this.betingDoor) {\n                                case BetDoor.Tai:\n                                    this.betedTai += this.betingValue;\n                                    this.lblBetedTai.string = Utils.formatNumber(this.betedTai);\n                                    break;\n                                case BetDoor.Xiu:\n                                    this.betedXiu += this.betingValue;\n                                    this.lblBetedXiu.string = Utils.formatNumber(this.betedXiu);\n                                    break;\n                            }\n                            Configs.Login.Coin = res.currentMoney;\n                            BroadcastReceiver.send(BroadcastReceiver.USER_UPDATE_COIN);\n\n                            this.betingValue = -1;\n                            this.showToast(\"Đặt cược thành công.\");\n                            break;\n                        case 2:\n                            this.betingValue = -1;\n                            this.showToast(\"Hết thời gian cược.\");\n                            break;\n                        case 3:\n                            this.betingValue = -1;\n                            this.showToast(\"Số dư không đủ vui lòng nạp thêm.\");\n                            break;\n                        case 4:\n                            this.betingValue = -1;\n                            this.showToast(\"Số tiền cược không hợp lệ.\");\n                            break;\n                        default:\n                            this.betingValue = -1;\n                            this.showToast(\"Đặt cược không thành công.\");\n                            break;\n                    }\n                    break;\n                }\n                default:\n                    // cc.log(inpacket.getCmdId());\n                    break;\n            }\n        }, this);\n        for (let i = 0; i < this.buttonsBet1.length; i++) {\n            let btn = this.buttonsBet1[i];\n            let value = this.listBets[i];\n            let strValue = value + \"\";\n            if (value >= 1000000) {\n                strValue = (value / 1000000) + \"M\";\n            } else if (value >= 1000) {\n                strValue = (value / 1000) + \"K\";\n            }\n            btn.getComponentInChildren(cc.Label).string = strValue;\n            btn.node.on(\"click\", () => {\n                if (this.betingDoor === BetDoor.None) return;\n                let lblBet = this.betingDoor === BetDoor.Tai ? this.lblBetTai : this.lblBetXiu;\n                let number = Utils.stringToInt(lblBet.string) + value;\n                if (number > this.maxBetValue) number = this.maxBetValue;\n                lblBet.string = Utils.formatNumber(number);\n            });\n        }\n        for (let i = 0; i < this.buttonsBet2.length; i++) {\n            let btn = this.buttonsBet2[i];\n            let value = btn.getComponentInChildren(cc.Label).string;\n            btn.node.on(\"click\", () => {\n                if (this.betingDoor === BetDoor.None) return;\n                let lblBet = this.betingDoor === BetDoor.Tai ? this.lblBetTai : this.lblBetXiu;\n                let number = Utils.stringToInt(lblBet.string + value);\n                if (number > this.maxBetValue) number = this.maxBetValue;\n                lblBet.string = Utils.formatNumber(number);\n            });\n        }\n\n        this.bowl.on(cc.Node.EventType.TOUCH_MOVE, (event: cc.Event.EventTouch) => {\n            var pos = this.bowl.position;\n            pos.x += event.getDeltaX();\n            pos.y += event.getDeltaY();\n            this.bowl.position = pos;\n\n            let distance = Utils.v2Distance(new cc.Vec2(pos.x,pos.y), this.bowlStartPos);\n            // cc.log(distance);\n            if (Math.abs(distance) > 100) {\n                this.bowl.active = false;\n                this.isOpenBowl = true;\n                this.showResult();\n                this.showWinCash();\n            }\n        }, this);\n    }\n\n    show() {\n        this.layoutBet.active = false;\n        this.lblToast.node.parent.active = false;\n        this.lblWinCash.node.active = false;\n        this.layoutBet.active = false;\n        this.diceAnim.active = false;\n        this.bowl.active = false;\n        this.dice1.node.active = false;\n        this.dice2.node.active = false;\n        this.dice3.node.active = false;\n        TX2NetworkClient.getInstance().send(new cmd.SendScribe());\n        this.showChat();\n    }\n\n    showChat() {\n        this.panelChat = this.nodePanelChat.getComponent(PanelChat);\n        this.panelChat.show(true);\n    }\n\n    dismiss() {\n        for (let i = 0; i < this.popups.length; i++) {\n            this.popups[i].active = false;\n        }\n        if(this.panelChat != null) this.panelChat.show(false);\n        TX2NetworkClient.getInstance().send(new cmd.SendUnScribe());\n    }\n\n    actClose() {\n        TaiXiuDoubleController.instance.dismiss();\n    }\n\n    actChat() {\n        this.panelChat.show(!this.panelChat.node.active);\n    }\n\n    actBetTai() {\n        if (!this.isBetting) {\n            this.showToast(\"Chưa đến thời gian đặt cược.\");\n            return;\n        }\n        if (this.betingValue >= 0) {\n            this.showToast(\"Bạn thao tác quá nhanh.\");\n            return;\n        }\n        if (this.betedXiu > 0) {\n            this.showToast(\"Bạn không thể đặt 2 cửa.\");\n            return;\n        }\n        this.betingDoor = BetDoor.Tai;\n        this.lblBetTai.string = \"0\";\n        this.lblBetXiu.string = \"ĐẶT\";\n        this.layoutBet.active = true;\n        this.layoutBet1.active = true;\n        this.layoutBet2.active = false;\n    }\n\n    actBetXiu() {\n        if (!this.isBetting) {\n            this.showToast(\"Chưa đến thời gian đặt cược.\");\n            return;\n        }\n        if (this.betingValue >= 0) {\n            this.showToast(\"Bạn thao tác quá nhanh.\");\n            return;\n        }\n        if (this.betedTai > 0) {\n            this.showToast(\"Bạn không thể đặt 2 cửa.\");\n            return;\n        }\n        this.betingDoor = BetDoor.Xiu;\n        this.lblBetXiu.string = \"0\";\n        this.lblBetTai.string = \"ĐẶT\";\n        this.layoutBet.active = true;\n        this.layoutBet1.active = true;\n        this.layoutBet2.active = false;\n    }\n\n    actOtherNumber() {\n        this.layoutBet1.active = false;\n        this.layoutBet2.active = true;\n    }\n\n    actAgree() {\n        if (this.betingValue >= 0 || !this.canBet) {\n            this.showToast(\"Bạn thao tác quá nhanh.\");\n            return;\n        }\n        if (this.betingDoor === BetDoor.None) return;\n        var lblBet = this.betingDoor === BetDoor.Tai ? this.lblBetTai : this.lblBetXiu;\n        this.betingValue = Utils.stringToInt(lblBet.string);\n        this.betingDoor = this.betingDoor;\n        TX2NetworkClient.getInstance().send(new cmd.SendBet(this.referenceId, this.betingValue, this.betingDoor == BetDoor.Tai ? 1 : 0, this.remainTime));\n        lblBet.string = \"0\";\n\n        this.canBet = false;\n        this.scheduleOnce(function () {\n            this.canBet = true;\n        }, 1);\n    }\n\n    actCancel() {\n        this.lblBetXiu.string = \"ĐẶT\";\n        this.lblBetTai.string = \"ĐẶT\";\n        this.betingDoor = BetDoor.None;\n        this.layoutBet.active = false;\n    }\n\n    actBtnGapDoi() {\n        //  cc.log(\"actBtnGapDoi:\"+Configs.Login.Coin+\":\"+this.betingDoor);\n        if (this.betingDoor === BetDoor.None) return;\n        let lblBet = this.betingDoor === BetDoor.Tai ? this.lblBetTai : this.lblBetXiu;\n       \n        let number = Utils.stringToInt(lblBet.string) + Configs.Login.Coin;\n        if (number > this.maxBetValue) number = this.maxBetValue;\n        lblBet.string = Utils.formatNumber(number);\n\n    }\n\n    actBtnDelete() {\n        if (this.betingDoor === BetDoor.None) return;\n        var lblBet = this.betingDoor === BetDoor.Tai ? this.lblBetTai : this.lblBetXiu;\n        var number = \"\" + Utils.stringToInt(lblBet.string);\n        number = number.substring(0, number.length - 1);\n        number = Utils.formatNumber(Utils.stringToInt(number));\n        lblBet.string = number;\n    }\n\n    actBtn000() {\n        if (this.betingDoor === BetDoor.None) return;\n        var lblBet = this.betingDoor === BetDoor.Tai ? this.lblBetTai : this.lblBetXiu;\n        var number = Utils.stringToInt(lblBet.string + \"000\");\n        if (number > this.maxBetValue) number = this.maxBetValue;\n        lblBet.string = Utils.formatNumber(number);\n    }\n\n    actNan() {\n        this.isNan = !this.isNan;\n        this.btnNan.getComponent(cc.Sprite).spriteFrame = this.isNan ? this.sprFrameBtnNan2 : this.sprFrameBtnNan;\n    }\n\n    private showResult() {\n        this.lblScore.node.parent.active = true;\n        this.lblScore.string = \"\" + this.lastScore;\n        if (this.lastScore >= 11) {\n            this.tai.runAction(cc.repeatForever(cc.spawn(\n                cc.sequence(cc.scaleTo(0.3, 1.3), cc.scaleTo(0.3, 1)),\n                cc.sequence(cc.tintTo(0.3, 255, 255, 0), cc.tintTo(0.3, 255, 255, 255))\n            )));\n        } else {\n            this.xiu.runAction(cc.repeatForever(cc.spawn(\n                cc.sequence(cc.scaleTo(0.3, 1.3), cc.scaleTo(0.3, 1)),\n                cc.sequence(cc.tintTo(0.3, 255, 255, 0), cc.tintTo(0.3, 255, 255, 255))\n            )));\n        }\n        this.updateBtnHistories();\n    }\n\n    private stopWin() {\n        this.tai.stopAllActions();\n        this.tai.runAction(cc.spawn(cc.scaleTo(0.3, 1), cc.tintTo(0.3, 255, 255, 255)));\n\n        this.xiu.stopAllActions();\n        this.xiu.runAction(cc.spawn(cc.scaleTo(0.3, 1), cc.tintTo(0.3, 255, 255, 255)));\n    }\n\n    private showToast(message: string) {\n        this.lblToast.string = message;\n        let parent = this.lblToast.node.parent;\n        parent.stopAllActions();\n        parent.active = true;\n        parent.opacity = 0;\n        parent.runAction(cc.sequence(cc.fadeIn(0.1), cc.delayTime(2), cc.fadeOut(0.2), cc.callFunc(() => {\n            parent.active = false;\n        })));\n    }\n\n    private showWinCash() {\n        if (this.lastWinCash <= 0) return;\n        this.lblWinCash.node.stopAllActions();\n        this.lblWinCash.node.active = true;\n        this.lblWinCash.node.scale = 0;\n        this.lblWinCash.node.setPosition(cc.Vec2.ZERO);\n        Tween.numberTo(this.lblWinCash, this.lastWinCash, 0.5, (n) => { return \"+\" + n });\n        this.lblWinCash.node.runAction(cc.sequence(\n            cc.scaleTo(0.5, 1),\n            cc.delayTime(2),\n            cc.moveBy(1, cc.v2(0, 60)),\n            cc.callFunc(() => {\n                this.lblWinCash.node.active = false;\n            })\n        ));\n        BroadcastReceiver.send(BroadcastReceiver.USER_UPDATE_COIN);\n    }\n\n    updateBtnHistories() {\n        let histories = this.histories.slice();\n        if (histories.length > this.btnHistories.childrenCount) {\n            histories.splice(0, histories.length - this.btnHistories.childrenCount);\n        }\n        let idx = histories.length - 1;\n        for (var i = this.btnHistories.childrenCount - 1; i >= 0; i--) {\n            if (idx >= 0) {\n                let _idx = idx;\n                var score = histories[idx][\"dices\"][0] + histories[idx][\"dices\"][1] + histories[idx][\"dices\"][2];\n                this.btnHistories.children[i].getComponent(cc.Sprite).spriteFrame = score >= 11 ? this.sprFrameTai : this.sprFrameXiu;\n                this.btnHistories.children[i].off(\"click\");\n                this.btnHistories.children[i].on(\"click\", (e, b) => {\n                    this.popupDetailHistory.showDetail(histories[_idx][\"session\"]);\n                    //  cc.log(this.histories[_idx]);\n                });\n                this.btnHistories.children[i].active = true;\n            } else {\n                this.btnHistories.children[i].active = false;\n            }\n            idx--;\n        }\n    }\n\n    sendChat(message: string) {\n        let _this = this;\n        if (!_this.isCanChat) {\n            this.showToast(\"Bạn thao tác quá nhanh.\");\n            return;\n        }\n        _this.isCanChat = false;\n        this.scheduleOnce(function () {\n            _this.isCanChat = true;\n        }, 1);\n        var req = new cmd.SendChat(unescape(encodeURIComponent(message)));\n        TX2NetworkClient.getInstance().send(req);\n    }\n}"]}
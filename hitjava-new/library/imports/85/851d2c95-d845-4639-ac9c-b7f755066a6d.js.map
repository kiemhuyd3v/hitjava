{"version":3,"sources":["assets\\Lobby\\LobbyScript\\Script\\networks\\Network.InPacket.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["export default class InPacket {\n    private _pos = 0;\n    private _data: Uint8Array = new Uint8Array(0);\n    private _length = 0;\n    private _controllerId = 0;\n    private _cmdId = 0;\n    private _error = 0;\n\n    constructor(data: Uint8Array) {\n        this.init(data);\n    }\n\n    init(data: Uint8Array) {\n        this._pos = 0;\n        this._data = data;\n        this._length = data.length;\n        this._controllerId = this.parseByte();\n        this._cmdId = this.getShort();\n        this._error = this.parseByte()\n    }\n    getCmdId() {\n        return this._cmdId\n    }\n\n    getControllerId() {\n        return this._controllerId\n    }\n\n    getError() {\n        return this._error\n    }\n\n    parseByte() {\n        // cc.error(this._pos < this._length, \"parseByte:IndexOutOfBoundsException\");\n        return this._data[this._pos++]\n    }\n\n    getByte() {\n        return this.parseByte()\n    }\n\n    getBool() {\n        // cc.error(this._pos < this._length, \"getByte:IndexOutOfBoundsException \", this._pos, \",\", this._length);\n        return 0 < this._data[this._pos++]\n    }\n\n    getBytes(a) {\n        // cc.error(this._pos + a <= this._length, \"getBytes:IndexOutOfBoundsException\");\n        for (var b = [], c = 0; c < a; c++) b.push(this.parseByte());\n        return b\n    }\n\n    getShort() {\n        // cc.error(this._pos + 2 <= this._length, \"getShort:IndexOutOfBoundsException\");\n        if (this._pos + 2 > this._length) return 0;\n        var a = (this.parseByte() << 8) + (this.parseByte() & 255);\n        return 32767 < a ? a - 65536 :\n            a\n    }\n\n    getUnsignedShort() {\n        // cc.error(this._pos + 2 <= this._length, \"getUnsignedShort:IndexOutOfBoundsException\");\n        var a = (this.parseByte() & 255) << 8,\n            b = (this.parseByte() & 255) << 0;\n        return a + b\n    }\n\n    getInt() {\n        // cc.error(this._pos + 4 <= this._length, \"getInt:IndexOutOfBoundsException\");\n        return ((this.parseByte() & 255) << 24) + ((this.parseByte() & 255) << 16) + ((this.parseByte() & 255) << 8) + ((this.parseByte() & 255) << 0)\n    }\n\n    byteArrayToLong(a: Array<number>) {\n        var b = true,\n            c = 0,\n            d = 0;\n        255 == a[0] && (b = false);\n        if (b)\n            for (d = 0; 8 > d; d++) c = 256 * c + a[d];\n        else {\n            for (d = c = 1; 7 >= d; d++) c = 256 * c - a[d];\n            c = -c;\n        }\n        return c;\n    }\n\n    getLong() {\n        // cc.error(this._pos + 8 <= this._length, \"getLong:IndexOutOfBoundsException\");\n        for (var a = [], b = 0; 8 > b; b++) a[b] = this.parseByte();\n        return this.byteArrayToLong(a);\n    }\n\n    getDouble() {\n        // cc.error(this._pos + 8 <= this._length, \"getDouble:IndexOutOfBoundsException\");\n        for (var a = new ArrayBuffer(8), b = new Uint8Array(a), c = 7; 0 <= c; c--) b[7 - c] = this.parseByte();\n        return (new DataView(a)).getFloat64(0)\n    }\n\n    getCharArray() {\n        var a = this.getUnsignedShort();\n        return this.getBytes(a)\n    }\n\n    getString() {\n        var a = this.getCharArray();\n        var b = new Uint8Array(a.length);\n        for (var c = 0; c < a.length; c++) {\n            b[c] = parseInt(a[c], 10);\n        }\n        var s: string = String.fromCharCode.apply(null, b);\n        return decodeURIComponent(escape(s));\n    }\n\n    clean() {\n\n    }\n}"]}
{"version":3,"sources":["assets\\BaCay\\BaCayScript\\BaCay.Room.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import BundleControl from \"../../Loading/src/BundleControl\";\nimport Configs from \"../../Loading/src/Configs\";\nimport App from \"../../Lobby/LobbyScript/Script/common/App\";\nimport BroadcastReceiver from \"../../Lobby/LobbyScript/Script/common/BroadcastReceiver\";\nimport SPUtils from \"../../Lobby/LobbyScript/Script/common/SPUtils\";\nimport Utils from \"../../Lobby/LobbyScript/Script/common/Utils\";\nimport InPacket from \"../../Lobby/LobbyScript/Script/networks/Network.InPacket\";\nimport cmd from \"./BaCay.Cmd\";\nimport BaCayNetworkClient from \"./BaCay.NetworkClient\";\nimport cmdNetwork from \"../../Lobby/LobbyScript/Script/networks/Network.Cmd\";\nimport AudioManager from \"../../Lobby/LobbyScript/Script/common/Common.AudioManager\";\nimport { Global } from \"../../Loading/src/Global\";\nenum audio_clip {\n    BG = 0,\n    LOSE = 1,\n    WIN = 2,\n    CHIA_BAI = 3,\n    CHIP = 4,\n    CLOCK = 5,\n    START_BET = 6\n}\nconst { ccclass, property } = cc._decorator;\n@ccclass(\"BaCay.Room.SoundManager\")\nexport class SoundManager {\n    @property(cc.AudioSource)\n    bgMusic: cc.AudioSource = null;\n\n    @property(cc.AudioSource)\n    effSound: cc.AudioSource = null;\n\n    @property([cc.AudioClip])\n    listAudio: cc.AudioClip[] = [];\n    playBgMusic() {\n        AudioManager.getInstance().playBackgroundMusic(this.listAudio[audio_clip.BG]);\n    }\n    playAudioEffect(indexAudio) {\n        // this.effSound.clip = this.listAudio[indexAudio];\n        // this.effSound.play();\n        if (SPUtils.getSoundVolumn() > 0) {\n            cc.audioEngine.play(this.listAudio[indexAudio], false, 1);\n        }\n\n    }\n    stopAudioEffect() {\n        cc.audioEngine.stopAll();\n    }\n    stopBgMusic() {\n        this.bgMusic.stop();\n    }\n}\n@ccclass\nexport default class BacayRoom extends cc.Component {\n    public static instance: BacayRoom = null;\n    @property(cc.Node)\n    contentListRooms: cc.Node = null;\n    @property(cc.Label)\n    labelNickName: cc.Label = null;\n    @property(cc.Label)\n    labelCoin: cc.Label = null;\n    @property(cc.ScrollView)\n    scrRoom: cc.ScrollView = null;\n    @property(cc.Node)\n    UI_Playing: cc.Node = null;\n    @property(cc.Prefab)\n    uiInGamePr: cc.Prefab = null;\n    @property(cc.Toggle)\n    btnHideRoomFull: cc.Toggle = null;\n    @property(cc.EditBox)\n    edtFindRoom: cc.EditBox = null;\n    @property(SoundManager)\n    soundManager: SoundManager = null;\n\n    private listDataRoom = [];\n    private listFullRoom = [];\n\n    public isInitedUIRoom = false;\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad() {\n        BacayRoom.instance = this;\n    }\n\n    start() {\n        this.showUIRooms();\n        App.instance.showErrLoading(\"Đang kết nối tới server...\");\n        BaCayNetworkClient.getInstance().addOnOpen(() => {\n            App.instance.showErrLoading(\"Đang đăng nhập...\");\n            BaCayNetworkClient.getInstance().send(new cmdNetwork.SendLogin(Configs.Login.Nickname, Configs.Login.AccessToken));\n        }, this);\n        BaCayNetworkClient.getInstance().addOnClose(() => {\n            App.instance.loadScene(\"Lobby\");\n        }, this);\n        BaCayNetworkClient.getInstance().connect();\n        this.soundManager.playBgMusic();\n    }\n    showUIRooms() {\n        if (this.isInitedUIRoom) {\n            BroadcastReceiver.send(BroadcastReceiver.USER_UPDATE_COIN);\n        } else {\n            this.isInitedUIRoom = true;\n            this.labelNickName.string = Configs.Login.Nickname;\n            BroadcastReceiver.register(BroadcastReceiver.USER_UPDATE_COIN, () => {\n                this.labelCoin.string = Utils.formatNumber(Configs.Login.Coin);\n                // LogEvent.getInstance().sendEventMoneyChange(Configs.GameId.getGameName(Configs.GameId.BaCay),Configs.Login.Currency,Configs.Login.Coin);\n            }, this);\n            BroadcastReceiver.send(BroadcastReceiver.USER_UPDATE_COIN);\n            this.setupListener();\n        }\n    }\n    refeshListRoom() {\n        App.instance.showLoading(true);\n        BaCayNetworkClient.getInstance().send(new cmd.SendGetListRoom());\n    }\n    setupListener() {\n        BaCayNetworkClient.getInstance().addListener((data) => {\n            let inpacket = new InPacket(data);\n            switch (inpacket.getCmdId()) {\n                case cmd.Code.LOGIN:\n                    // App.instance.showLoading(false);\n                    this.refeshListRoom();\n                    BaCayNetworkClient.getInstance().send(new cmd.CmdReconnectRoom());\n                    break;\n                case cmd.Code.TOPSERVER:\n                    {\n                        // App.instance.showLoading(false);\n                        let res = new cmd.ReceivedTopServer(data);\n                        let rankType = res[\"rankType\"];\n                        let topDay_money = res[\"topDay_money\"];\n                        let topWeek_money = res[\"topWeek_money\"];\n                        let topMonth_money = res[\"topMonth_money\"];\n                    }\n                    break;\n                case cmd.Code.CMD_PINGPONG:\n                    {\n                    }\n                    break;\n                case cmd.Code.CMD_JOIN_ROOM:\n                    {\n                        // App.instance.showLoading(false);\n                        Utils.Log(\"BaCay CMD_JOIN_ROOM\");\n                    }\n                    break;\n                case cmd.Code.CMD_RECONNECT_ROOM:\n                    {\n                        // App.instance.showLoading(false);\n                        cc.log(\"BaCay CMD_RECONNECT_ROOM\");\n                    }\n                    break;\n                case cmd.Code.MONEY_BET_CONFIG:\n                    {\n                        // App.instance.showLoading(false);\n                        cc.log(\"BaCay MONEY_BET_CONFIG\");\n                    }\n                    break;\n                case cmd.Code.JOIN_ROOM_FAIL:\n                    {\n                        // App.instance.showLoading(false);\n                        let res = new cmd.ReceivedJoinRoomFail(data);\n                        let msg = \"Lỗi \" + res.getError() + \", không xác định.\";\n                        switch (res.getError()) {\n                            case 1:\n                                msg = App.instance.getTextLang('txt_room_err1');\n                                break;\n                            case 3:\n                                msg = App.instance.getTextLang('txt_room_err3');\n                                break;\n                            case 2:\n                            case 4:\n                                msg = App.instance.getTextLang('txt_room_err2');\n                                break;\n                            case 5:\n                                msg = App.instance.getTextLang('txt_room_err5');\n                                break;\n                            case 6:\n                                msg = App.instance.getTextLang('txt_room_err6');\n                                break;\n                            case 7:\n                                msg = App.instance.getTextLang('txt_room_err7');\n                                break;\n                            case 8:\n                                msg = App.instance.getTextLang('txt_room_err8');\n                                break;\n                            case 9:\n                                msg = App.instance.getTextLang('txt_room_err9');\n                                break;\n                            case 10:\n                                msg = App.instance.getTextLang('txt_room_err10');\n                        }\n                        App.instance.alertDialog.showMsg(msg);\n                        App.instance.showLoading(false);\n                    }\n                    break;\n                case cmd.Code.GET_LIST_ROOM:\n                    {\n                        // App.instance.showLoading(false);\n                        let res = new cmd.ReceivedGetListRoom(data);\n                        cc.log(res);\n                        this.listDataRoom = res.list;\n                        this.listDataRoom.sort((x, y) => {\n                            return x.moneyBet - y.moneyBet;\n                        })\n                        this.reloadListRoom(this.listDataRoom);\n                        // this.scrRoom.scrollToTop(0.2);\n                    }\n                    break;\n                case cmd.Code.JOIN_GAME_ROOM_BY_ID:\n                    {\n                        // App.instance.showLoading(false);\n                    }\n                    break;\n\n                // ------------------------ Game ---------------------------     \n\n                case cmd.Code.JOIN_ROOM_SUCCESS:\n                    {\n                        cc.log(\"BaCay JOIN_ROOM_SUCCESS\");\n                        // App.instance.showLoading(false);\n                        let res = new cmd.ReceivedJoinRoomSucceed(data);\n                        let cb = (res) => {\n                            this.UI_Playing.getComponent(\"BaCay.Controller\").setupMatch(res);\n                        }\n                        this.showUIPlaying(res, cb);\n                    }\n                    break;\n                case cmd.Code.THONG_TIN_BAN_CHOI: {\n                    App.instance.showLoading(false);\n                    let res = new cmd.ReceivedGameInfo(data);\n                    cc.log(\"THONG_TIN_BAN_CHOI:\", res);\n                    let cb = (res) => {\n                        this.UI_Playing.getComponent(\"BaCay.Controller\").actReJoinRoom(res);\n                    }\n                    this.showUIPlaying(res, cb);\n                    break;\n                }\n                case cmd.Code.LOGOUT: {\n                    cc.log(\"Đăng nhâp từ nguồn khác!\");\n                }\n                default:\n                    break;\n            }\n        }, this);\n    }\n    showUIPlaying(res, cb) {\n\n        if (this.UI_Playing == null) {\n            App.instance.showLoading(true);\n            cc.assetManager.getBundle(\"BaCay\").load(\"prefabs/UI_Play\", cc.Prefab, function (finish, total, item) {\n            }, (err1, prefab: cc.Prefab) => {\n                App.instance.showLoading(false);\n                this.UI_Playing = cc.instantiate(prefab);\n                this.UI_Playing.parent = this.node.parent;\n                this.UI_Playing.active = true;\n                this.node.active = false;\n                cb(res);\n                this.closeUIRoom();\n            })\n        } else {\n            App.instance.showLoading(false);\n            this.UI_Playing.active = true;\n            this.node.active = false;\n            cb(res);\n        }\n    }\n    createRoom() {\n        cc.log(\"BaCay createRoom\");\n        BaCayNetworkClient.getInstance().send(new cmd.SendCreateRoom(1, 8, 500, 0, 8, \"\", \"\", 10000));\n    }\n    hideRoomFull() {\n        cc.log(\"hide room full\");\n        this.listFullRoom = [];\n        if (this.btnHideRoomFull.isChecked) {\n            this.listDataRoom.forEach((data) => {\n                if (data.roomInfo['userCount'] == data.roomInfo[\"maxUserPerRoom\"]) {\n                    this.listFullRoom.push(data);\n                }\n            });\n            this.reloadListRoom(this.listFullRoom);\n        } else {\n            this.reloadListRoom(this.listDataRoom);\n        }\n    }\n    findRoomId() {\n        let text = this.edtFindRoom.string.trim();\n        if (text.length > 0) {\n            let idFind = parseInt(text);\n            let dataRoom = null;\n            dataRoom = this.listDataRoom.find(data => data[\"id\"] == idFind);\n            this.reloadListRoom([dataRoom]);\n        } else {\n            this.reloadListRoom(this.listDataRoom);\n        }\n    }\n    backToLobby() {\n        BaCayNetworkClient.getInstance().close();\n        App.instance.loadScene(\"Lobby\");\n    }\n    reloadListRoom(listDataRoom) {\n        this.listDataRoom = listDataRoom;\n        App.instance.showLoading(false);\n        let cb = (item, itemData) => {\n            item.getComponent(\"BaCay.ItemRoom\").initItem(itemData);\n            item.active = true;\n        }\n        this.scrRoom.node.getComponent(\"ScrollViewControl\").setDataList(cb, listDataRoom);\n    }\n\n    private isSortRoom = false;\n    onBtnSortRoomId(){\n        if(this.isSortRoom == false){\n            if(this.listDataRoom){\n                this.listDataRoom.sort((x, y) => {\n                    return x.id - y.id;\n                })\n            }\n        }\n        else{\n            if(this.listDataRoom){\n                this.listDataRoom.sort((x, y) => {\n                    return y.id - x.id;\n                })\n            }\n        }\n        this.isSortRoom = !this.isSortRoom;\n        let cb = (item, itemData) => {\n            item.getComponent(\"BaCay.ItemRoom\").initItem(itemData);\n            item.active = true;\n        }\n        this.scrRoom.node.getComponent(\"ScrollViewControl\").setDataList(cb, this.listDataRoom);\n    }\n    private isSortMoney;\n    onBtnSortRoomMoney(){\n        if(this.isSortMoney == false){\n            if(this.listDataRoom){\n                this.listDataRoom.sort((x, y) => {\n                    return x.requiredMoney - y.requiredMoney;\n                })\n            }\n        }\n        else{\n            if(this.listDataRoom){\n                this.listDataRoom.sort((x, y) => {\n                    return y.requiredMoney - x.requiredMoney;\n                })\n            }\n        }\n        this.isSortMoney = !this.isSortMoney;\n        let cb = (item, itemData) => {\n            item.getComponent(\"BaCay.ItemRoom\").initItem(itemData);\n            item.active = true;\n        }\n        this.scrRoom.node.getComponent(\"ScrollViewControl\").setDataList(cb, this.listDataRoom);\n    }\n    joinRoom(info) {\n        if (Configs.Login.Coin < info.requiredMoney) {\n            App.instance.alertDialog.showMsg(App.instance.getTextLang(\"txt_not_enough_money\"));\n            return;\n        }\n        App.instance.showLoading(true);\n        BaCayNetworkClient.getInstance().send(new cmd.SendJoinRoomById(info[\"id\"]));\n    }\n    playingNow() {\n        let arrRoomOkMoney = [];\n        for (let index = 0; index < this.contentListRooms.childrenCount; index++) {\n            let roomItem = this.contentListRooms.children[index].getComponent(\"BaCay.ItemRoom\");\n            if (roomItem.roomInfo[\"requiredMoney\"] < Configs.Login.Coin) {\n                arrRoomOkMoney.push(index);\n            }\n        }\n\n        cc.log(\"BaCay playingNow arrRoomOkMoney : \", arrRoomOkMoney);\n\n        if (arrRoomOkMoney.length > 0) {\n            let roomCrowed = arrRoomOkMoney[0];\n            cc.log(\"BaCay playingNow roomCrowed start : \", roomCrowed);\n            for (let index = 0; index < arrRoomOkMoney.length; index++) {\n                let roomItem = this.contentListRooms.children[arrRoomOkMoney[index]].getComponent(\"BaCay.ItemRoom\");\n                let roomItemCrowed = this.contentListRooms.children[roomCrowed].getComponent(\"BaCay.ItemRoom\");\n                cc.log(\"BaCay playingNow ------------------------------------------\");\n                cc.log(\"BaCay playingNow roomItem : \", roomItem.roomInfo[\"userCount\"]);\n                cc.log(\"BaCay playingNow roomItemCrowed : \", roomItemCrowed.roomInfo[\"userCount\"]);\n                if (roomItem.roomInfo[\"userCount\"] > roomItemCrowed.roomInfo[\"userCount\"]) {\n                    roomCrowed = arrRoomOkMoney[index];\n                    cc.log(\"BaCay playingNow roomCrowed update : \", roomCrowed);\n                }\n            }\n            cc.log(\"BaCay playingNow roomCrowed end : \", roomCrowed);\n            let roomChoosed = this.contentListRooms.children[roomCrowed].getComponent(\"BaCay.ItemRoom\");\n            cc.log(\"BaCay playingNow roomCrowed end roomInfo : \", roomChoosed.roomInfo);\n            this.joinRoom(roomChoosed.roomInfo);\n        } else {\n            App.instance.alertDialog.showMsg(App.instance.getTextLang('txt_not_enough_money'));\n        }\n    }\n    closeUIRoom() {\n        this.node.active = false;\n    }\n    // update (dt) {}\n}\n"]}
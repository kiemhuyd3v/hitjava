{"version":3,"sources":["assets\\Lobby\\LobbyScript\\TienLenScript\\TienLenz.InGame.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import Configs from \"../../../Loading/src/Configs\";\nimport Http from \"../../../Loading/src/Http\";\nimport App from \"../Script/common/App\";\nimport BroadcastReceiver from \"../Script/common/BroadcastReceiver\";\nimport SPUtils from \"../Script/common/SPUtils\";\nimport Utils from \"../Script/common/Utils\";\nimport TienLenNetworkClient from \"../Script/networks/TienLenNetworkClient\";\nimport Card from \"./TienLen.Card\";\nimport CardGroup from \"./TienLen.CardGoup\";\nimport TienLenCmd from \"./TienLen.Cmd\";\nimport TienLenConstant from \"./TienLen.Constant\";\nimport Player from \"./TienLen.Playerz\";\nimport Res from \"./TienLen.Resz\";\nimport Room from \"./TienLen.Room\";\nimport History from \"./TienLen.PopupHistory\"\nimport cmd from \"../Script/networks/Network.Cmd\";\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class InGame extends cc.Component {\n\n    public static instance: InGame = null;\n\n    @property(cc.Label)\n    lbRoomId: cc.Label = null;\n    @property(cc.Label)\n    lbRoomBet: cc.Label = null;\n    @property(Player)\n    players: Player[] = [];\n    @property(cc.Label)\n    lbTimeCountDown: cc.Label = null;\n    @property(cc.SpriteFrame)\n    cards: cc.SpriteFrame[] = [];\n    @property(cc.Node)\n    cardLine: cc.Node = null;\n    @property(cc.Prefab)\n    cardItem: cc.Prefab = null;\n    @property(cc.Node)\n    board: cc.Node = null;\n    @property(cc.Node)\n    btnsInGame: cc.Node = null;\n    @property(cc.Label)\n    lblToast: cc.Label = null;\n    @property(cc.Node)\n    popupGuide: cc.Node = null;\n    // UI Chat\n    @property(cc.Node)\n    UI_Chat: cc.Node = null;\n    @property(cc.EditBox)\n    edtChatInput: cc.EditBox = null;\n\n    @property(cc.Node)\n    cardsDeal: cc.Node = null;\n\n    // Popup Result\n    @property(cc.Node)\n    popupResult: cc.Node = null;\n    @property(cc.ScrollView)\n    scrollPopupResult: cc.ScrollView = null;\n    @property(cc.Node)\n    contentPopupResult: cc.Node = null;\n    @property(cc.Prefab)\n    prefabPlayerResult: cc.Prefab = null;\n\n    @property(cc.Node)\n    fxMeWin: cc.Node = null;\n    @property(cc.Node)\n    fxMeLose: cc.Node = null;\n\n    @property(cc.Node)\n    fxWhoPlayFirst: cc.Node = null;\n\n    cardsOnHand = {};\n    buttons = {};\n    myChair = 0;\n    sortBySuit = true;\n    currTurnCards = [];\n    checkTurn = false;\n\n    countDown = null;\n\n    private timeoutChiaBaiDone = null;\n    private timeoutDelayChiaBai = null;\n\n    cachePlayersInfo = [];\n\n    onLoad() {\n        InGame.instance = this;\n        this.initRes();\n    }\n\n    initRes() {\n        Res.getInstance();\n        this.btnsInGame.children.forEach(btn => {\n            this.buttons[btn.name] = btn;\n        });\n    }\n\n    public show(isShow: boolean, roomInfo = null) {\n        if (isShow) {\n            this.node.active = true;\n            this.cleanCardLine();\n            this.cleanCardsOnBoard();\n            this.cleanCardsOnHand();\n            for (let index = 0; index < TienLenConstant.Config.MAX_PLAYER; index++) {\n                this.players[index].setStatus();\n                this.players[index].setLeaveRoom();\n            }\n            this.setRoomInfo(roomInfo);\n\n        } else {\n            this.node.active = false;\n        }\n    }\n\n    actLeaveRoom() {\n        TienLenNetworkClient.getInstance().send(new TienLenCmd.SendRequestLeaveGame());\n    }\n\n    setRoomInfo(room) {\n        //  cc.log(\"TLMN setRoomInfo data : \", room);\n        this.lbRoomId.string = room.roomId;\n        if (room.moneyBet == 0) {\n            this.lbRoomBet.string = \"\";\n        } else {\n            this.lbRoomBet.string = Utils.formatNumber(room.moneyBet);\n        }\n\n        this.myChair = room.myChair;\n        this.setPlayersInfo(room);\n        for (let index = 0; index < 4; index++) {\n            this.players[index].hideChat();\n        }\n        if (room.cards != null) {\n            if (room.cards.length > 0) {\n                this.cardLine.active = true;\n                //  cc.log(\"TLMN setRoomInfo show card\");\n                this.setCardsOnHand(this.sortCards(room.cards));\n                this.setActiveButtons([\"bt_sort\"], [true]);\n            }\n        }\n\n        this.closePopupResult();\n    }\n\n    setPlayersInfo(room) {\n        this.cachePlayersInfo = [];\n        for (let i = 0; i < room.playerInfos.length; i++) {\n            var info = room.playerInfos[i];\n            if (room.playerStatus[i] != 0) {\n                this.cachePlayersInfo.push(info.nickName);\n                var chair = this.convertChair(i);\n                var pl = this.players[chair];\n                if (pl) pl.setPlayerInfo(info);\n            }\n        }\n    }\n\n    updateGameInfo(data) {\n        this.show(true, data);\n    }\n\n    onUserJoinRoom(user) {\n        if (user.uStatus != 0) {\n            this.cachePlayersInfo[user.uChair] = user.info.nickName;\n            this.players[this.convertChair(user.uChair)].setPlayerInfo(user.info);\n        }\n    }\n\n    autoStart(autoInfo) {\n        if (autoInfo.isAutoStart) {\n            this.setTimeCountDown(\"Ván đấu bắt đầu sau: \", autoInfo.autoStartTime);\n            this.closePopupResult();\n        }\n    }\n\n    setTimeCountDown(msg, t) {\n        this.lbTimeCountDown.string = msg + \"\" + t + \"s\";\n        this.lbTimeCountDown.node.active = true;\n        clearInterval(this.countDown);\n        this.countDown = setInterval(() => {\n            t--;\n            if (t < 0) {\n                clearInterval(this.countDown);\n                this.lbTimeCountDown.node.active = false;\n            } else {\n                this.lbTimeCountDown.string = msg + \"\" + t + \"s\";\n            }\n        }, 1000);\n    }\n\n    firstTurn(data) {\n        this.cleanCardLine();\n        //  cc.log(\"TLMN firstTurn data : \", data);\n\n        clearTimeout(this.timeoutDelayChiaBai);\n        this.timeoutDelayChiaBai = setTimeout(() => {\n            let numPlayer = 0;\n            let arrSeatId = [];\n            for (let i = 0; i < data.cards.length; i++) {\n                var pl = this.players[this.convertChair(i)]\n                if (pl.active) {\n                    numPlayer += 1;\n                    arrSeatId.push(this.convertChair(i));\n                }\n            }\n\n            let cardDeal = 6;\n            // Open | Hide cards not use -> Mau binh nhieu la bai qua nen chi chia 4 la tuong trung\n            for (let index = 0; index < 4 * cardDeal; index++) { // 4 players * 6 cards\n                this.cardsDeal.children[index].active = index >= numPlayer * cardDeal ? false : true;\n                this.cardsDeal.children[index].position = cc.v2(0, 0);\n            }\n\n            let timeShip = 0.1; // 0.15\n            // Move Cards used to each player joined\n            for (let a = 0; a < cardDeal; a++) { // players x 6 cards\n                for (let b = 0; b < numPlayer; b++) {\n                    let seatId = arrSeatId[b];\n                    let card4Me = this.cardsDeal.children[(a * numPlayer) + b];\n                    let rawPlayerPos = this.players[seatId].node.position;\n                    //  cc.log(\"TLMN CHIA_BAI delayTime : \", ((a * numPlayer) + b) * timeShip);\n                    card4Me.runAction(\n                        cc.sequence(\n                            cc.delayTime(((a * numPlayer) + b) * timeShip),\n                            cc.moveTo(0.2, rawPlayerPos)\n                        )\n                    );\n                }\n            }\n\n            let delayOver2Under = 0.2;\n            var maxDelay = (((cardDeal - 1) * numPlayer) + (numPlayer - 1)) * timeShip; // ((a * numPlayer) + b) * timeShip\n            let timeUnderLayer = (maxDelay + 0.2 + delayOver2Under) * 1000;\n            //  cc.log(\"CHIA_BAI timeUnderLayer : \", timeUnderLayer);\n            clearTimeout(this.timeoutChiaBaiDone);\n            this.timeoutChiaBaiDone = setTimeout(() => {\n                for (let index = 0; index < 4 * 6; index++) { // 4 players * 6 cards\n                    //  cc.log(\"CHIA_BAI cardsDeal index : \", index);\n                    this.cardsDeal.children[index].active = false;\n                }\n                this.fxWhoPlayFirst.active = false;\n            }, timeUnderLayer);\n\n            this.fxWhoPlayFirst.active = true;\n            this.fxWhoPlayFirst.children[0].getComponent(cc.Label).string = this.cachePlayersInfo[data.chair] + \" đánh trước !\";\n        }, 1000);\n\n        for (let i = 0; i < data.cards.length; i++) {\n            var card = data.cards[i];\n            var pl = this.players[this.convertChair(i)]\n            if (pl.active) {\n                pl.setFirstCard(card);\n            }\n        }\n    }\n\n    chiaBai(data) {\n        this.setCardsOnHand(this.sortCards(data.cards));\n        if (data.toiTrang > 0) {\n\n        }\n        for (let i = 0; i < this.players.length; i++) {\n            if (this.players[i].active) {\n                this.players[i].offFirstCard();\n                if (i > 0) {\n                    this.players[i].setCardRemain(data.cardSize);\n                }\n            }\n        }\n        this.setActiveButtons([\"bt_sort\"], [true]);\n    }\n\n    changeTurn(turn) {\n        var chair = this.convertChair(turn.chair);\n        for (let index = 0; index < 4; index++) {\n            this.players[index].setTimeRemain(0);\n        }\n        //  cc.log(\"UUUUUUU turn : \", turn);\n        if (turn.time) {\n            this.players[chair].setTimeRemain(turn.time);\n        } else {\n            this.players[chair].setTimeRemain(14);\n        }\n\n        if (chair == 0) {\n            this.setActiveButtons([\"bt_submit_turn\", \"bt_pass_turn\"], [true, true]);\n            this.checkTurn = true;\n        }\n        if (turn.newRound) {\n            this.cleanCardsOnBoard();\n            this.currTurnCards = [];\n            this.checkTurn = false;\n            for (let i = 0; i < this.players.length; i++) {\n                if (this.players[i].active) {\n                    this.players[i].setStatus();\n                }\n            }\n        }\n    }\n\n    submitTurn(turn) {\n        this.setActiveButtons([\"bt_submit_turn\", \"bt_pass_turn\"], [false, false]);\n        this.players[0].setTimeRemain(0);\n        var cards = this.sortCards(turn.cards);\n\n        let isExist2 = false;\n        for (let index = 0; index < turn.cards.length; index++) {\n            if (turn.cards[index] == 48 || turn.cards[index] == 49 || turn.cards[index] == 50 || turn.cards[index] == 51) {\n                isExist2 = true;\n            }\n        }\n\n        if (isExist2) {\n            this.fxWhoPlayFirst.active = true;\n            this.fxWhoPlayFirst.children[0].getComponent(cc.Label).string = \"Heo !\";\n            setTimeout(() => {\n                this.fxWhoPlayFirst.active = false;\n            }, 2000);\n        }\n\n        var cardHalf = (cards.length - 1) / 2;\n        var ranX = Math.floor(Math.random() * 100) - 50;\n        var ranY = Math.floor(Math.random() * 100) - 50;\n        var chair = this.convertChair(turn.chair);\n        var pl = this.players[chair];\n        if (chair == 0) {\n            for (let i = 0; i < cards.length; i++) {\n                var cardIndex = cards[i];\n                var _card = this.cardsOnHand[cardIndex];\n                var pos = _card.parent.convertToWorldSpaceAR(_card.position)\n                pos = this.board.convertToNodeSpaceAR(pos);\n                _card.parent = this.board;\n                _card.setPosition(pos);\n                _card.runAction(cc.moveTo(0.2, cc.v2((i - cardHalf) * 30 + ranX, ranY)));\n                _card.runAction(cc.scaleTo(0.2, 0.6, 0.6));\n                delete this.cardsOnHand[cardIndex];\n            }\n        } else {\n            var pos = pl.node.parent.convertToWorldSpaceAR(pl.node.position)\n            pos = this.board.convertToNodeSpaceAR(pos);\n            for (let i = 0; i < cards.length; i++) {\n                var cardItem = cc.instantiate(this.cardItem);\n                cardItem.parent = this.board;\n                cardItem.setScale(0.6, 0.6);\n                cardItem.setPosition(pos);\n                cardItem.getComponent(Card).setCardData(cards[i]);\n                cardItem.runAction(cc.moveTo(0.2, cc.v2((i - cardHalf) * 30 + ranX, ranY)));\n            }\n            pl.setCardRemain(turn.numberCard);\n            this.currTurnCards = cards;\n        }\n    }\n\n    passTurn(turn) {\n        this.players[this.convertChair(turn.chair)].setStatus(\"Bỏ lượt\");\n        this.setActiveButtons([\"bt_submit_turn\", \"bt_pass_turn\"], [false, false]);\n        this.players[0].setTimeRemain(0);\n    }\n\n    actSubmitTurn() {\n        var cardSelected = [];\n        this.cardLine.children.forEach(card => {\n            var _card = card.getComponent(Card);\n            if (_card.isSelected)\n                cardSelected.push(_card.getCardIndex());\n        });\n        this.sendSubmitTurn(cardSelected);\n\n        this.checkTurn = false;\n    }\n\n    sendSubmitTurn(cardSelected) {\n        TienLenNetworkClient.getInstance().send(new TienLenCmd.SendDanhBai(!1, cardSelected));\n    }\n\n    actPassTurn() {\n        this.sendPassTurn();\n\n        this.checkTurn = false;\n    }\n\n    sendPassTurn() {\n        TienLenNetworkClient.getInstance().send(new TienLenCmd.SendBoLuot(!0));\n    }\n\n    sortCards(cards) {\n        cards = CardGroup.indexsToCards(cards);\n        var _cards = [];\n        if (this.sortBySuit)\n            _cards = new CardGroup(cards).getOrderedBySuit();\n        else\n            _cards = CardGroup.sortCards(cards);\n        return CardGroup.cardsToIndexs(_cards);\n    }\n\n    actSort() {\n        this.sortBySuit = !this.sortBySuit;\n        var cards = this.getCardsOnHand();\n        cards = this.sortCards(cards);\n        this.sortCardsOnHand(cards);\n        this.setToggleCardsOnHand();\n    }\n\n    setCardsOnHand(cards) {\n        cards.forEach(card => {\n            var cardItem = cc.instantiate(this.cardItem);\n            cardItem.parent = this.cardLine;\n            cardItem.getComponent(Card).setCardData(card, this.onCardSelectCallback.bind(this));\n            this.cardsOnHand[card] = cardItem;\n        });\n    }\n\n    onCardSelectCallback(card) {\n        if (this.currTurnCards\n            && this.currTurnCards.length == 1\n            && this.currTurnCards[0].card >= 48) //1 la khac 2\n        {\n            this.setToggleCardsOnHand();\n            this.setToggleCardsOnHand([card]);\n        } else\n            this.checkSuggestion(card);\n    }\n\n    checkSuggestion(data) {\n        data = CardGroup.indexToCard(data);\n        var cardsOnHand = CardGroup.indexsToCards(this.getCardsOnHand());\n        var turnCards = CardGroup.indexsToCards(this.currTurnCards);\n        var suggestionCards;\n        if (this.checkTurn)\n            suggestionCards = new CardGroup(cardsOnHand).getSuggestionCards(turnCards, data, () => {\n                let tmp = new Array();\n                for (var key in this.cardsOnHand) {\n                    let tmpCard = this.cardsOnHand[key].getComponent(Card);\n                    if (tmpCard.isSelected) {\n                        tmp.push(tmpCard);\n                    }\n                }\n                return new CardGroup(cardsOnHand).getSuggestionNoCards(tmp, data, true);\n            });\n        else {\n            let tmp = new Array();\n            for (var key in this.cardsOnHand) {\n                let tmpCard = this.cardsOnHand[key].getComponent(Card);\n                if (tmpCard.isSelected) {\n                    tmp.push(tmpCard);\n                }\n            }\n            suggestionCards = new CardGroup(cardsOnHand).getSuggestionNoCards(tmp, data);\n        }\n        if (suggestionCards) {\n            for (let i = 0; i < suggestionCards.length; i++) {\n                for (let j = 0; j < suggestionCards[i].length; j++) {\n                    if (CardGroup.cardToIndex(data) == CardGroup.cardToIndex(suggestionCards[i][j])) {\n                        this.setToggleCardsOnHand(CardGroup.cardsToIndexs(suggestionCards[i]));\n                    }\n                }\n            }\n        }\n    }\n\n    getCardsOnHand() {\n        var cards = [];\n        for (var key in this.cardsOnHand) {\n            cards.push(this.cardsOnHand[key].getComponent(Card).getCardIndex());\n        }\n        return cards;\n    }\n\n    cleanCardsOnHand() {\n        for (var key in this.cardsOnHand)\n            delete this.cardsOnHand[key];\n    }\n\n    cleanCardsOnBoard() {\n        this.board.removeAllChildren();\n    }\n\n    setToggleCardsOnHand(cards = null) {\n        if (cards === null) {\n            for (var key in this.cardsOnHand) {\n                this.cardsOnHand[key].getComponent(Card).deSelect();\n            }\n        } else {\n            for (var key in this.cardsOnHand) {\n                this.cardsOnHand[key].getComponent(Card).deSelect();\n            }\n            for (let i = 0; i < cards.length; i++) {\n                this.cardsOnHand[cards[i]].getComponent(Card).select();\n            }\n        }\n    }\n\n    sortCardsOnHand(cards) {\n        for (let i = 0; i < cards.length; i++) {\n            var index = cards[i];\n            this.cardsOnHand[index].setSiblingIndex(i);\n        }\n    }\n\n    cleanCardLine() {\n        this.cardLine.removeAllChildren();\n\n        for (let i = 1; i < this.players.length; i++) {\n            this.players[i].clearCardLine();\n        }\n    }\n\n    setActiveButtons(btnNames, actives) {\n        for (let i = 0; i < btnNames.length; i++) {\n            this.buttons[btnNames[i]].active = actives[i];\n        }\n    }\n\n    endGame(data) {\n        //  cc.log(\"TTTTTTTTTT endGame data : \", data);\n        for (let index = 0; index < 4; index++) {\n            this.players[index].setTimeRemain(0);\n        }\n        var coinChanges = data.ketQuaTinhTienList;\n        for (let i = 0; i < coinChanges.length; i++) {\n            var chair = this.convertChair(i);\n            if (i < TienLenConstant.Config.MAX_PLAYER) {\n                this.players[chair].setCoinChange(coinChanges[i]);\n                this.players[chair].setCoin(data.currentMoney[i]);\n                if (chair == 0) {\n                    Configs.Login.Coin = data.currentMoney[i];\n                    this.fxMeWin.active = coinChanges[i] > 0 ? true : false;\n                    this.fxMeLose.active = coinChanges[i] < 0 ? true : false;\n                }\n            }\n        }\n        for (let i = 0; i < data.cards.length; i++) {\n            var chair = this.convertChair(i);\n            if (chair != 0) {\n                this.players[chair].setCardLine(data.cards[i]);\n                this.players[chair].setCardRemain(0);\n            }\n        }\n        this.setActiveButtons([\"bt_sort\"], [false]);\n        //  cc.log(\"TTTTTTTTTT Sam 1 : \", data.countDown);\n        if (data.countDown == 0) {\n            //  cc.log(\"TTTTTTTTTT Sam\");\n            this.setTimeCountDown(\"Ván đấu kết thúc sau: \", 10);\n            setTimeout(() => {\n                this.cleanCardsOnHand();\n                this.cleanCardLine();\n                this.cleanCardsOnBoard();\n                for (let index = 0; index < TienLenConstant.Config.MAX_PLAYER; index++) {\n                    this.players[index].setStatus();\n                }\n            }, 5000);\n        } else {\n            //  cc.log(\"TTTTTTTTTT TLMN\");\n            setTimeout(() => {\n                this.setTimeCountDown(\"Ván đấu kết thúc sau: \", data.countDown - 6);\n            }, 4000);\n\n            setTimeout(() => {\n                this.cleanCardsOnHand();\n                this.cleanCardLine();\n                this.cleanCardsOnBoard();\n                for (let index = 0; index < TienLenConstant.Config.MAX_PLAYER; index++) {\n                    this.players[index].setStatus();\n                }\n            }, 9000);\n        }\n        TienLenNetworkClient.getInstance().send(new TienLenCmd.SendReadyAutoStart());\n\n        setTimeout(() => {\n            // show Popup Result\n            this.fxMeWin.active = false;\n            this.fxMeLose.active = false;\n            this.popupResult.active = true;\n            this.contentPopupResult.destroyAllChildren();\n            this.contentPopupResult.removeAllChildren();\n\n            let isTLMN = data.sizeWinType == 5 ? false : true;\n\n            for (let index = 0; index < data.ketQuaTinhTienList.length; index++) {\n                if (data.ketQuaTinhTienList[index] != 0) {\n                    let item = cc.instantiate(this.prefabPlayerResult).getComponent(\"TienLen.ItemPlayerResult\");\n                    item.initItem({\n                        id: index + 1,\n                        userName: this.cachePlayersInfo[index],\n                        goldChange: data.ketQuaTinhTienList[index],\n                        cards: data.cards[index],\n                        winTypes: data.winTypes[index],\n                        isTLMN: isTLMN\n                    })\n                    this.contentPopupResult.addChild(item.node);\n                }\n            }\n            this.scrollPopupResult.scrollToTop(0);\n        }, 4000);\n    }\n\n    updateMatch(data) {\n\n    }\n\n    userLeaveRoom(data) {\n        var chair = this.convertChair(data.chair);\n        this.players[chair].setLeaveRoom();\n        if (chair == 0) {\n            this.show(false);\n            Room.instance.show(true);\n            Room.instance.refreshRoom();\n        }\n    }\n\n    notifyUserRegOutRoom(res) {\n        let outChair = res[\"outChair\"];\n        let isOutRoom = res[\"isOutRoom\"];\n        let chair = this.convertChair(outChair);\n        if (chair == 0) {\n            if (isOutRoom) {\n                this.players[chair].setNotify(\"Sắp rời bàn !\");\n            } else {\n                this.players[chair].setNotify(\"Khô Máu !\");\n            }\n        }\n    }\n\n    playerChat(res) {\n        let chair = res[\"chair\"];\n        let isIcon = res[\"isIcon\"];\n        let content = res[\"content\"];\n\n        let seatId = this.convertChair(chair);\n        if (isIcon) {\n            // Chat Icon\n            this.players[seatId].showChatEmotion(content);\n        } else {\n            // Chat Msg\n            this.players[seatId].showChatMsg(content);\n        }\n    }\n\n    playerChatChong(res) {\n        let winChair = res[\"winChair\"];\n        let lostChair = res[\"lostChair\"];\n        let winMoney = res[\"winMoney\"];\n        let lostMoney = res[\"lostMoney\"];\n        let winCurrentMoney = res[\"winCurrentMoney\"];\n        let lostCurrentMoney = res[\"lostCurrentMoney\"];\n\n        setTimeout(() => {\n            let seatIdWin = this.convertChair(winChair);\n            let seatIdLost = this.convertChair(lostChair);\n            this.players[seatIdWin].setCoinChange(winMoney);\n            this.players[seatIdLost].setCoinChange(lostMoney);\n            this.players[seatIdWin].setCoin(winCurrentMoney);\n            this.players[seatIdLost].setCoin(lostCurrentMoney);\n            setTimeout(() => {\n                this.players[seatIdWin].setStatus(\"\");\n                this.players[seatIdLost].setStatus(\"\");\n            }, 2000);\n        }, 1000);\n\n    }\n\n    wait4doithong(res) {\n        let chair = res[\"chair\"];\n\n        this.fxWhoPlayFirst.active = true;\n        this.fxWhoPlayFirst.children[0].getComponent(cc.Label).string = \"Đợi Bốn Đôi Thông !\";\n        setTimeout(() => {\n            this.fxWhoPlayFirst.active = false;\n        }, 2000);\n    }\n\n    showPopupGuide() {\n        this.popupGuide.active = true;\n    }\n\n    closePopupGuide() {\n        this.popupGuide.active = false;\n    }\n\n    // Chat\n    showUIChat() {\n        this.UI_Chat.active = true;\n        this.UI_Chat.runAction(\n            cc.moveTo(0.5, 420, 0)\n        );\n    }\n\n    closeUIChat() {\n        this.UI_Chat.runAction(\n            cc.moveTo(0.5, 1000, 0)\n        );\n    }\n\n    chatEmotion(event, id) {\n        //  cc.log(\"BaCay chatEmotion id : \", id);\n        TienLenNetworkClient.getInstance().send(new TienLenCmd.SendChatRoom(1, id));\n        this.closeUIChat();\n    }\n\n    chatMsg() {\n        if (this.edtChatInput.string.trim().length > 0) {\n            TienLenNetworkClient.getInstance().send(new TienLenCmd.SendChatRoom(0, this.edtChatInput.string));\n            this.edtChatInput.string = \"\";\n            this.closeUIChat();\n        }\n    }\n\n    convertChair(a) {\n        return (a - this.myChair + 4) % 4;\n    }\n\n    showToast(message: string) {\n        this.lblToast.string = message;\n        let parent = this.lblToast.node.parent;\n        parent.stopAllActions();\n        parent.active = true;\n        parent.opacity = 0;\n        parent.runAction(cc.sequence(cc.fadeIn(0.1), cc.delayTime(2), cc.fadeOut(0.2), cc.callFunc(() => {\n            parent.active = false;\n        })));\n    }\n\n    closePopupResult() {\n        this.popupResult.active = false;\n    }\n}\n"]}
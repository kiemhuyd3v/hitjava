{"version":3,"sources":["assets\\Lobby\\LobbyScript\\Lobby.ButtonListJackpot.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import cmd from \"./Lobby.Cmd\";\nimport Tween from \"./Script/common/Tween\";\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class ButtonListJackpot extends cc.Component {\n\n    @property(cc.Node)\n    button: cc.Node = null;\n    @property(cc.Node)\n    container: cc.Node = null;\n\n    @property(cc.ToggleContainer)\n    togglesBlind: cc.ToggleContainer = null;\n\n    @property(cc.Label)\n    labelsRangeRover: cc.Label = null;\n    @property(cc.Label)\n    labelsMayBach: cc.Label = null;\n    @property(cc.Label)\n    labelsBentley: cc.Label = null;\n    @property(cc.Label)\n    labelsRollsRoyce: cc.Label = null;\n    @property(cc.Label)\n    labelsMiniPoker: cc.Label = null;\n    @property(cc.Label)\n    labelsSlot3x3: cc.Label = null;\n\n    private buttonClicked = true;\n    private buttonMoved = cc.Vec2.ZERO;\n    private animate = false;\n\n    private static lastRes: cmd.ResUpdateJackpots = null;\n    private selectedIdx = 0;\n\n    onLoad() {\n        this.container.active = false;\n\n        this.button.on(cc.Node.EventType.TOUCH_START, (event: cc.Event.EventTouch) => {\n            this.buttonClicked = true;\n            this.buttonMoved = cc.Vec2.ZERO;\n        }, this);\n\n        this.button.on(cc.Node.EventType.TOUCH_MOVE, (event: cc.Event.EventTouch) => {\n            this.buttonMoved = this.buttonMoved.add(event.getDelta());\n            if (this.buttonClicked) {\n                if (Math.abs(this.buttonMoved.x) > 30 || Math.abs(this.buttonMoved.y) > 30) {\n                    let pos = this.node.position;\n                    pos.x += this.buttonMoved.x;\n                    pos.y += this.buttonMoved.y;\n                    this.node.position = pos;\n                    this.buttonClicked = false;\n                }\n            } else {\n                let pos = this.node.position;\n                pos.x += event.getDeltaX();\n                pos.y += event.getDeltaY();\n                this.node.position = pos;\n            }\n        }, this);\n\n        this.button.on(cc.Node.EventType.TOUCH_END, (event: cc.Event.EventTouch) => {\n            if (this.buttonClicked) {\n                this.toggleShowPanel();\n            }\n        }, this);\n\n        for (let i = 0; i < this.togglesBlind.toggleItems.length; i++) {\n            this.togglesBlind.toggleItems[i].node.on(\"toggle\", () => {\n                this.selectedIdx = i;\n                this.updateJackpot(0.3);\n            });\n        }\n    }\n\n    private toggleShowPanel() {\n        if (this.animate) return;\n        this.animate = true;\n        if (!this.container.active) {\n            this.container.stopAllActions();\n            this.container.active = true;\n            this.container.scaleY = 0;\n            this.container.runAction(cc.sequence(\n                cc.scaleTo(0.2, 1).easing(cc.easeBackOut()),\n                cc.callFunc(() => {\n                    this.animate = false;\n                })\n            ));\n        } else {\n            this.container.stopAllActions();\n            this.container.runAction(cc.sequence(\n                cc.scaleTo(0.2, 1, 0).easing(cc.easeBackIn()),\n                cc.callFunc(() => {\n                    this.container.active = false;\n                    this.animate = false;\n                })\n            ));\n        }\n    }\n\n    setData(res: cmd.ResUpdateJackpots) {\n        ButtonListJackpot.lastRes = res;\n        this.updateJackpot();\n    }\n\n    updateJackpot(duration: number = 4) {\n        if (ButtonListJackpot.lastRes == null) return;\n        switch (this.selectedIdx) {\n            case 0:\n                Tween.numberTo(this.labelsRangeRover, ButtonListJackpot.lastRes.khoBau100, duration);\n                Tween.numberTo(this.labelsMayBach, ButtonListJackpot.lastRes.NDV100, duration);\n                Tween.numberTo(this.labelsBentley, ButtonListJackpot.lastRes.Avengers100, duration);\n                Tween.numberTo(this.labelsRollsRoyce, ButtonListJackpot.lastRes.Vqv100, duration);\n                Tween.numberTo(this.labelsMiniPoker, ButtonListJackpot.lastRes.miniPoker100, duration);\n                Tween.numberTo(this.labelsSlot3x3, ButtonListJackpot.lastRes.pokeGo100, duration);\n                break;\n            case 1:\n                Tween.numberTo(this.labelsRangeRover, ButtonListJackpot.lastRes.khoBau1000, duration);\n                Tween.numberTo(this.labelsMayBach, ButtonListJackpot.lastRes.NDV1000, duration);\n                Tween.numberTo(this.labelsBentley, ButtonListJackpot.lastRes.Avengers1000, duration);\n                Tween.numberTo(this.labelsRollsRoyce, ButtonListJackpot.lastRes.Vqv1000, duration);\n                Tween.numberTo(this.labelsMiniPoker, ButtonListJackpot.lastRes.miniPoker1000, duration);\n                Tween.numberTo(this.labelsSlot3x3, ButtonListJackpot.lastRes.pokeGo1000, duration);\n                break;\n            case 2:\n                Tween.numberTo(this.labelsRangeRover, ButtonListJackpot.lastRes.khoBau10000, duration);\n                Tween.numberTo(this.labelsMayBach, ButtonListJackpot.lastRes.NDV10000, duration);\n                Tween.numberTo(this.labelsBentley, ButtonListJackpot.lastRes.Avengers10000, duration);\n                Tween.numberTo(this.labelsRollsRoyce, ButtonListJackpot.lastRes.Vqv10000, duration);\n                Tween.numberTo(this.labelsMiniPoker, ButtonListJackpot.lastRes.miniPoker10000, duration);\n                Tween.numberTo(this.labelsSlot3x3, ButtonListJackpot.lastRes.pokeGo10000, duration);\n                break;\n        }\n    }\n}"]}
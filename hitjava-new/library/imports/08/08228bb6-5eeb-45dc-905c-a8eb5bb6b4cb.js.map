{"version":3,"sources":["assets\\Lobby\\LobbyScript\\TienLenScript\\TienLen.GameLogic.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import Utils from \"../Script/common/Utils\";\nimport GameData from \"../Script/games/GameData\";\nimport TienLenConstant from \"./TienLen.Constant\";\nimport Player from \"./TienLen.Player\";\n\nexport default class TienLenGameLogic {\n    static instance: TienLenGameLogic;\n\n    roomOwnerID = 0;\n    roomOwner = 0;\n    bet = 0;\n    myChair = -1;\n    roomLock = !1;\n    roomId = 0;\n    roomIndex = 0;\n    roomJackpot = 0;\n    players = [];\n    gameState = -1;\n    typeToiTrang = 0;\n    timeBaoSam = 0;\n    timeAutoStart = 0;\n    cardChiabai = [];\n    cardDanhBai = [];\n    firstTurnCards = [];\n    changeTurnChair = -1;\n    activeLocalChair = -1;\n    newRound = !0;\n    gameAction = -1;\n    cards = [];\n    activeTimeRemain = 0;\n    moneyType = 1;\n    gameId = 0;\n    gameServerState = null;\n    baoSam = null;\n    boLuot = null;\n    toiTrang = null;\n    recentCards = [];\n    cardSizes = [];\n    handCardSizeSize = 0;\n    chairLastTurn = -1;\n\n    public static getInstance(): TienLenGameLogic {\n        if (this.instance == null) {\n            this.instance = new TienLenGameLogic();\n        }\n        return this.instance;\n    }\n\n    constructor() {\n        this.roomOwnerID = this.roomOwner = this.bet = 0;\n        this.myChair = -1;\n        this.roomLock = !1;\n        this.roomId = this.roomIndex = this.roomJackpot = 0;\n        this.players = [];\n        this.gameState = -1;\n        this.typeToiTrang = this.timeBaoSam = this.timeAutoStart = 0;\n        this.cardChiabai = [];\n        this.cardDanhBai = [];\n        this.firstTurnCards = [];\n        this.changeTurnChair = this.activeLocalChair = -1;\n        this.newRound = !0;\n        this.gameAction = -1;\n        this.cards = [];\n        for (var a = this.activeTimeRemain = 0; a < TienLenConstant.Config.MAX_PLAYER; a++) {\n            var b = new Player();\n            0 == a && (b.type = TienLenConstant.PlayerType.MY);\n            this.players.push(b);\n        }\n    }\n\n    initReconnect(a) {\n        cc.sys.localStorage.setItem(\"outRoom\", \"0\");\n        GameData.getInstance().maxPlayer = a.maxPlayer;\n        // 2 == gameData.maxPlayer ? GameManager.getInstance().currentGame = 4 : GameManager.getInstance().currentGame = 5;\n        this.gameState = TienLenConstant.GameState.PLAYCONTINUE;\n        this.bet = a.roomBet;\n        this.moneyType = a.moneyType;\n        this.roomOwner = a.roomOwner;\n        this.roomId = a.roomId;\n        this.gameId = a.gameId;\n        this.myChair = a.myChair;\n        this.cardChiabai = [];\n         //Utils.Log(\"cardChidBai size\" + a.cards.length);\n        for (var b = 0; b < a.cards.length; b++) this.cardChiabai.push(a.cards[b]),  //Utils.Log(\"carChiabai \" + a.cards[b]);\n        this.gameServerState = a.gameServerState;\n        this.gameAction = a.gameAction;\n        this.activeTimeRemain = a.activeTimeRemain;\n        this.changeTurnChair = this.activeLocalChair = this.convertChair(a.currentChair);\n        this.baoSam = a.baoSam;\n        this.boLuot = a.boLuot;\n        this.toiTrang = a.toiTrang;\n        this.recentCards = [];\n        for (var b = 0; b < a.recentCards.length; b++) this.recentCards.push(a.recentCards[b]);\n        for (var b = 0; b < this.players.length; b++) this.players[b].ingame = !1;\n        for (var b = 0; b < GameData.getInstance().maxPlayer; b++) {\n            var c = this.convertChair(b);\n            0 != a.playerStatus[b] && ( Utils.Log(\"playI: \" + b + \" \" + c), this.players[c].ingame = !0, this.players[c].active = !0, this.players[c].info = a.playerInfos[b],  Utils.Log(\"pkPlayerInfos\" + a.playerInfos[b].nickName), this.players[c].status = a.playerStatus[b], this.players[c].chairInServer = b, this.players[c].chairLocal = c);\n        }\n    }\n\n    initWith(a) {\n        this.gameState = TienLenConstant.GameState.JOINROOM;\n        this.bet = a.moneyBet;\n        this.moneyType = a.moneyType;\n        this.roomOwner = a.roomOwner;\n        this.roomId = a.roomId;\n        this.gameId = a.gameId;\n        this.myChair = a.myChair;\n        this.gameId = a.gameId;\n        this.gameAction = a.gameAction;\n        this.activeTimeRemain = a.activeTimeRemain;\n        this.changeTurnChair = this.activeLocalChair = this.convertChair(a.currentChair);\n        this.cardSizes = [];\n        for (b = 0; b < this.handCardSizeSize; b++) this.cardSizes.push(a.handCardSize[b]);\n        for (var b = 0; b < this.players.length; b++) this.players[b].ingame = !1;\n        for (b = 0; b < GameData.getInstance().maxPlayer; b++) {\n            var c = this.convertChair(b);\n            0 != a.playerStatus[b] && (this.players[c].ingame = !0, this.players[c].active = !0, this.players[c].info = a.playerInfos[b], this.players[c].status = a.playerStatus[b], this.players[c].chairInServer = b, this.players[c].chairLocal = c, this.players[c].remainCard = a.handCardSize[b]);\n        }\n    }\n\n    convertChair(a) {\n        a = (a - this.myChair + 4) % 4;\n        2 == GameData.getInstance().maxPlayer ? 0 != a && (a = 2) : 0 != a && (a = TienLenConstant.Config.MAX_PLAYER - a);\n        return a;\n    }\n\n    numberPlayer() {\n        for (var a = 0, b = 0; b < TienLenConstant.Config.MAX_PLAYER; b++) this.players[b].ingame && 1 < this.players[b].status && a++;\n        return a;\n    }\n\n    userJoinRoom(a) {\n        this.gameState = TienLenConstant.GameState.USERJOIN;\n        var b = this.convertChair(a.uChair);\n        this.activeLocalChair = b;\n        this.players[b].ingame = !0;\n        this.players[b].active = !0;\n        this.players[b].info = a.info;\n        this.players[b].status = a.uStatus;\n        this.players[b].chairInServer = a.uChair;\n    }\n\n    updateOwnerRoom(a) {\n        this.roomOwner = a.chair;\n        this.gameState = TienLenConstant.GameState.UPDATEOWNERROOM;\n    }\n\n    autoStart(a) {\n        this.gameState = TienLenConstant.GameState.AUTOSTART;\n        this.timeAutoStart = a.autoStartTime;\n    }\n\n    firstTurn(a) {\n        this.gameState = TienLenConstant.GameState.FIRSTTURN;\n        this.firstTurnCards = [0,\n            0, 0, 0, 0\n        ];\n        if (a.isRandom)\n            for (var b = 0; b < a.cards.length && b < GameData.getInstance().maxPlayer; b++) this.firstTurnCards[this.convertChair(b)] = a.cards[b];\n        for (b = 0; b < TienLenConstant.Config.MAX_PLAYER; b++)  Utils.Log(\"this.firstTurn: \" + b + \" \" + this.firstTurnCards[b]);\n    }\n\n    chiabai(a) {\n        this.gameState = TienLenConstant.GameState.CHIABAI;\n        this.cardChiabai = a.cards;\n        this.timeBaoSam = a.timeBaoSam;\n        this.gameId = a.gameId;\n    }\n\n    danhbai(a) {\n        this.gameState = TienLenConstant.GameState.DANHBAI;\n        this.cardDanhBai = a.cards;\n        a = this.convertChair(a.chair);\n        0 <= a && 4 >= a && (this.activeLocalChair =\n            a);\n    }\n\n    boluot(a) {\n        this.gameState = TienLenConstant.GameState.BOLUOT;\n    }\n\n    notifyOutRoom(a) {\n        this.gameState = TienLenConstant.GameState.NOTIFYOUTROOM;\n    }\n\n    changeturn(a) {\n        this.gameState = TienLenConstant.GameState.CHANGETURN;\n        this.newRound = a.newRound;\n        var b = this.convertChair(a.chair);\n        this.chairLastTurn = this.convertChair(a.chairLastTurn);\n         //Utils.Log(\"chairLastTurn: \" + this.chairLastTurn);\n        this.changeTurnChair = this.activeLocalChair = b;\n    }\n\n    waitBonDoiThong(a) {\n        this.gameState = TienLenConstant.GameState.WAITBONDOITHONG;\n         //Utils.Log(\"server.chair: \" +\n            a.chair);\n        this.chairLastTurn = this.convertChair(a.chair);\n         //Utils.Log(\"chairLastTurn: \" + this.chairLastTurn);\n    }\n\n    quitRoom() {\n        this.gameState = TienLenConstant.GameState.QUIT\n    }\n\n    chatchong(a) {\n        this.gameState = TienLenConstant.GameState.CHATCHONG;\n        var b = this.convertChair(a.winChair),\n            c = this.convertChair(a.lostChair);\n        // 0 == b ? lobby.updateMoney(a.winMoney, this.moneyType) : 0 == c && lobby.updateMoney(a.lostMoney, this.moneyType);\n        this.players[b].info.money = a.winCurrentMoney;\n        this.players[c].info.money = a.lostCurrentMoney;\n    }\n\n    baosam(a) {\n        // this.gameState =\n        //     TienLenConstant.GameState.BAOSAM;\n    }\n\n    huybaosam(a) {\n        // this.gameState = TienLenConstant.GameState.HUYBAOSAM\n    }\n\n    quyetdinhsam(a) {\n        // this.gameState = TienLenConstant.GameState.QUYETDINHSAM\n    }\n\n    jackpot(a) {\n        this.gameState = TienLenConstant.GameState.JACKPOT;\n    }\n\n    userLeave(a) {\n        var b = this.convertChair(a.chair);\n        0 <= b && 3 >= b && a.nickName == this.players[b].info.nickName && (this.players[b].ingame = !1, this.activeLocalChair = b);\n        this.gameState = TienLenConstant.GameState.USERLEAVE;\n    }\n\n    endGame(a) {\n        this.gameState = TienLenConstant.GameState.ENDGAME;\n        this.roomJackpot = a.roomJackpot;\n        // for (var i = 0; i < a.currentMoney.length && i < GameData.getInstance().maxPlayer; i++)\n        //     this.players[this.convertChair(i)].info && (this.players[this.convertChair(i)].info.money = a.currentMoney[i], 0 == this.convertChair(i) && lobby.updateMoney(a.currentMoney[i], this.moneyType));\n         //Utils.Log(\"endGame\");\n    }\n\n    updateMath(a) {\n        this.gameState = TienLenConstant.GameState.UPDATEMATH;\n        this.myChair = a.myChair;\n        this.roomOwner = a.ownerChair;\n        for (var b = 0; b < a.hasInfo.length && b < GameData.getInstance().maxPlayer; b++)\n            if (a.hasInfo[b]) {\n                var c = this.convertChair(b);\n                this.players[c].ingame &&\n                    (this.players[c].info.money = a.infos[b].money, this.players[c].active = !0, this.players[c].status = a.infos[b].status)\n            }\n    }\n}"]}
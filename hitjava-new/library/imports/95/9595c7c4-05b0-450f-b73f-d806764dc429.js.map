{"version":3,"sources":["assets\\BauCua\\BauCuaScript\\BauCua.BauCuaController.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import Configs from \"../../Loading/src/Configs\";\nimport MiniGame from \"../../Lobby/LobbyScript/MiniGame\";\nimport App from \"../../Lobby/LobbyScript/Script/common/App\";\nimport BroadcastReceiver from \"../../Lobby/LobbyScript/Script/common/BroadcastReceiver\";\nimport ScrollViewControl from \"../../Lobby/LobbyScript/Script/common/ScrollViewControl\";\nimport Utils from \"../../Lobby/LobbyScript/Script/common/Utils\";\nimport MiniGameNetworkClient from \"../../Lobby/LobbyScript/Script/networks/MiniGameNetworkClient\";\nimport InPacket from \"../../Lobby/LobbyScript/Script/networks/Network.InPacket\";\nimport ButtonPayBet from \"./BauCua.ButtonPayBet\";\nimport cmd from \"./BauCua.Cmd\";\nimport PopupHistory from \"./BauCua.PopupHistory\";\nimport PopupHonors from \"./BauCua.PopupHonors\";\n\nvar TW = cc.tween;\nconst { ccclass, property } = cc._decorator;\n\n@ccclass(\"BauCua.ButtonBet\")\nexport class ButtonBet {\n    @property(cc.Button)\n    button: cc.Button = null;\n    @property(cc.SpriteFrame)\n    sfNormal: cc.SpriteFrame = null;\n    @property(cc.SpriteFrame)\n    sfActive: cc.SpriteFrame = null;\n\n    @property(sp.Skeleton)\n    border_chip: sp.Skeleton = null;\n    _isActive = false;\n\n    setActive(isActive: boolean) {\n        this._isActive = isActive;\n        // this.button.getComponent(cc.Sprite).spriteFrame = isActive ? this.sfActive : this.sfNormal;\n        this.button.interactable = !isActive;\n\n        // this.button.getComponentInChildren(cc.Sprite).node.active = isActive;\n        if (isActive)\n            this.border_chip.node.x = this.button.node.x;\n    }\n}\n\n@ccclass\nexport default class BauCuaController extends MiniGame {\n\n    static instance: BauCuaController = null;\n    static lastBeted = null;\n\n    @property([cc.SpriteFrame])\n    public sprSmallDices: cc.SpriteFrame[] = [];\n    @property([cc.ScrollView])\n    public scrollChip: cc.ScrollView[] = [];\n    @property([cc.SpriteFrame])\n    public sprResultDices: cc.SpriteFrame[] = [];\n    @property(cc.Label)\n    public lblSession: cc.Label = null;\n    @property(cc.Label)\n    public lblTime: cc.Label = null;\n    @property(cc.Label)\n    public lblToast: cc.Label = null;\n    @property(cc.Label)\n    public lblWinCoin: cc.Label = null;\n    @property([ButtonBet])\n    public buttonBets: ButtonBet[] = [];\n    @property([ButtonPayBet])\n    public btnPayBets: ButtonPayBet[] = [];\n    @property(cc.Node)\n    public nodeSoiCau: cc.Node = null;\n    @property(cc.Node)\n    public nodeHistories: cc.Node = null;\n    @property(cc.Node)\n    public itemHistoryTemplate: cc.Node = null;\n    @property(cc.Button)\n    public btnConfirm: cc.Button = null;\n    @property(cc.Button)\n    public btnCancel: cc.Button = null;\n    @property(cc.Button)\n    public btnReBet: cc.Button = null;\n    @property([cc.Label])\n    public lblsSoiCau: cc.Label[] = [];\n    @property([cc.Node])\n    public popups: cc.Node[] = [];\n    @property(cc.Node)\n    public popupContainer: cc.Node = null;\n\n    @property(ScrollViewControl)\n    public scrHistory: ScrollViewControl = null;\n\n    @property(cc.Node)\n    public bowl: cc.Node = null;\n\n\n    private readonly listBet = [1000, 5000, 10000, 50000, 100000, 500000, 1000000, 5000000, 10000000];\n    private roomId = 0;\n    private betIdx = 0;\n    private isBetting = false;\n    private historiesData = [];\n    private beted = [0, 0, 0, 0, 0, 0];\n    private betting = [0, 0, 0, 0, 0, 0];\n    private inited = false;\n    private sprResultDice: cc.Node = null;\n    private percentScroll = 0;\n    private timeBet;\n    private popupHonor: PopupHonors = null;\n    private popupHistory: PopupHistory = null;\n    private popupGuide = null;\n    public baucuaBundle = null;\n    onLoad() {\n        super.onLoad();\n        this.sprResultDice = this.bowl.getChildByName(\"sprResult\");\n    }\n    start() {\n        this.timeBet = Date.now();\n        BauCuaController.instance = this;\n        this.percentScroll = 0;\n        this.scrollChip.scrollToPercentHorizontal(this.percentScroll, 0.1);\n        this.itemHistoryTemplate.active = false;\n\n        for (let i = 0; i < this.buttonBets.length; i++) {\n            var btn = this.buttonBets[i];\n            // btn.setActive(i == this.betIdx);\n            btn.button.node.on(\"click\", () => {\n                this.betIdx = i;\n                App.instance.showBgMiniGame(\"BauCua\");\n                for (let j = 0; j < this.buttonBets.length; j++) {\n                    //  cc.log(\"this:\" + this.betIdx + \":\" + j);\n                    this.buttonBets[j].setActive(j == this.betIdx);\n                }\n            });\n        }\n\n        for (let i = 0; i < this.btnPayBets.length; i++) {\n            this.btnPayBets[i].node.on(\"click\", () => {\n                App.instance.showBgMiniGame(\"BauCua\");\n                this.actConfirm(i);\n            });\n        }\n\n        BroadcastReceiver.register(BroadcastReceiver.USER_LOGOUT, () => {\n            if (!this.node.active) return;\n            this.dismiss();\n        }, this);\n\n        MiniGameNetworkClient.getInstance().addOnClose(() => {\n            if (!this.node.active) return;\n            this.dismiss();\n        }, this);\n\n        MiniGameNetworkClient.getInstance().addListener((data) => {\n            if (!this.node.active) return;\n            let inpacket = new InPacket(data);\n            switch (inpacket.getCmdId()) {\n                case cmd.Code.INFO: {\n                    this.inited = true;\n\n                    let res = new cmd.ReceiveInfo(data);\n                    this.isBetting = res.bettingState;\n                    this.lblSession.string = \"#\" + res.referenceId;\n                    this.lblTime.string = this.longToTime(res.remainTime);\n\n\n                    let totalBets = res.potData.split(\",\");\n                    let beted = res.betData.split(\",\");\n                    for (let i = 0; i < this.btnPayBets.length; i++) {\n                        let btnPayBet = this.btnPayBets[i];\n                        btnPayBet.lblTotal.string = this.moneyToK(parseInt(totalBets[i]));\n                        btnPayBet.lblBeted.string = this.moneyToK(parseInt(beted[i]));\n                        btnPayBet.overlay.active = true;\n                        btnPayBet.button.interactable = this.isBetting;\n                        btnPayBet.lblFactor.node.active = false;\n                        this.beted[i] = parseInt(beted[i]);\n                    }\n\n                    if (!this.isBetting) {\n                        this.btnPayBets[res.dice1].overlay.active = false;\n                        this.btnPayBets[res.dice2].overlay.active = false;\n                        this.btnPayBets[res.dice3].overlay.active = false;\n\n                        if (res.xValue > 1) {\n                            this.btnPayBets[res.xPot].lblFactor.node.active = true;\n                            this.btnPayBets[res.xPot].lblFactor.string = \"x\" + res.xValue;\n                        }\n                    }\n\n                    if (res.lichSuPhien != \"\") {\n                        let histories = res.lichSuPhien.split(\",\");\n                        for (let i = 0; i < histories.length; i++) {\n                            this.historiesData.push([parseInt(histories[i]), parseInt(histories[++i]), parseInt(histories[++i])])\n                            ++i;\n                            ++i;\n                        }\n                        this.loadHistory(this.historiesData);\n                        this.caculatorSoiCau();\n                    }\n                    break;\n                }\n                case cmd.Code.START_NEW_GAME: {\n                    let res = new cmd.ReceiveNewGame(data);\n                    this.actStartNewGame();\n                    //  cc.log(\"BAU CUA START_NEW_GAME:\");\n                    this.lblSession.string = \"#\" + res.referenceId;\n                    for (let i = 0; i < this.btnPayBets.length; i++) {\n                        let btnPayBet = this.btnPayBets[i];\n                        btnPayBet.lblBeted.string = \"0\";\n                        btnPayBet.lblBeted.node.color = cc.Color.WHITE;\n                        btnPayBet.lblTotal.string = \"0\";\n                        btnPayBet.overlay.active = false;\n                        btnPayBet.button.interactable = true;\n                        btnPayBet.lblFactor.node.active = false;\n                    }\n                    this.beted = [0, 0, 0, 0, 0, 0];\n                    this.betting = [0, 0, 0, 0, 0, 0];\n                    this.btnConfirm.interactable = true;\n                    this.btnCancel.interactable = true;\n                    this.btnReBet.interactable = true;\n                    break;\n                }\n                case cmd.Code.UPDATE: {\n                    let res = new cmd.ReceiveUpdate(data);\n                    this.lblTime.string = this.longToTime(res.remainTime);\n\n                    this.isBetting = res.bettingState == 1;\n                    let totalBets = res.potData.split(\",\");\n                    for (let i = 0; i < this.btnPayBets.length; i++) {\n                        let btnPayBet = this.btnPayBets[i];\n                        btnPayBet.lblTotal.string = this.moneyToK(parseInt(totalBets[i]));\n                        if (this.isBetting) {\n                            btnPayBet.overlay.active = false;\n                            btnPayBet.lblFactor.node.active = false;\n                        } else {\n                            btnPayBet.button.interactable = false;\n                            btnPayBet.lblBeted.string = this.moneyToK(this.beted[i]);\n                            btnPayBet.lblBeted.node.color = cc.Color.WHITE;\n                        }\n                    }\n                    break;\n                }\n                case cmd.Code.RESULT: {\n                    let res = new cmd.ReceiveResult(data);\n                    //  cc.log(\"BAU CUA RESULT:\", res);\n                    this.atcShowResult(res);\n                    break;\n                }\n                case cmd.Code.PRIZE: {\n                    let res = new cmd.ReceivePrize(data);\n                    //  cc.log(\"BAU CUA PRIZE:\");\n                    //show win coin\n                    Configs.Login.Coin = res.currentMoney;\n                    BroadcastReceiver.send(BroadcastReceiver.USER_UPDATE_COIN);\n                    this.lblWinCoin.node.stopAllActions();\n                    this.lblWinCoin.node.setPosition(-26, -16);\n                    this.lblWinCoin.node.opacity = 0;\n                    this.lblWinCoin.string = \"+\" + Utils.formatNumber(res.prize);\n                    this.lblWinCoin.node.active = true;\n                    this.lblWinCoin.node.runAction(cc.sequence(\n                        cc.spawn(cc.fadeIn(0.2), cc.moveBy(2, cc.v2(0, 100))),\n                        cc.fadeOut(0.15),\n                        cc.callFunc(() => {\n                            this.lblWinCoin.node.active = false;\n                        })\n                    ));\n                    break;\n                }\n                case cmd.Code.BET: {\n                    let res = new cmd.ReceiveBet(data);\n                    //  cc.log(\"============BAU CUA BET===============\" + res.result);\n                    switch (res.result) {\n                        case 100:\n                            this.showToast(App.instance.getTextLang('txt_bet_error2'));\n                            break;\n                        case 101:\n                            this.showToast(App.instance.getTextLang('txt_bet_error3'));\n                            break;\n                        case 102:\n                            this.showToast(App.instance.getTextLang('txt_not_enough'));\n                            break;\n                        case 103:\n                            this.showToast(\"Chỉ được cược tối đa 1000.000.\");\n                            this.btnConfirm.interactable = true;\n                            this.btnCancel.interactable = true;\n                            this.btnReBet.interactable = true;\n                            break;\n                    }\n                    if (res.result != 1) {\n                        break;\n                    }\n                    Configs.Login.Coin = res.currentMoney;\n                    BroadcastReceiver.send(BroadcastReceiver.USER_UPDATE_COIN);\n                    for (let i = 0; i < this.btnPayBets.length; i++) {\n                        this.beted[i] += this.betting[i];\n                        this.betting[i] = 0;\n\n                        let btnPayBet = this.btnPayBets[i];\n                        btnPayBet.lblBeted.string = this.moneyToK(this.beted[i]);\n                        btnPayBet.lblBeted.node.color = cc.Color.WHITE;\n                    }\n                    BauCuaController.lastBeted = this.beted;\n                    this.showToast(App.instance.getTextLang('txt_bet_success'));\n                    this.btnConfirm.interactable = true;\n                    this.btnCancel.interactable = true;\n                    this.btnReBet.interactable = true;\n                    break;\n                }\n            }\n        }, this);\n    }\n\n    onBtnScrollLeft() {\n        this.percentScroll -= 0.3;\n        if (this.percentScroll <= 0) this.percentScroll = 0;\n\n        this.scrollChip.scrollToPercentHorizontal(this.percentScroll, 0.1);\n    }\n\n    onBtnScrollRight() {\n        this.percentScroll += 0.3;\n        if (this.percentScroll >= 1) this.percentScroll = 1;\n        this.scrollChip.scrollToPercentHorizontal(this.percentScroll, 0.1);\n    }\n\n    private spin(arrDice) {\n        for (let i = 0; i < this.btnPayBets.length; i++) {\n            let btnPayBet = this.btnPayBets[i];\n            btnPayBet.overlay.active = false;\n        }\n        for (let i = 0; i < arrDice.length; i++) {\n            let btnPayBet = this.btnPayBets[arrDice[i]];\n            btnPayBet.overlay.active = true;\n            TW(btnPayBet.overlay).then(cc.blink(2.0, 10)).start();\n        }\n\n    }\n\n    private longToTime(time: number): string {\n        let m = parseInt((time / 60).toString());\n        let s = time % 60;\n        // return (m < 10 ? \"0\" : \"\") + m + \":\" + (s < 10 ? \"0\" : \"\") + s;\n        return (s < 10 ? \"0\" : \"\") + s;\n    }\n\n    private moneyToK(money: number): string {\n        if (money < 100000) {\n            return Utils.formatNumber(money);\n        }\n        // money = parseInt((money / 1000).toString());\n        return Utils.formatMoney(money);\n    }\n\n    private addHistory(dices: Array<number>) {\n        // if (this.itemHistoryTemplate.parent.childrenCount > 50) {\n        //     this.itemHistoryTemplate.parent.children[1].removeFromParent();\n        //     this.historiesData.splice(0, 1);\n        // }\n        this.historiesData.push(dices);\n        // let item = cc.instantiate(this.itemHistoryTemplate);\n        // item.parent = this.itemHistoryTemplate.parent;\n        // item.active = true;\n        // item.getChildByName(\"dice1\").getComponent(cc.Sprite).spriteFrame = this.sprSmallDices[dices[0]];\n        // item.getChildByName(\"dice2\").getComponent(cc.Sprite).spriteFrame = this.sprSmallDices[dices[1]];\n        // item.getChildByName(\"dice3\").getComponent(cc.Sprite).spriteFrame = this.sprSmallDices[dices[2]];\n    }\n    private loadHistory(historyData) {\n        let listData = historyData.slice();\n        listData.reverse();\n        let updateCb = (item, dices) => {\n            item.active = true;\n            item.getChildByName(\"dice1\").getComponent(cc.Sprite).spriteFrame = this.sprSmallDices[dices[0]];\n            item.getChildByName(\"dice2\").getComponent(cc.Sprite).spriteFrame = this.sprSmallDices[dices[1]];\n            item.getChildByName(\"dice3\").getComponent(cc.Sprite).spriteFrame = this.sprSmallDices[dices[2]];\n        }\n        this.scrHistory.setDataList(updateCb, listData);\n    }\n    private caculatorSoiCau() {\n        let counts = [0, 0, 0, 0, 0, 0];\n        for (let i = 0; i < this.historiesData.length; i++) {\n            let dices = this.historiesData[i];\n            for (let j = 0; j < 3; j++) {\n                counts[dices[j]]++;\n            }\n        }\n        for (let i = 0; i < this.lblsSoiCau.length; i++) {\n            this.lblsSoiCau[i].string = counts[i].toString();\n        }\n    }\n\n    private showToast(message: string) {\n        this.lblToast.string = message;\n        let parent = this.lblToast.node.parent;\n        parent.stopAllActions();\n        parent.active = true;\n        parent.opacity = 0;\n        parent.runAction(cc.sequence(cc.fadeIn(0.1), cc.delayTime(2), cc.fadeOut(0.2), cc.callFunc(() => {\n            parent.active = false;\n        })));\n    }\n\n    actSoiCau() {\n        this.nodeHistories.active = !this.nodeHistories.active;\n        this.nodeSoiCau.active = !this.nodeHistories.active;\n    }\n\n    actCancel() {\n        if (!this.inited) return;\n        for (let i = 0; i < this.btnPayBets.length; i++) {\n            let btnPayBet = this.btnPayBets[i];\n            btnPayBet.lblBeted.node.color = cc.Color.WHITE;\n            btnPayBet.lblBeted.string = this.moneyToK(this.beted[i]);\n            this.betting[i] = 0;\n        }\n    }\n\n    actConfirm(index) {\n        if (!this.inited) return;\n        if (!this.isBetting) {\n            this.showToast(App.instance.getTextLang('txt_bet_error3'));\n            return;\n        }\n        if (Configs.Login.Coin < this.listBet[this.betIdx]) {\n            this.showToast(App.instance.getTextLang('txt_not_enough'));\n            return;\n        }\n        if (Date.now() - this.timeBet < 1000) {\n            this.showToast(App.instance.getTextLang('txt_notify_fast_action'));\n            return;\n        }\n\n        this.betting[index] += this.listBet[this.betIdx];\n        let total = 0;\n        for (let i = 0; i < this.betting.length; i++) {\n            total += this.betting[i];\n        }\n        if (total <= 0) {\n            this.showToast(App.instance.getTextLang('txt_bet_error4'));\n            return;\n        }\n        this.btnPayBets[index].lblBeted.string = this.moneyToK(this.betting[index] + this.beted[index]);\n\n        this.timeBet = Date.now();\n        MiniGameNetworkClient.getInstance().send(new cmd.SendBet(this.betting.toString()));\n        this.btnConfirm.interactable = false;\n        this.btnCancel.interactable = false;\n        this.btnReBet.interactable = false;\n    }\n\n\n\n    actReBet() {\n        if (!this.inited) return;\n        if (!this.isBetting) {\n            this.showToast(App.instance.getTextLang('txt_bet_error3'));\n            return;\n        }\n        if (BauCuaController.lastBeted == null) {\n            this.showToast(App.instance.getTextLang('txt_bet_error5'));\n            return;\n        }\n        let totalBeted = 0;\n        for (let i = 0; i < this.beted.length; i++) {\n            totalBeted += this.beted[i];\n        }\n        if (totalBeted > 0) {\n            this.showToast(App.instance.getTextLang('txt_bet_error6'));\n            return;\n        }\n        this.betting = BauCuaController.lastBeted;\n        MiniGameNetworkClient.getInstance().send(new cmd.SendBet(BauCuaController.lastBeted.toString()));\n        this.btnConfirm.interactable = false;\n        this.btnCancel.interactable = false;\n        this.btnReBet.interactable = false;\n    }\n\n    show() {\n        if (this.node.active) {\n            this.reOrder();\n            return;\n        }\n        super.show();\n        App.instance.showBgMiniGame(\"BauCua\");\n        this.inited = false;\n        this.lblToast.node.parent.active = false;\n        this.lblWinCoin.node.active = false;\n        this.betIdx = 0;\n        this.betting = [0, 0, 0, 0, 0, 0];\n        this.beted = [0, 0, 0, 0, 0, 0];\n        this.historiesData = [];\n\n        this.nodeHistories.active = true;\n        this.nodeSoiCau.active = !this.nodeHistories.active;\n        this.nodeHistories.getComponent(cc.ScrollView).scrollToTop(0);\n\n        for (let i = 0; i < this.buttonBets.length; i++) {\n            this.buttonBets[i].setActive(i == this.betIdx);\n        }\n        for (let i = 0; i < this.btnPayBets.length; i++) {\n            let btnPayBet = this.btnPayBets[i];\n            btnPayBet.lblBeted.string = \"0\";\n            btnPayBet.lblBeted.node.color = cc.Color.WHITE;\n            btnPayBet.lblTotal.string = \"0\";\n            btnPayBet.lblFactor.node.active = false;\n            btnPayBet.overlay.active = true;\n            btnPayBet.button.interactable = false;\n        }\n\n        MiniGameNetworkClient.getInstance().send(new cmd.SendScribe(this.roomId));\n    }\n\n    dismiss() {\n        super.dismiss();\n        for (let i = 0; i < this.popups.length; i++) {\n            this.popups[i].active = false;\n        }\n\n        App.instance.hideGameMini(\"BauCua\");\n        // for (let i = 1; i < this.itemHistoryTemplate.parent.childrenCount; i++) {\n        //     this.itemHistoryTemplate.parent.children[i].destroy();\n        // }\n        MiniGameNetworkClient.getInstance().send(new cmd.SendUnScribe(this.roomId));\n    }\n    _onShowed() {\n        super._onShowed;\n\n    }\n\n    public reOrder() {\n        super.reOrder();\n    }\n\n    atcShowResult(res) {\n        this.sprResultDice.children[0].getComponent(cc.Sprite).spriteFrame = this.sprResultDices[res.dice1];\n        this.sprResultDice.children[1].getComponent(cc.Sprite).spriteFrame = this.sprResultDices[res.dice2];\n        this.sprResultDice.children[2].getComponent(cc.Sprite).spriteFrame = this.sprResultDices[res.dice3];\n        let bowlOn = this.bowl.getChildByName(\"bowl\");\n        cc.Tween.stopAllByTarget(bowlOn);\n        TW(bowlOn).to(0.7, { y: bowlOn.y + 50, opacity: 150, scale: 1.0 }, { easing: cc.easing.sineIn })\n            .call(() => {\n                this.historiesData.push([res.dice1, res.dice2, res.dice3]);\n                this.loadHistory(this.historiesData);\n                this.caculatorSoiCau();\n                if (res.xValue > 1) {\n                    this.btnPayBets[res.xPot].lblFactor.node.active = true;\n                    this.btnPayBets[res.xPot].lblFactor.string = \"x\" + res.xValue;\n                }\n                this.spin([res.dice1, res.dice2, res.dice3]);\n                bowlOn.active = false;\n            }).start();\n    }\n    actStartNewGame() {\n\n        let bowlOn = this.bowl.getChildByName(\"bowl\");\n        bowlOn.active = true;\n        TW(bowlOn).set({ opacity: 255, y: 0, scale: 1 }).start();\n        let initPos = this.bowl.getPosition();\n        let acShake = TW().to(0.1, { x: initPos.x - 20, scale: 1.0 }).to(0.1, { x: initPos.x }).to(0.1, { x: initPos.x + 20 }).to(0.1, { x: initPos.x, scale: 0.8 });\n        cc.Tween.stopAllByTarget(this.bowl);\n        TW(this.bowl).repeat(5, acShake).call(() => {\n            this.showToast(App.instance.getTextLang('txt_bet_invite'));\n        }).start();\n    }\n    actPopupHonors() {\n        App.instance.showBgMiniGame(\"BauCua\");\n        if (this.popupHonor == null) {\n            this.baucuaBundle.load(\"res/Prefabs/PopupHonors\", cc.Prefab, function (finish, total, item) {\n\n            }, (err1, prefab) => {\n                this.popupHonor = cc.instantiate(prefab).getComponent(\"BauCua.PopupHonors\");\n                this.popupHonor.node.parent = this.popupContainer;\n                this.popupHonor.node.active = true;\n                this.popupHonor.show();\n                this.popups.push(this.popupHonor.node);\n            })\n        } else {\n            this.popupHonor.show();\n        }\n    }\n    actPopupHistory() {\n        App.instance.showBgMiniGame(\"BauCua\");\n        if (this.popupHistory == null) {\n            this.baucuaBundle.load(\"res/Prefabs/PopupHistory\", cc.Prefab, function (finish, total, item) {\n\n            }, (err1, prefab) => {\n                this.popupHistory = cc.instantiate(prefab).getComponent(\"BauCua.PopupHistory\");\n                this.popupHistory.node.parent = this.popupContainer;\n                this.popupHistory.node.active = true;\n                this.popupHistory.show();\n                this.popups.push(this.popupHistory.node);\n            })\n        } else {\n            this.popupHistory.show();\n        }\n    }\n    actPopupGuide() {\n        App.instance.showBgMiniGame(\"BauCua\");\n        if (this.popupGuide == null) {\n            this.baucuaBundle.load(\"res/Prefabs/PopupGuide\", cc.Prefab, function (finish, total, item) {\n\n            }, (err1, prefab) => {\n                this.popupGuide = cc.instantiate(prefab).getComponent(\"Dialog\");\n                this.popupGuide.node.parent = this.popupContainer;\n                this.popupGuide.node.active = true;\n                this.popupGuide.show();\n                this.popups.push(this.popupGuide.node);\n            })\n        } else {\n            this.popupGuide.show();\n        }\n    }\n}\n"]}
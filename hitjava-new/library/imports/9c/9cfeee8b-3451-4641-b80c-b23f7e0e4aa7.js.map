{"version":3,"sources":["assets\\TaiXiuMD5\\TaiXiuScript\\TaiXiu1\\TaiXiuMD5.PopupHonors.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import Configs from \"../../../Loading/src/Configs\";\nimport Http from \"../../../Loading/src/Http\";\nimport App from \"../../../Lobby/LobbyScript/Script/common/App\";\nimport Dialog from \"../../../Lobby/LobbyScript/Script/common/Dialog\";\nimport ScrollViewControl from \"../../../Lobby/LobbyScript/Script/common/ScrollViewControl\";\nimport Utils from \"../../../Lobby/LobbyScript/Script/common/Utils\";\n\nconst { ccclass, property } = cc._decorator;\n\nnamespace taixiumini {\n    @ccclass\n    export class PopupHonors extends Dialog {\n        @property(cc.Node)\n        itemTemplate: cc.Node = null;\n\n        private items = new Array<cc.Node>();\n\n        show() {\n            super.show();\n\n            for (let i = 0; i < this.items.length; i++) {\n                this.items[i].active = false;\n            }\n            if (this.itemTemplate != null) this.itemTemplate.active = false;\n\n\n        }\n\n        dismiss() {\n            super.dismiss();\n            for (let i = 0; i < this.items.length; i++) {\n                this.items[i].active = false;\n            }\n        }\n\n        _onShowed() {\n            super._onShowed();\n            this.loadData();\n        }\n\n        private loadData() {\n            App.instance.showLoading(true);\n            Http.get(Configs.App.API, { \"c\": 101, \"mt\": Configs.App.MONEY_TYPE, \"txType\": 1, \"md5\": 1 }, (err, res) => {\n                App.instance.showLoading(false);\n                if (err != null) return;\n                if (res[\"success\"]) {\n\n                    if (this.items.length == 0) {\n                        for (var i = 0; i < 10; i++) {\n                            let item = cc.instantiate(this.itemTemplate);\n                            item.parent = this.itemTemplate.parent;\n                            this.items.push(item);\n                        }\n                        this.itemTemplate.destroy();\n                        this.itemTemplate = null;\n                    }\n\n                    for (let i = 0; i < this.items.length; i++) {\n                        let item = this.items[i];\n                        if (i < res[\"topTX\"].length) {\n                            let itemData = res[\"topTX\"][i];\n                            item.getChildByName(\"bg\").opacity = i % 2 == 0 ? 10 : 0;\n                            item.getChildByName(\"lblRank\").getComponent(cc.Label).string = (i + 1).toString();\n                            item.getChildByName(\"lblAccount\").getComponent(cc.Label).string = itemData[\"username\"];\n                            item.getChildByName(\"lblWin\").getComponent(cc.Label).string = Utils.formatNumber(itemData[\"money\"]);\n                            item.active = true;\n                        } else {\n                            item.active = false;\n                        }\n                    }\n                }\n            });\n        }\n    }\n\n}\n\nexport default taixiumini.PopupHonors;"]}
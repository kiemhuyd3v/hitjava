{"version":3,"sources":["assets\\ShootFish\\ShootFishScript\\ShootFish.Play.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import Player from \"./ShootFish.Player\";\nimport Bullet from \"./ShootFish.Bullet\";\nimport Fish from \"./ShootFish.Fish\";\nimport Configs from \"../../Loading/src/Configs\";\nimport CoinEffect from \"./ShootFish.CoinEffect\";\nimport EffectJackpot from \"./ShootFish.EffectJackpot\";\nimport Lobby from \"./ShootFish.Lobby\";\nimport PanelMenu from \"./ShootFish.PanelMenu\";\nimport PopupGuide from \"./ShootFish.PopupGuide\";\nimport EffectBigWin from \"./ShootFish.EffectBigWin\";\nimport App from \"../../Lobby/LobbyScript/Script/common/App\";\nimport Tween from \"../../Lobby/LobbyScript/Script/common/Tween\";\nimport Utils from \"../../Lobby/LobbyScript/Script/common/Utils\";\nimport ShootFishNetworkClient from \"../../Lobby/LobbyScript/Script/networks/ShootFishNetworkClient\";\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class Play extends cc.Component {\n\n    public static instance: Play = null;\n    public static SERVER_CONFIG = null;\n\n    @property(cc.Node)\n    lobby: cc.Node = null;\n    @property(cc.Node)\n    loading: cc.Node = null;\n    @property(cc.Node)\n    touchPad: cc.Node = null;\n    @property([cc.SpriteFrame])\n    sprFramesBullet: cc.SpriteFrame[] = [];\n    @property(cc.Node)\n    bulletTemplate: cc.Node = null;\n    @property([Player])\n    players: Player[] = [];\n    @property([cc.Node])\n    fishsAnim: cc.Node[] = [];\n    @property(cc.Node)\n    fishsNode: cc.Node = null;\n    @property(cc.Node)\n    fishTemplate: cc.Node = null;\n    @property(cc.Node)\n    coinEffectTemplate: cc.Node = null;\n    @property(cc.Label)\n    lblJackpot: cc.Label = null;\n    @property(cc.Toggle)\n    toggleAuto: cc.Toggle = null;\n    @property(cc.Node)\n    target: cc.Node = null;\n    @property(cc.Node)\n    waveState: cc.Node = null;\n\n    @property(cc.Button)\n    btnFastShoot: cc.Button = null;\n    @property(cc.ProgressBar)\n    progressFastShoot: cc.ProgressBar = null;\n    @property(cc.Label)\n    lblFastShootTime: cc.Label = null;\n\n    @property(cc.Button)\n    btnTargetFish: cc.Button = null;\n    @property(cc.ProgressBar)\n    progressTargetFish: cc.ProgressBar = null;\n    @property(cc.Label)\n    lblTargetFishTime: cc.Label = null;\n\n    //effect\n    @property(EffectJackpot)\n    effectJackpot: EffectJackpot = null;\n    @property(EffectBigWin)\n    effectBigWin: EffectBigWin = null;\n    @property(EffectBigWin)\n    effectMegaWin: EffectBigWin = null;\n    @property(PanelMenu)\n    panelMenu: PanelMenu = null;\n    @property(cc.Node)\n    popupGuide: cc.Node = null;\n    @property(cc.Label)\n    lblPing: cc.Label = null;\n    @property(cc.Label)\n    lblServerTime: cc.Label = null;\n\n    //sound\n\n    @property({ type: cc.AudioClip })\n    soundShoot: cc.AudioClip = null;\n\n    @property({ type: cc.AudioClip })\n    soundCoin: cc.AudioClip = null;\n\n    @property({ type: cc.AudioClip })\n    soundBigWin: cc.AudioClip = null;\n\n    @property({ type: cc.AudioClip })\n    soundBg: cc.AudioClip = null;\n\n    @property(cc.Node)\n    soundOff: cc.Node = null;\n    @property(cc.Node)\n    musicOff: cc.Node = null;\n\n\n    public mePlayer: Player = null;\n    private bullets: Bullet[] = [];\n    private fishs: Fish[] = [];\n    private coinEffects: CoinEffect[] = [];\n    private isStateGeted = false;\n    private inited = false;\n    private lastUpdateTime = -1;\n\n    private roomId = 0;\n    private listBet: Array<number> = [];\n    private listJackpot: Array<number> = [];\n    private betIdx = 0;\n    private readonly mapPlayersIdx = [\n        [0, 1, 2, 3],\n        [1, 0, 3, 2],\n        [2, 3, 0, 1],\n        [3, 2, 1, 0]\n    ];\n\n    private shootInterval = 0.25;\n    private fastShootInterval = 0.13;\n    private curShootInterval = 0;\n    private isShoot = false;\n    private isFastShoot = false;\n    private isTargetFish = false;\n\n    private targetFish: Fish = null;\n    private readonly intervalFindTargetFish = 2;\n    private curIntervalFindTargetFish = 0;\n\n    private curTimeFastShootCountdown = 0;\n    private curTimeTargetFishCountdown = 0;\n    private tweens = new Array<cc.Tween>();\n\n    private remoteMusicBackground = null;\n    private musicState = 1;\n    private soundState = 1;\n    \n    private init() {\n        if (this.inited) return;\n\n        this.mePlayer = this.players[0];\n    }\n\n    onLoad() {\n        Play.instance = this;\n    }\n\n    start() {\n        this.bulletTemplate.active = false;\n\n        this.touchPad.on(cc.Node.EventType.TOUCH_START, (event: cc.Event.EventTouch) => {\n            var touchPos = event.getLocation();\n            this.mePlayer.rotateGun(touchPos);\n            this.isShoot = true;\n        }, this.touchPad);\n\n        this.touchPad.on(cc.Node.EventType.TOUCH_MOVE, (event: cc.Event.EventTouch) => {\n            var touchPos = event.getLocation();\n            this.mePlayer.rotateGun(touchPos);\n        }, this.touchPad);\n\n        this.touchPad.on(cc.Node.EventType.TOUCH_END, (event: cc.Event.EventTouch) => {\n            this.isShoot = false;\n        }, this.touchPad);\n\n        this.touchPad.on(cc.Node.EventType.TOUCH_CANCEL, (event: cc.Event.EventTouch) => {\n            this.isShoot = false;\n        }, this.touchPad);\n\n        this.toggleAuto.node.on(\"toggle\", () => {\n            if (this.toggleAuto.isChecked) {\n                this.touchPad.active = false;\n                this.curIntervalFindTargetFish = this.intervalFindTargetFish;\n                this.isShoot = true;\n                this.findTargetFishInWorld();\n            } else {\n                this.stopAutoShoot();\n            }\n        });\n\n        ShootFishNetworkClient.getInstance().addListener((route, data) => {\n            if (!this.node.active || !this.isStateGeted) return;\n            switch (route) {\n                case \"OnUpdateJackpot\": {\n                    ////  cc.log(\"route: \" + route + \" data: \"+ JSON.stringify(data));\n                    this.listJackpot.length = 0;\n                    this.listJackpot.push(data[this.roomId + \"1\"]);\n                    this.listJackpot.push(data[this.roomId + \"2\"]);\n                    this.listJackpot.push(data[this.roomId + \"3\"]);\n                    this.listJackpot.push(data[this.roomId + \"4\"]);\n\n                    Tween.numberTo(this.lblJackpot, this.listJackpot[this.betIdx], 0.3);\n                    break;\n                }\n                case \"OnEnterPlayer\": {\n                    ////  cc.log(\"route: \" + route + \" data: \"+ JSON.stringify(data));\n                    let playerData = data[\"data\"];\n                    let localPos = this.mapPlayersIdx[this.mePlayer.serverPos][playerData[\"posIndex\"]];\n                    let player = this.players[localPos];\n                    player.set(playerData[\"id\"], playerData[\"playerId\"], playerData[\"nickname\"], playerData[\"cash\"], playerData[\"avatar\"]);\n                    player.serverPos = playerData[\"posIndex\"];\n                    player.lblBet.string = Utils.formatNumberMin(this.listBet[this.betIdx]);\n                    break;\n                }\n                case \"OnLeavePlayer\": {\n                    // //  cc.log(\"route: \" + route + \" data: \" + JSON.stringify(data));\n                    let username = data[\"playerId\"];\n                    if (username == Configs.Login.UsernameFish) {\n                        if (data[\"reason\"] == 1) {\n                            App.instance.alertDialog.showMsg(\"Bạn được mời ra khỏi phòng do không thao tác trong thời gian dài.\");\n                        }\n                        this.back();\n                    }\n                    let player = this.getPlayerByUsername(username);\n                    if (player == null) break;\n                    player.leave();\n                    break;\n                }\n                case \"OnUpdateObject\": {\n                    ////  cc.log(\"route: \" + route + \" data: \"+ JSON.stringify(data));\n                    let fishId = data[\"id\"];\n                    let fish = this.getFishById(fishId);\n                    if (fish == null) {\n                        //  //  cc.log(\"can't find fish \" + fishId);\n                        break;\n                    }\n                    fish.setData(data);\n\n                    break;\n                }\n                case \"OnUpdateCash\": {\n                    // //  cc.log(\"route: \" + route + \" data: \"+ JSON.stringify(data));\n                    let username = data['playerId'];\n                    let coin = Number(data['cash']);\n                    let scr = data['scr'];\n                    if (username == Configs.Login.UsernameFish) {\n                        Configs.Login.CoinFish = coin;\n                    }\n                    let player = this.getPlayerByUsername(username);\n                    if (player == null) break;\n                    player.coin = coin;\n                    player.lblCoin.string = Utils.formatNumber(coin);\n\n                    switch (scr) {\n                        case 2:\n                            //jackpot\n                            this.effectBigWin.show(false);\n                            this.effectMegaWin.show(false);\n                            this.effectJackpot.show(true, player.nickname, coin);\n                            break;\n                        case 3:\n                            //ech ngam vang\n                            break;\n                    }\n                    break;\n                }\n                case \"OnObjectDie\": {\n                    ////  cc.log(\"route: \" + route + \" data: \"+ JSON.stringify(data));\n                    let fishId = data[\"id\"];\n                    let coin = data[\"value\"];\n                    let playerId = data[\"playerId\"];\n\n                    let fish = this.getFishById(fishId);\n                    if (fish == null) break;\n                    fish.die();\n\n                    //reset targetFish\n                    if (fish == this.targetFish) {\n                        this.exploreAllBulletWithTargetFishId(this.targetFish.id);\n                        this.target.active = false;\n                        this.targetFish = null;\n                        this.curIntervalFindTargetFish = 0;\n                    }\n\n                    let player = this.getPlayerByUsername(playerId);\n                    if (player == null) break;\n                    //coin effect\n                    let coinEffect = this.getCoinEffect();\n                    coinEffect.run(coin, new cc.Vec2(fish.node.position.x,fish.node.position.y), new cc.Vec2(player.node.position.x,player.node.position.y));\n                    if(this.soundState == 1){\n                        cc.audioEngine.play(this.soundCoin, false, 1);\n                    }\n                    \n\n                    switch (fish.type) {\n                        case 15:\n                        case 16:\n                        case 17:\n                        case 18:\n                        case 19:\n                        case 20:\n                        case 21:\n                            if (!this.effectJackpot.node.active)\n                                this.effectMegaWin.show(true, player.nickname, coin);\n                            break;\n                        case 22:\n                        case 23:\n                        case 24:\n                            if (!this.effectJackpot.node.active)\n                                this.effectBigWin.show(true, player.nickname, coin);\n                            break;\n                        case 10:\n                            //an than tai\n                            break;\n                    }\n                    break;\n                }\n                case \"OnShoot\": {\n                    // //  cc.log(\"route: \" + route + \" data: \" + JSON.stringify(data));\n                    let username = data[\"playerId\"];\n                    let betIdx = Number(data['type']) - 1;\n                    let rad = data['rad'];\n                    let target = Number(data[\"target\"]);\n\n                    if (username == Configs.Login.UsernameFish) break;\n\n                    let player = this.getPlayerByUsername(username);\n                    if (player == null) break;\n                    let radByMe = rad;\n                    switch (this.mePlayer.serverPos) {\n                        case 0:\n                            radByMe = rad;\n                            break;\n                        case 1:\n                            radByMe = Math.PI - rad;\n                            break;\n                        case 2:\n                            radByMe = rad - Math.PI;\n                            break;\n                        case 3:\n                            radByMe = -rad;\n                            break;\n                    }\n                    player.lblBet.string = Utils.formatNumberMin(this.listBet[betIdx]);\n                    player.gunRotate.angle = radByMe * Utils.Rad2Deg;\n                    player.setGun(betIdx);\n                    player.shoot();\n\n                    var bullet = this.getBullet();\n                    bullet.targetFishId = target;\n                    bullet.bullet.getComponent(cc.Sprite).spriteFrame = this.sprFramesBullet[betIdx];\n                    bullet.node.angle = player.gunRotate.angle;\n                    var pos = bullet.node.parent.convertToNodeSpaceAR(player.gunRotate.convertToWorldSpaceAR(cc.Vec2.ZERO));\n                    pos.x += Utils.degreesToVec2(bullet.node.angle).x * 90;\n                    pos.y += Utils.degreesToVec2(bullet.node.angle).y * 90;\n                    bullet.node.setPosition(pos);\n                    bullet.run();\n                    break;\n                }\n                case \"OnChat\": {\n                    ////  cc.log(\"route: \" + route + \" data: \"+ JSON.stringify(data));\n                    break;\n                }\n                case \"OnNewState\": {\n                    ////  cc.log(\"route: \" + route + \" data: \"+ JSON.stringify(data));\n                    switch (data['state']) {\n                        case 3: {\n                            //ca tran\n                            this.waveState.stopAllActions();\n                            this.waveState.active = true;\n                            let pos = this.waveState.position;\n                            pos.x = 1400;\n                            this.waveState.position = pos;\n                            pos.x = -1400;\n                            this.waveState.runAction(cc.sequence(cc.moveTo(1, new cc.Vec2(pos.x,pos.y)), cc.callFunc(() => {\n                                this.waveState.active = false;\n                            })));\n                            break;\n                        }\n                    }\n                    break;\n                }\n                case \"OnJackpot\": {\n                    ////  cc.log(\"route: \" + route + \" data: \"+ JSON.stringify(data));\n                    let nickname = data['nickname'];\n                    let value = data['value'];\n                    let roomIdx = data['tableIndex'];\n\n                    var roomName = \"Phòng 1\";\n                    switch (roomIdx) {\n                        case 2:\n                            roomName = \"Phòng 2\";\n                            break;\n                        case 3:\n                            roomName = \"Phòng 3\";\n                            break;\n                    }\n                    let msg = \"Chúc mừng \\\"\" + nickname + \"\\\" đã săn được \" + Utils.formatNumber(value) + \" Xu trong \" + roomName + \".\"\n                    break;\n                }\n                default:\n                    // //  cc.log(\"====route: \" + route);\n                    break;\n            }\n        }, this);\n\n        this.init();\n\n        //setting music\n        this.checkMusicOnStart();\n        this.checkSoundOnStart();\n    }\n\n    checkMusicOnStart(){\n        var musicSave = cc.sys.localStorage.getItem(\"music_fish_shot\");\n        if (musicSave != null) {\n            this.musicState = parseInt(musicSave);\n        } else {\n            this.musicState = 1;\n            cc.sys.localStorage.setItem(\"music_fish_shot\", \"1\");\n        }\n\n        if (this.musicState == 0) {\n            this.musicOff.active = true;\n        } else {\n            this.musicOff.active = false;\n        }\n        if (this.musicState == 1) {\n           \n            this.remoteMusicBackground = cc.audioEngine.playMusic(this.soundBg, true);\n        }\n    }\n    checkSoundOnStart(){\n        var soundSave = cc.sys.localStorage.getItem(\"sound_fish_shot\");\n        if (soundSave != null) {\n            this.soundState = parseInt(soundSave);\n        } else {\n            this.soundState = 1;\n            cc.sys.localStorage.setItem(\"sound_fish_shot\", \"1\");\n        }\n\n        if (this.soundState == 0) {\n            this.soundOff.active = true;\n        } else {\n            this.soundOff.active = false;\n        }\n        \n    }\n\n    settingMusic(){\n        //  cc.log(this.musicOff.active);\n        this.musicOff.active = !this.musicOff.active;\n        if (this.musicOff.active) {\n            cc.audioEngine.stop(this.remoteMusicBackground);\n            this.musicState = 0;\n        } else {\n           \n            this.remoteMusicBackground = cc.audioEngine.playMusic(this.soundBg, true);\n            this.musicState = 1;\n        }\n        \n        cc.sys.localStorage.setItem(\"music_fish_shot\", \"\" + this.musicState);\n    }\n\n    settingSound(){\n        //  cc.log(this.soundOff.active);\n        this.soundOff.active = !this.soundOff.active;\n        if (this.soundOff.active) {\n          \n            this.soundState = 0;\n        } else {\n           \n            this.soundState = 1;\n        }\n        \n        cc.sys.localStorage.setItem(\"sound_fish_shot\", \"\" + this.soundState);\n    }\n\n    onDisable() {\n        this.tweens.forEach(element => {\n            element.stop();\n        });\n    }\n\n    onDestroy() {\n        this.tweens.forEach(element => {\n            element.stop();\n        });\n    }\n\n    update(dt) {\n        if (this.lblPing != null) {\n            this.lblPing.string = ShootFishNetworkClient.PING + \"ms\";\n        }\n        if (this.lblServerTime != null && this.lblServerTime.node.active) {\n            this.lblServerTime.string = \"t: \" + ShootFishNetworkClient.systemCurrentTimeMillis() + \" d: \" + ShootFishNetworkClient.TIME_DISTANCE + \" mp: \" + ShootFishNetworkClient.MIN_PING;\n        }\n\n        let now = ShootFishNetworkClient.systemCurrentTimeMillis();\n        if (this.isStateGeted && this.lastUpdateTime > 0 && now - this.lastUpdateTime > 500) {\n            //  cc.log(\"onresume getstate\");\n            this.getState(false);\n        }\n        this.lastUpdateTime = now;\n\n        if (this.curTimeFastShootCountdown > 0) {\n            this.curTimeFastShootCountdown = Math.max(0, this.curTimeFastShootCountdown - dt);\n            this.lblFastShootTime.string = Math.round(this.curTimeFastShootCountdown) + \"s\";\n            if (this.curTimeFastShootCountdown == 0) {\n                this.lblFastShootTime.node.active = false;\n                this.btnFastShoot.enabled = true;\n            }\n        }\n\n        if (this.curTimeTargetFishCountdown > 0) {\n            this.curTimeTargetFishCountdown = Math.max(0, this.curTimeTargetFishCountdown - dt);\n            this.lblTargetFishTime.string = Math.round(this.curTimeTargetFishCountdown) + \"s\";\n            if (this.curTimeTargetFishCountdown == 0) {\n                this.lblTargetFishTime.node.active = false;\n                this.btnTargetFish.enabled = true;\n            }\n        }\n\n        this.updateShoot(dt);\n\n        //update bullets\n        for (var i = 0, c = this.bullets.length; i < c; i++) {\n            let bulet = this.bullets[i];\n            bulet.updateRealTime(dt);\n        }\n\n        //update fishs\n        var listFishPoly = new Array<SAT.Polygon>();\n        for (var i = 0, c = this.fishs.length; i < c; i++) {\n            let fish = this.fishs[i];\n            fish.updateRealTime(dt);\n            if (fish.node.active && Math.abs(fish.node.x) < 640 * 1.1 && Math.abs(fish.node.y) < 360 * 1.1) {\n                listFishPoly.push(fish.getPolygon());\n            } else {\n                listFishPoly.push(null);\n            }\n        }\n\n        //check collision\n        for (var i = 0, cBullet = this.bullets.length; i < cBullet; i++) {\n            var bullet = this.bullets[i];\n            if (!bullet.node.active || bullet.isExploring || bullet.isExplored) continue;\n            var bulletCircle = bullet.getCircle();\n            for (var j = 0, cFish = this.fishs.length; j < cFish; j++) {\n                var fish = this.fishs[j];\n                if (listFishPoly[j] == null) continue;\n                if (bullet.targetFishId > 0 && bullet.targetFishId != fish.id) continue;\n                var isCollision = SAT.testCirclePolygon(bulletCircle, listFishPoly[j]);\n                if (isCollision) {\n                    bullet.explore();\n                    fish.hurt();\n                    break;\n                }\n            }\n        }\n        listFishPoly.length = 0;//clear memory\n    }\n\n    private play() {\n        this.isStateGeted = false;\n        this.resetView();\n        ShootFishNetworkClient.getInstance().ping(() => {\n            ShootFishNetworkClient.getInstance().ping(() => {\n                ShootFishNetworkClient.getInstance().ping(() => {\n                    //  cc.log(this.roomId);\n                    ShootFishNetworkClient.getInstance().request(\"play\", {\n                        \"playerId\": Configs.Login.UsernameFish,\n                        \"password\": Configs.Login.PasswordFish,\n                        \"index\": this.roomId,//roomId\n                    }, (res) => {\n                        //  cc.log(res);\n                        if (!res[\"ok\"]) {\n                            switch (res[\"err\"]) {\n                                case 4:\n                                    App.instance.confirmDialog.show2(\"Số dư không đủ vui lòng nạp thêm.\", (isConfirm) => {\n                                        if (isConfirm) {\n                                            Lobby.instance.popupCoinTransfer.show();\n                                        }\n                                    });\n                                    break;\n                                case 1:\n                                    ShootFishNetworkClient.getInstance().request(\"quit\", null, () => {\n                                    }, this);\n                                    App.instance.alertDialog.showMsg(\"Lỗi \" + res[\"err\"] + \", vui lòng thử lại.\");\n                                    break;\n                                default:\n                                    App.instance.alertDialog.showMsg(\"Lỗi \" + res[\"err\"] + \", không xác định.\");\n                                    break;\n                            }\n                            this.show(false);\n                            this.lobby.getComponent(Lobby).show(true);\n                            return;\n                        }\n                        this.getState(true);\n                    }, this);\n                }, this);\n            }, this);\n        }, this);\n    }\n\n    private resetView() {\n        this.betIdx = 0;\n\n        for (let i = 0; i < this.players.length; i++) {\n            this.players[i].leave();\n        }\n\n        for (let i = 0; i < this.fishs.length; i++) this.fishs[i].node.removeFromParent();\n        this.fishs.length = 0;\n\n        for (let i = 0; i < this.bullets.length; i++) this.bullets[i].node.active = false;\n        for (let i = 0; i < this.coinEffects.length; i++) this.coinEffects[i].node.active = false;\n\n        this.effectBigWin.show(false);\n        this.effectMegaWin.show(false);\n        this.effectJackpot.show(false);\n\n        this.popupGuide.active = false;\n\n        this.waveState.stopAllActions();\n        this.waveState.active = false;\n    }\n\n    private getJackpot() {\n        ShootFishNetworkClient.getInstance().request(\"getJackpot\", null, (res) => {\n            if (!res[\"ok\"]) return;\n            this.listJackpot.length = 0;\n            this.listJackpot.push(res[\"data\"][this.roomId + \"1\"]);\n            this.listJackpot.push(res[\"data\"][this.roomId + \"2\"]);\n            this.listJackpot.push(res[\"data\"][this.roomId + \"3\"]);\n            this.listJackpot.push(res[\"data\"][this.roomId + \"4\"]);\n\n            Tween.numberTo(this.lblJackpot, this.listJackpot[this.betIdx], 0.3);\n        }, this);\n    }\n\n    private getState(isFirst: boolean) {\n        if (!isFirst) App.instance.showLoading(true);\n        this.isStateGeted = false;\n\n        this.resetView();\n\n        ShootFishNetworkClient.getInstance().request(\"state\", null, (res) => {\n            if (!isFirst) App.instance.showLoading(false);\n            // //  cc.log(\"state: \" + JSON.stringify(res));\n            //init players\n            let playersData: Array<any> = res[\"players\"];\n            let mePlayerData = null;\n            let mePlayerServerPos = 0;\n            for (let i = 0; i < playersData.length; i++) {\n                if (playersData[i][\"playerId\"] == Configs.Login.UsernameFish) {\n                    mePlayerServerPos = playersData[i][\"posIndex\"];\n                    mePlayerData = playersData[i];\n                    Configs.Login.CoinFish = playersData[i][\"cash\"];\n                    break;\n                }\n            }\n            //  cc.log(\"mePlayerServerPos: \" + mePlayerServerPos);\n            for (let i = 0; i < playersData.length; i++) {\n                let localPos = this.mapPlayersIdx[mePlayerServerPos][playersData[i][\"posIndex\"]];\n                let playerData = playersData[i];\n                let player = this.players[localPos];\n                player.set(playerData[\"id\"], playerData[\"playerId\"], playerData[\"nickname\"], playerData[\"cash\"], playerData[\"avatar\"]);\n                player.serverPos = playerData[\"posIndex\"];\n                player.lblBet.string = Utils.formatNumberMin(this.listBet[this.betIdx]);\n            }\n            //end init players\n\n            //init fishs\n            let objects = res[\"objects\"].concat(res[\"sobjects\"]);\n            for (let i = 0; i < objects.length; i++) {\n                let fishNode = cc.instantiate(this.fishTemplate);\n                let fish = fishNode.getComponent(Fish);\n                fish.node.parent = this.fishsNode;\n                fish.setData(objects[i]);\n                this.fishs.push(fish);\n            }\n            //end init fish\n\n            //time skill\n            //fast shoot\n            var rfire = res['time'] - mePlayerData['rfire'];\n            var cRfire = Play.SERVER_CONFIG['FastFireCoolDownS'];\n            this.progressFastShoot.progress = 0;\n            if (rfire > cRfire) {\n                this.btnFastShoot.enabled = true;\n                this.lblFastShootTime.node.active = false;\n            } else {\n                this.btnFastShoot.enabled = false;\n                this.curTimeFastShootCountdown = rfire;\n                this.lblFastShootTime.string = this.curTimeFastShootCountdown + \"s\";\n                this.lblFastShootTime.node.active = true;\n            }\n            //target \n            var snipe = res['time'] - mePlayerData['snipe'];\n            var cSpine = Play.SERVER_CONFIG['SnipeCoolDownS'];\n            this.progressTargetFish.progress = 0;\n            if (snipe > cSpine) {\n                this.btnTargetFish.enabled = true;\n                this.lblFastShootTime.node.active = false;\n            } else {\n                this.btnTargetFish.enabled = false;\n                this.curTimeTargetFishCountdown = snipe;\n                this.lblTargetFishTime.string = this.curTimeTargetFishCountdown + \"s\";\n                this.lblTargetFishTime.node.active = true;\n            }\n\n            this.isStateGeted = true;\n\n            this.getJackpot();\n\n            if (isFirst) this.loading.active = false;\n        }, this);\n    }\n\n    private updateShoot(dt: number) {\n        if (this.toggleAuto.isChecked || this.isTargetFish) {\n            if (this.targetFish != null) {\n                var gunWorldPos = this.mePlayer.gunRotate.convertToWorldSpaceAR(cc.Vec2.ZERO);\n                var fishWorldPos = this.targetFish.node.convertToWorldSpaceAR(cc.v2(this.targetFish.node.width / 2, 0));\n                var distance = Utils.v2Distance(fishWorldPos, gunWorldPos);\n\n                if (Math.abs(this.targetFish.node.x) > 640 * 0.8 || Math.abs(this.targetFish.node.y) > 360 * 0.8 || distance < 135) {\n                    this.exploreAllBulletWithTargetFishId(this.targetFish.id);\n                    this.target.active = false;\n                    this.targetFish = null;\n                    this.curIntervalFindTargetFish = 0;\n                }\n                else {\n                    var dAngle = fishWorldPos.sub(gunWorldPos);\n                    var angle = Math.atan2(dAngle.y, dAngle.x) * Utils.Rad2Deg;\n                    this.mePlayer.gunRotate.angle = angle;\n                    // this.target.position = this.targetFish.node.position;\n                    this.target.setPosition(this.target.parent.convertToNodeSpaceAR(fishWorldPos));\n                }\n            } else if (!this.isTargetFish) {\n                this.curIntervalFindTargetFish = Math.max(0, this.curIntervalFindTargetFish - dt);\n                if (this.curIntervalFindTargetFish == 0) {\n                    this.findTargetFishInWorld();\n                }\n            }\n        }\n\n        if (this.curShootInterval > 0) {\n            this.curShootInterval = Math.max(0, this.curShootInterval - dt);\n        } else if (this.isShoot) {\n            this.curShootInterval = this.isFastShoot ? this.fastShootInterval : this.shootInterval;\n\n            if (Configs.Login.CoinFish < this.listBet[this.betIdx]) {\n                App.instance.alertDialog.showMsg(App.instance.getTextLang('txt_slot_error'));\n                this.isShoot = false;\n                if (this.toggleAuto.isChecked) this.stopAutoShoot();\n                return;\n            }\n\n            if ((this.toggleAuto.isChecked || this.isTargetFish) && this.targetFish == null) return;\n            \n            Configs.Login.CoinFish = Math.max(0, Configs.Login.CoinFish - this.listBet[this.betIdx]);\n            this.mePlayer.coin = Configs.Login.CoinFish;\n            this.mePlayer.lblCoin.string = Utils.formatNumber(Configs.Login.CoinFish);\n\n            this.mePlayer.shoot();\n\n            //play audio\n            if(this.soundState == 1){\n                cc.audioEngine.play(this.soundShoot, false, 1);\n            }\n            \n\n            let bulletAngle = this.mePlayer.gunRotate.angle;\n            var bullet = this.getBullet();\n            bullet.bullet.getComponent(cc.Sprite).spriteFrame = this.sprFramesBullet[this.betIdx];\n            bullet.targetFishId = this.targetFish != null ? this.targetFish.id : -1;\n            bullet.node.angle = bulletAngle;\n            var pos = bullet.node.parent.convertToNodeSpaceAR(this.mePlayer.gunRotate.convertToWorldSpaceAR(cc.Vec2.ZERO));\n            pos.x += Utils.degreesToVec2(bullet.node.angle).x * 90;\n            pos.y += Utils.degreesToVec2(bullet.node.angle).y * 90;\n            bullet.node.setPosition(pos);\n            bullet.run();\n\n            let shootRad = bulletAngle * Utils.Deg2Rad;\n            switch (this.mePlayer.serverPos) {\n                case 0:\n                    shootRad = shootRad;\n                    break;\n                case 1:\n                    shootRad = Math.PI - shootRad;\n                    break;\n                case 2:\n                    shootRad = shootRad - Math.PI;\n                    break;\n                case 3:\n                    shootRad = -shootRad;\n                    break;\n            }\n            ShootFishNetworkClient.getInstance().notify(\"shoot\", {\n                'rad': shootRad,//goc ban\n                'type': this.betIdx + 1,//loai sung 1->4\n                'target': this.targetFish != null ? this.targetFish.id : -1,//id ca target\n                'rapidFire': this.isFastShoot, //ban nhanh boolean,\n                'auto': false //ban tu dong boolean\n            });\n        }\n    }\n\n    private findTargetFishInWorld() {\n        this.curIntervalFindTargetFish = this.intervalFindTargetFish;\n\n        let listFishActiveInWorld = [];\n\n        var gunWorldPos = this.mePlayer.gunRotate.convertToWorldSpaceAR(cc.Vec2.ZERO);\n        for (let i = 0; i < this.fishs.length; i++) {\n            var fishNode = this.fishs[i].node;\n            if (fishNode.active && Math.abs(fishNode.position.x) <= 640 * 0.8 && Math.abs(fishNode.position.y) <= 360 * 0.8) {\n                var fishWorldPos = fishNode.convertToWorldSpaceAR(cc.Vec2.ZERO);\n                var distance = Utils.v2Distance(gunWorldPos, fishWorldPos);\n                if (distance >= 135) {\n                    listFishActiveInWorld.push({\n                        fish: this.fishs[i],\n                        distance: distance\n                    });\n                }\n            }\n        }\n        if (listFishActiveInWorld.length > 0) {\n            this.targetFish = listFishActiveInWorld[Utils.randomRangeInt(0, listFishActiveInWorld.length)][\"fish\"];\n            this.target.active = true;\n            this.target.position = this.targetFish.node.position;\n        }\n    }\n\n    private stopAutoShoot() {\n        this.isShoot = false;\n        this.toggleAuto.isChecked = false;\n        this.target.active = false;\n        this.touchPad.active = true;\n        this.curIntervalFindTargetFish = 0;\n        this.targetFish = null;\n    }\n\n    private getBullet(): Bullet {\n        let bullet: Bullet = null;\n        for (let i = 0; i < this.bullets.length; i++) {\n            if (!this.bullets[i].node.active) {\n                bullet = this.bullets[i];\n                break;\n            }\n        }\n        if (bullet == null) {\n            let node = cc.instantiate(this.bulletTemplate);\n            node.parent = this.bulletTemplate.parent;\n            bullet = node.getComponent(Bullet);\n            this.bullets.push(bullet);\n        }\n        bullet.node.active = true;\n        bullet.targetFishId = -1;\n        return bullet;\n    }\n\n    private exploreAllBulletWithTargetFishId(fishId: number) {\n        for (let i = 0; i < this.bullets.length; i++) {\n            if (this.bullets[i].node.active && this.bullets[i].targetFishId >= 0 && this.bullets[i].targetFishId == fishId) {\n                this.bullets[i].targetFishId = -1;\n            }\n        }\n    }\n\n    public getCoinEffect(): CoinEffect {\n        let coinEffect: CoinEffect = null;\n        for (let i = 0; i < this.coinEffects.length; i++) {\n            if (!this.coinEffects[i].node.active) {\n                coinEffect = this.coinEffects[i];\n                break;\n            }\n        }\n        if (coinEffect == null) {\n            let node = cc.instantiate(this.coinEffectTemplate);\n            node.parent = this.coinEffectTemplate.parent;\n            coinEffect = node.getComponent(CoinEffect);\n            this.coinEffects.push(coinEffect);\n        }\n        coinEffect.node.active = true;\n        coinEffect.node.setSiblingIndex(coinEffect.node.parent.children.length - 1);\n        return coinEffect;\n    }\n\n    private getFishById(id: number): Fish {\n        for (let i = 0; i < this.fishs.length; i++) {\n            if (this.fishs[i].id == id) return this.fishs[i];\n        }\n        return null;\n    }\n\n    private getPlayerById(id: number): Player {\n        if (id <= 0) return null;\n        for (let i = 0; i < this.players.length; i++) {\n            if (this.players[i].id > 0 && this.players[i].id == id) return this.players[i];\n        }\n        return null;\n    }\n\n    private getPlayerByUsername(username: string): Player {\n        if (username == null || username == \"\") return null;\n        for (let i = 0; i < this.players.length; i++) {\n            if (this.players[i].username != null && this.players[i].username != \"\" && this.players[i].username == username) return this.players[i];\n        }\n        return null;\n    }\n\n    public getFishAnimByType(type: number): cc.Node {\n        let name = \"\";\n        switch (type) {\n            case 0:\n                name = \"fish0\";\n                break;\n            case 1:\n                name = \"fish1\";\n                break;\n            case 2:\n                name = \"fish2\";\n                break;\n            case 3:\n                name = \"fish3\";\n                break;\n            case 4:\n                name = \"fish4\";\n                break;\n            case 5:\n                name = \"fish5\";\n                break;\n            case 6:\n                name = \"fish6\";\n                break;\n            case 7:\n                name = \"fish7\";\n                break;\n            case 8:\n                name = \"fish9\";\n                break;\n            case 9:\n                name = \"fish9\";\n                break;\n            case 10:\n                name = \"fish10\";\n                break;\n            case 11:\n                name = \"fish11\";\n                break;\n            case 12:\n                name = \"fish12\";\n                break;\n            case 13:\n                name = \"fish13\";\n                break;\n            case 14:\n                name = \"fish14\";\n                break;\n            case 15:\n                name = \"fish15\";\n                break;\n            case 16:\n                name = \"fish16\";\n                break;\n            case 17:\n                name = \"fish17\";\n                break;\n            case 18:\n                name = \"fish18\";\n                break;\n            case 19:\n                name = \"fish19\";\n                break;\n            case 20:\n                name = \"fish20\";\n                break;\n            case 21:\n                name = \"fish21\";\n                break;\n            case 22:\n                name = \"fish22\";\n                break;\n            case 23:\n                name = \"fish23\";\n                break;\n            case 24:\n                name = \"fish24\";\n                break;\n        }\n        for (let i = 0; i < this.fishsAnim.length; i++) {\n            if (this.fishsAnim[i].name != null && this.fishsAnim[i].name != \"\" && this.fishsAnim[i].name == name) {\n                return this.fishsAnim[i];\n            }\n        }\n        return this.fishsAnim[0];\n    }\n\n    public actGetState() {\n        this.getState(false);\n    }\n\n    public actBetUp() {\n        if (this.betIdx < this.listBet.length - 1) {\n            this.betIdx++;\n            this.mePlayer.lblBet.string = Utils.formatNumberMin(this.listBet[this.betIdx]);\n            this.mePlayer.setGun(this.betIdx);\n            Tween.numberTo(this.lblJackpot, this.listJackpot[this.betIdx], 0.3);\n        }\n    }\n\n    public actBetDown() {\n        if (this.betIdx > 0) {\n            this.betIdx--;\n            this.mePlayer.lblBet.string = Utils.formatNumberMin(this.listBet[this.betIdx]);\n            this.mePlayer.setGun(this.betIdx);\n            Tween.numberTo(this.lblJackpot, this.listJackpot[this.betIdx], 0.3);\n        }\n    }\n\n    public actBack() {\n        App.instance.confirmDialog.show2(\"Bạn có muốn rời khỏi bàn không\", (isConfirm) => {\n            if (isConfirm) {\n                this.back();\n            }\n        });\n    }\n\n    public actFastShoot() {\n        this.isFastShoot = true;\n        this.btnFastShoot.enabled = false;\n        var cDuration = Play.SERVER_CONFIG['FastFireDuration'];\n        this.progressFastShoot.progress = 1;\n        this.tweens.push(cc.tween(this.progressFastShoot).to(cDuration, { progress: 0 }).call(() => {\n            this.isFastShoot = false;\n            this.curTimeFastShootCountdown = Play.SERVER_CONFIG['FastFireCoolDownS'];\n            this.lblFastShootTime.string = this.curTimeFastShootCountdown + \"s\";\n            this.lblFastShootTime.node.active = true;\n        }).start());\n    }\n\n    public actTargetFish() {\n        this.isShoot = true;\n        this.isTargetFish = true;\n        this.btnTargetFish.enabled = false;\n        var cDuration = Play.SERVER_CONFIG['SnipeDurationS'];\n        this.progressTargetFish.progress = 1;\n        this.tweens.push(cc.tween(this.progressTargetFish).to(cDuration, { progress: 0 }).call(() => {\n            this.isTargetFish = false;\n            this.targetFish = null;\n            this.target.active = false;\n            this.curTimeTargetFishCountdown = Play.SERVER_CONFIG['SnipeCoolDownS'];\n            this.lblTargetFishTime.string = this.curTimeTargetFishCountdown + \"s\";\n            this.lblTargetFishTime.node.active = true;\n            this.fishs.forEach(x => {\n                x.getComponent(cc.Button).enabled = false;\n            });\n            this.isShoot = this.toggleAuto.isChecked;\n            this.touchPad.active = !this.toggleAuto.isChecked;\n        }).start());\n\n        this.touchPad.active = false;\n        this.fishs.forEach(x => {\n            x.getComponent(cc.Button).enabled = true;\n            x.node.off(\"click\");\n            x.node.on(\"click\", () => {\n                this.targetFish = x;\n                this.target.active = true;\n            });\n        });\n    }\n\n    private back() {\n        this.isStateGeted = false;\n        this.stopAutoShoot();\n        App.instance.showLoading(true);\n        ShootFishNetworkClient.getInstance().request(\"quit\", null, () => {\n            App.instance.showLoading(false);\n            this.resetView();\n            this.show(false);\n            this.lobby.getComponent(Lobby).show(true);\n        }, this);\n    }\n\n    public actEffectJackpotTest() {\n        this.effectJackpot.show(true, \"Test nickname\", 54032423);\n    }\n\n    public actEffectBigWinTest() {\n        this.effectBigWin.show(true, \"Test nickname\", 54032423);\n    }\n\n    public actEffectMegaWinTest() {\n        this.effectMegaWin.show(true, \"Test nickname\", 54032423);\n    }\n\n    public show(isShow: boolean, roomId: number = 0) {\n        if (isShow) {\n            if (Play.SERVER_CONFIG == null) {\n                this.lobby.getComponent(Lobby).show(true);\n                App.instance.alertDialog.showMsg(\"Bạn chưa đăng nhập.\");\n                return;\n            }\n            this.node.active = true;\n            this.loading.active = true;\n            this.roomId = roomId;\n\n            this.stopAutoShoot();\n            this.panelMenu.show(false);\n\n            this.listBet.length = 0;\n            this.listBet.push(Play.SERVER_CONFIG[\"TypeToValue\"][\"Bullet1\"] * Play.SERVER_CONFIG['TableBulletValueRate'][this.roomId]);\n            this.listBet.push(Play.SERVER_CONFIG[\"TypeToValue\"][\"Bullet2\"] * Play.SERVER_CONFIG['TableBulletValueRate'][this.roomId]);\n            this.listBet.push(Play.SERVER_CONFIG[\"TypeToValue\"][\"Bullet3\"] * Play.SERVER_CONFIG['TableBulletValueRate'][this.roomId]);\n            this.listBet.push(Play.SERVER_CONFIG[\"TypeToValue\"][\"Bullet4\"] * Play.SERVER_CONFIG['TableBulletValueRate'][this.roomId]);\n            this.shootInterval = 1 / Play.SERVER_CONFIG[\"FIRE_RATE\"];\n            this.fastShootInterval = this.shootInterval / Play.SERVER_CONFIG[\"FastFireRate\"];\n            this.play();\n        } else {\n            if (this.popupGuide.active) {\n                this.popupGuide.getComponent(PopupGuide).dismiss();\n            }\n            this.node.active = false;\n        }\n    }\n}\n"]}
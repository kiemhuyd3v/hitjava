{"version":3,"sources":["assets\\TaiXiuDouble\\TaiXiuScript\\src\\TaiXiuDouble.Controller.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["\nimport VersionConfig from \"../../../Loading/src/VersionConfig\";\nimport MiniGame from \"../../../Lobby/LobbyScript/MiniGame\";\nimport App from \"../../../Lobby/LobbyScript/Script/common/App\";\nimport BroadcastReceiver from \"../../../Lobby/LobbyScript/Script/common/BroadcastReceiver\";\nimport MiniGameNetworkClient from \"../../../Lobby/LobbyScript/Script/networks/MiniGameNetworkClient\";\nimport TX2NetworkClient from \"../../../Lobby/LobbyScript/Script/networks/TX2NetworkClient\";\nimport TaiXiuMiniController from \"../TaiXiu1/TaiXiuMini.TaiXiuMiniController\";\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class TaiXiuDoubleController extends MiniGame {\n\n    static instance: TaiXiuDoubleController = null;\n\n    @property(cc.Node)\n    taiXiu1Node: cc.Node = null;\n\n    \n\n    @property(cc.Node)\n    btnSwitch: cc.Node = null;\n\n    taiXiu1: TaiXiuMiniController = null;\n\n    private isShowTX1 = true;\n\n    public onLoad() {\n        super.onLoad();\n        this.taiXiu1 = this.taiXiu1Node.getComponent(TaiXiuMiniController);\n        TaiXiuDoubleController.instance = this;\n\n        switch (VersionConfig.CPName) {\n            \n        }\n    }\n\n    public reOrder(){\n        super.reOrder();\n        // App.instance.showBgMiniGame(\"TaiXiu\");\n    }\n\n    public start() {\n        BroadcastReceiver.register(BroadcastReceiver.USER_LOGOUT, () => {\n            if (!this.node.active) return;\n            this.dismiss();\n        }, this);\n\n        MiniGameNetworkClient.getInstance().addOnClose(() => {\n            if (!this.node.active) return;\n            this.dismiss();\n        }, this);\n\n        TX2NetworkClient.getInstance().addOnClose(() => {\n            if (!this.node.active) return;\n            this.dismiss();\n        }, this);\n    }\n\n    public show() {\n        super.show();\n        App.instance.showBgMiniGame(\"TaiXiu\");\n        this.isShowTX1 = true;\n\n        switch (VersionConfig.CPName) {\n            case VersionConfig.CP_NAME_HT68:\n            case VersionConfig.CP_NAME_F69:\n            case VersionConfig.CP_NAME_R99_2:\n            case VersionConfig.CP_NAME_MARBLES99:\n            case VersionConfig.CP_NAME_SIN99:\n            case VersionConfig.CP_NAME_ZINGVIP:\n                //nothing\n                break;\n            default:\n                TX2NetworkClient.getInstance().checkConnect(() => {\n                    this.checkShow();\n                });\n                break;\n        }\n\n        MiniGameNetworkClient.getInstance().checkConnect(() => {\n            this.taiXiu1.show();\n            this.checkShow();\n        });\n        App.instance.buttonMiniGame.showTimeTaiXiu(false);\n        this.checkShow();\n    }\n\n    public dismiss() {\n        super.dismiss();\n        App.instance.buttonMiniGame.showTimeTaiXiu(true);\n        this.taiXiu1.dismiss();\n        App.instance.hideGameMini(\"TaiXiu\");\n    }\n\n\n\n    private checkShow() {\n        if (this.isShowTX1) {\n            this.taiXiu1.gamePlay.scale = 1;\n            this.taiXiu1.gamePlay.position = cc.Vec3.ZERO;\n            this.taiXiu1.nodePanelChat.active = true;\n            this.taiXiu1.node.setSiblingIndex(1);\n\n          \n        } else {\n           \n\n            this.taiXiu1.gamePlay.scale = 0.5;\n            this.taiXiu1.gamePlay.position = cc.v3(-405, 234,0);\n            this.taiXiu1.nodePanelChat.active = false;\n            this.taiXiu1.layoutBet.active = false;\n        }\n    }\n\n    public actSwitch() {\n        this.isShowTX1 = !this.isShowTX1;\n        this.checkShow();\n    }\n}\n"]}
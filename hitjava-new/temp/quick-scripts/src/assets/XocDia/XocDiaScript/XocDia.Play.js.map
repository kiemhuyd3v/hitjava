{"version":3,"sources":["assets\\XocDia\\XocDiaScript\\XocDia.Play.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import cmd from \"./XocDia.Cmd\";\nimport Player from \"./XocDia.Player\";\nimport Configs from \"../../Loading/src/Configs\";\nimport XocDiaController from \"./XocDia.XocDiaController\";\nimport BtnPayBet from \"./XocDia.BtnPayBet\";\nimport XocDiaNetworkClient from \"./XocDia.XocDiaNetworkClient\";\nimport PanelPayDoor from \"./XocDia.PanelPayDoor\";\nimport BtnBet from \"./XocDia.BtnBet\";\nimport BankerControl from \"./XocDia.BankerControl\";\nimport App from \"../../Lobby/LobbyScript/Script/common/App\";\nimport BroadcastReceiver from \"../../Lobby/LobbyScript/Script/common/BroadcastReceiver\";\nimport Random from \"../../Lobby/LobbyScript/Script/common/Random\";\nimport TimeUtils from \"../../Lobby/LobbyScript/Script/common/TimeUtils\";\nimport Utils from \"../../Lobby/LobbyScript/Script/common/Utils\";\nimport InPacket from \"../../Lobby/LobbyScript/Script/networks/Network.InPacket\";\nimport SPUtils from \"../../Lobby/LobbyScript/Script/common/SPUtils\";\nimport History from \"./XocDia.PopupHistory\"\n\nenum audio_clip {\n    BG = 0,\n    LOSE = 1,\n    WIN = 2,\n    START_GAME = 3,\n    XOC_DIA = 4,\n    CHIP = 5,\n    CLOCK = 6,\n    JOIN = 7\n}\nconst { ccclass, property } = cc._decorator;\nvar TW = cc.tween;\nenum TYPE_RESULT {\n    FOUR_WHITE = 1,\n    FOUR_RED = 2,\n    THREE_RED = 3,\n    THREE_WHITE = 4,\n    TWO_RED_TWO_WHITE = 5\n}\nenum STATE_DEALER {\n    IDLE = 1,\n    MOI_CUOC = 2,\n    TRA_TIEN = 3,\n    XOC_LO = 4,\n    MO_DIA = 5\n}\n@ccclass\nexport default class Play extends cc.Component {\n    @property(History)\n    history: History = null;\n    @property(cc.Node)\n    nodeExit: cc.Node = null;\n    @property(cc.ScrollView)\n    scrollChip: cc.ScrollView = null;\n    @property(cc.Node)\n    contentChatNhanh: cc.Node = null;\n    @property(cc.Node)\n    bgChat: cc.Node = null;\n    @property(cc.Node)\n    UI_Chat: cc.Node = null;\n    @property(cc.Toggle)\n    toggleMusic: cc.Toggle = null;\n    @property(cc.Toggle)\n    toggleSound: cc.Toggle = null;\n    @property(cc.Node)\n    nodeSetting: cc.Node = null;\n    @property(cc.Node)\n    nodeTutorial: cc.Node = null;\n    @property(cc.Label)\n    lblToast: cc.Label = null;\n    @property(cc.Node)\n    boxSetting: cc.Node = null;\n    @property(cc.Node)\n    boxMusic: cc.Node = null;\n    @property(Player)\n    mePlayer: Player = null;\n    @property([Player])\n    players: Player[] = [];\n    @property([BtnBet])\n    btnBets: BtnBet[] = [];\n    @property([BtnPayBet])\n    btnPayBets: BtnPayBet[] = [];\n    @property(sp.Skeleton)\n    dealer: sp.Skeleton = null;\n    @property(cc.Node)\n    boxMsg: cc.Node = null;\n    @property(cc.Label)\n    labelMsg: cc.Label = null;\n    @property(cc.Node)\n    dealerHandPoint: cc.Node = null;\n    @property(cc.Node)\n    diceResult: cc.Node = null;\n    @property([cc.SpriteFrame])\n    sprChipSmalls: cc.SpriteFrame[] = [];\n    @property(cc.Node)\n    chips: cc.Node = null;\n    @property(cc.Node)\n    chipTemplate: cc.Node = null;\n    @property(cc.Sprite)\n    sprProgressTime: cc.Sprite = null;\n    @property(cc.Label)\n    lblProgressTime: cc.Label = null;\n    @property(cc.Label)\n    lblHistoryOdd: cc.Label = null;\n    @property(cc.Label)\n    lblHistoryEven: cc.Label = null;\n    @property(cc.SpriteFrame)\n    sfOdd: cc.SpriteFrame = null;\n    @property(cc.SpriteFrame)\n    sfEven: cc.SpriteFrame = null;\n    @property(cc.Node)\n    lblHistoryItems: cc.Node = null;\n    @property(cc.EditBox)\n    edtChatInput: cc.EditBox = null;\n\n\n    private inited = false;\n    private roomId = 0;\n\n    private chipsInDoors: any = {};\n    private lastBowlStateName = \"\";\n    private curTime = 0;\n    private gameState = 0;\n    private readonly listBets = [1000, 5000, 10000, 50000, 100000, 500000, 1000000, 5000000, 10000000, 50000000, 100000000];\n    // 1k 5k 10k 50k 100k 500k 1m 5m 10m 50m 100m\n    private betIdx = 0;\n    private minBetIdx = 0;\n    private isBanker = false;\n    private banker = \"\";\n    private historyChatData = [];\n\n    private lastUpdateTime = TimeUtils.currentTimeMillis();\n    private chipPool = null\n    private clockTimeSche = null;\n\n\n    onBtnSscrollLeft() {\n        this.percentScroll -= 0.3;\n        if (this.percentScroll <= 0) this.percentScroll = 0;\n\n        this.scrollChip.scrollToPercentHorizontal(this.percentScroll, 0.4);\n    }\n\n    onBtnScrollRight() {\n        this.percentScroll += 0.3;\n        if (this.percentScroll >= 1) this.percentScroll = 1;\n        this.scrollChip.scrollToPercentHorizontal(this.percentScroll, 0.4);\n    }\n\n\n    onBtnClickBgChat() {\n        this.UI_Chat.opacity = 100;\n        this.bgChat.active = false;\n    }\n\n    onBtnClickBoxChat() {\n        this.UI_Chat.opacity = 255;\n        this.bgChat.active = true;\n    }\n    showUIChat() {\n        this.onBtnClickBoxChat();\n        this.UI_Chat.active = true;\n        cc.tween(this.UI_Chat).to(0.3, { x: cc.winSize.width / 2 - this.UI_Chat.width / 2 }, { easing: cc.easing.sineOut }).start();\n    }\n\n    toggleUIChat() {\n        if (this.UI_Chat.active == false) {\n            this.showUIChat();\n        }\n        else {\n            this.closeUIChat();\n        }\n    }\n\n    closeUIChat() {\n        this.UI_Chat.active = false;\n        cc.tween(this.UI_Chat).to(0.3, { x: cc.winSize.width / 2 + this.UI_Chat.width / 2 }, { easing: cc.easing.sineIn }).call(() => {\n            this.UI_Chat.active = false;\n        }).start();\n    }\n\n    playerChat(res) {\n        let player = this.getPlayer(res.nickname);\n        if (player) {\n            let chair = res[\"chair\"];\n            let isIcon = res[\"isIcon\"];\n            let content = res[\"content\"];\n            let seatId = chair;\n            if (isIcon) {\n                // Chat Icon\n                player.showChatEmotion(content);\n            } else {\n                // Chat Msg\n                player.showChatMsg(content);\n            }\n        }\n    }\n\n    chatEmotion(event, id) {\n        XocDiaNetworkClient.getInstance().send(new cmd.SendChatRoom(1, id));\n        this.closeUIChat();\n    }\n\n    chatMsg() {\n        if (this.edtChatInput.string.trim().length > 0) {\n            XocDiaNetworkClient.getInstance().send(new cmd.SendChatRoom(0, this.edtChatInput.string));\n            this.edtChatInput.string = \"\";\n            this.closeUIChat();\n        }\n    }\n\n    chatNhanhMsg(msg) {\n        if (msg.trim().length > 0) {\n            XocDiaNetworkClient.getInstance().send(new cmd.SendChatRoom(0, msg));\n            this.closeUIChat();\n        }\n    }\n    private percentScroll = 0;\n    start() {\n        this.percentScroll = 0;\n        this.scrollChip.scrollToPercentHorizontal(this.percentScroll, 0.4);\n        var self = this;\n        for (var i = 0; i < this.contentChatNhanh.childrenCount; i++) {\n            let node = this.contentChatNhanh.children[i];\n            node.on('click', function () {\n\n                self.chatNhanhMsg(node.children[0].getComponent(cc.Label).string);\n            })\n        }\n\n        this.chipPool = new cc.NodePool(\"Chip\");\n        this.lblToast.node.parent.active = false;\n        for (let i = 0; i < this.btnPayBets.length; i++) {\n            let btn = this.btnPayBets[i];\n            btn.node.on(\"click\", () => {\n                if (this.gameState != 2) {\n                    this.showToast(App.instance.getTextLang('txt_bet_error3'));\n                    return;\n                }\n                XocDiaNetworkClient.getInstance().send(new cmd.SendPutMoney(i, this.listBets[this.betIdx]));\n\n            });\n        }\n        for (let i = 0; i < this.btnBets.length; i++) {\n            let btnBet = this.btnBets[i];\n            btnBet.node.on(\"click\", () => {\n                this.betIdx = i;\n                for (let j = 0; j < this.btnBets.length; j++) {\n                    this.btnBets[j].active.active = j == i;\n                }\n                //  cc.log(\"betIdx:\" + this.betIdx);\n            });\n        }\n\n        this.setupTimeRunInBg();\n    }\n\n    private onBtnHistory() {\n\n        // this.actCoomingSoon();\n        // return;\n        if (this.history == null) {\n            App.instance.showLoading(true);\n            cc.assetManager.getBundle(\"XocDia\").load(\"PopupHistory\", cc.Prefab, function (finish, total, item) {\n            }, (err1, prefab: cc.Prefab) => {\n                App.instance.showLoading(false);\n                if (err1 != null) {\n                    //  cc.log(\"errr load game XocDia:\", err1);\n                } else {\n                    //  cc.log(\"vao daycai chu\");\n                    this.history = cc.instantiate(prefab).getComponent(\"XocDia.PopupHistory\");\n                    this.history.node.parent = this.node.parent;\n                    this.history.node.active = true;\n                    this.history.show()\n                }\n            })\n        } else {\n            this.history.node.parent = this.node.parent;\n            this.history.node.active = true;\n            this.history.show()\n        }\n\n        // App.instance.showLoading(true);\n        // Http.get(Configs.App.API, { \"c\": 139, \"p\": this.page, \"un\": Configs.Login.Nickname, \"gn\": \"Audition\" }, (err, res) => {\n        //     App.instance.showLoading(false);\n        //     if (err != null) return;\n        //     //  cc.log(\"\");\n\n\n        // });\n    }\n\n\n    private arrTimeOut = [];\n    private isClearOldData = false;\n    setupTimeRunInBg() {\n        cc.game.on(cc.game.EVENT_SHOW, () => {\n            // XocDiaNetworkClient.getInstance().send(new cmd.SendReconnect());\n            // if(this.state == STATE_DEALER.MOI_CUOC && this.isClearOldData == false){\n            //     if(this.nodeExit && this.nodeExit.active){\n            //         this.node.active = false;\n            //         XocDiaController.instance.lobby.show();\n            //     }\n            //     this.setStateDealer(STATE_DEALER.XOC_LO);\n            //     this.btnPayBets.forEach(e => e.reset());\n            //     this.clearChips();\n            //     this.resetDiceResult();\n            for (var i = 0; i < this.players.length; i++) {\n                this.players[i].clearUI();\n            }\n            //     for(var i=0;i<this.arrTimeOut.length;i++){\n            //         clearTimeout(this.arrTimeOut[i]);\n            //     }\n\n            //     this.arrTimeOut = [];\n            //     this.isClearOldData = true;\n\n            //     if(this.dataJoinRoom){\n            //         this.show(this.dataJoinRoom);\n            //     }\n\n\n            // }\n\n\n\n        });\n\n    };\n\n    updateChipTotalBets() {\n        for (var i = 0; i < this.btnPayBets.length; i++) {\n            if (this.btnPayBets[i].lblTotalBet.string != \"\") {\n\n            }\n        }\n    }\n\n    hideSetting() {\n        this.nodeSetting.active = false;\n    }\n\n    showSetting() {\n        this.toggleMusic.isChecked = SPUtils.getMusicVolumn() > 0;\n        this.toggleSound.isChecked = SPUtils.getSoundVolumn() > 0;\n        this.nodeSetting.active = true;\n    }\n\n    showTutorial() {\n        this.nodeTutorial.active = true;\n    }\n\n    hideTutorial() {\n        this.nodeTutorial.active = false;\n    }\n\n    onBtnToggleMusic() {\n        SPUtils.setMusicVolumn(this.toggleMusic.isChecked ? 1 : 0);\n        BroadcastReceiver.send(BroadcastReceiver.ON_AUDIO_CHANGED);\n    }\n\n    onBtnToggleSound() {\n        SPUtils.setSoundVolumn(this.toggleSound.isChecked ? 1 : 0);\n        BroadcastReceiver.send(BroadcastReceiver.ON_AUDIO_CHANGED);\n    }\n\n    showToast(msg) {\n        this.lblToast.string = msg;\n        this.lblToast.node.parent.opacity = 0;\n        this.lblToast.node.parent.active = true;\n        cc.Tween.stopAllByTarget(this.lblToast.node.parent);\n        cc.tween(this.lblToast.node.parent)\n            .to(0.3, { opacity: 255 }, { easing: \"linear\" })\n            .delay(1)\n            .to(0.3, { opacity: 0 }, { easing: \"linear\" })\n            .call(() => {\n                this.lblToast.node.parent.active = false;\n            })\n            .start();\n    }\n\n    private totalTimeState = 0;\n    update(dt) {\n        if (this.curTime > 0) {\n            let timeLeft = Math.max(0, this.curTime - TimeUtils.currentTimeMillis());\n            this.sprProgressTime.fillRange = timeLeft / this.totalTimeState;\n            if (timeLeft == 0) {\n                this.curTime = 0;\n                this.sprProgressTime.node.parent.active = false;\n                this.unschedule(this.clockTimeSche);\n            }\n        }\n\n        // let t = TimeUtils.currentTimeMillis();\n        // if (t - this.lastUpdateTime > 2000) {\n        //     this.node.stopAllActions();\n        //     App.instance.showLoading(true);\n        //     XocDiaNetworkClient.getInstance().send(new cmd.SendJoinRoomById(this.roomId));\n        // }\n        // this.lastUpdateTime = t;\n    }\n\n\n\n    public init() {\n        if (this.inited) return;\n        this.inited = true;\n\n        BroadcastReceiver.register(BroadcastReceiver.USER_UPDATE_COIN, () => {\n            if (!this.node.active) return;\n            this.mePlayer.setCoin(Configs.Login.Coin);\n        }, this);\n        BroadcastReceiver.send(BroadcastReceiver.USER_UPDATE_COIN);\n\n        XocDiaNetworkClient.getInstance().addListener((data) => {\n            let inpacket = new InPacket(data);\n            switch (inpacket.getCmdId()) {\n                case cmd.Code.JOIN_ROOM_SUCCESS:\n                    {\n                        App.instance.showLoading(false);\n                        let res = new cmd.ReceiveJoinRoomSuccess(data);\n                        //  cc.log(\"SendJoinRoomById JOIN_ROOM_SUCCESS play\");\n                        XocDiaController.instance.showGamePlay(res);\n                    }\n                    break;\n                case cmd.Code.USER_JOIN_ROOM_SUCCESS:\n                    {\n                        let res = new cmd.ReceiveUserJoinRoom(data);\n                        let player = this.getRandomEmptyPlayer();\n                        if (player != null) {\n                            player.set(res.nickname, res.avatar, res.money, false);\n                        }\n                    }\n                    break;\n                case cmd.Code.USER_OUT_ROOM:\n                    {\n                        let res = new cmd.ReceiveUserOutRoom(data);\n                        let player = this.getPlayer(res.nickname);\n                        if (player != null) player.leave();\n                    }\n                    break;\n                case cmd.Code.QUIT_ROOM:\n                    {\n                        let res = new cmd.ReceiveLeavedRoom(data);\n                        this.node.active = false;\n                        XocDiaController.instance.lobby.show();\n                        switch (res.reason) {\n                            case 1:\n                                App.instance.alertDialog.showMsg(App.instance.getTextLang('txt_not_enough_money'));\n                                break;\n                            case 2:\n                                App.instance.alertDialog.showMsg(App.instance.getTextLang('txt_reparing'));\n                                break;\n                            case 5:\n                                App.instance.alertDialog.showMsg(App.instance.getTextLang('txt_room_err13'));\n                                break;\n                            case 6:\n                                App.instance.alertDialog.showMsg(App.instance.getTextLang('txt_room_err10'));\n                                break;\n                        }\n                    }\n                    break;\n                case cmd.Code.DANG_KY_THOAT_PHONG:\n                    {\n                        let res = new cmd.ReceiveLeaveRoom(data);\n                        //  cc.log(\"DANG_KY_THOAT_PHONG:\" + res.bRegis);\n                        if (res.bRegis) {\n                            if (this.nodeExit) {\n                                this.nodeExit.active = true;\n                            }\n                            App.instance.showToast(App.instance.getTextLang('txt_room_leave'));\n                        } else {\n                            if (this.nodeExit) {\n                                this.nodeExit.active = false;\n                            }\n                            App.instance.showToast(App.instance.getTextLang('txt_room_cancel_leave'));\n                        }\n                    }\n                    break;\n                case cmd.Code.ACTION_IN_GAME:\n                    {\n                        let res = new cmd.ReceiveActionInGame(data);\n                        let msg = \"\";\n                        this.gameState = res.action;\n                        switch (res.action) {\n                            case 1://bat dau van moi\n                                msg = \"Bắt đầu ván mới\";\n                                this.sprProgressTime.node.parent.active = false;\n                                this.unschedule(this.clockTimeSche);\n                                XocDiaController.instance.playAudioEffect(audio_clip.START_GAME)\n                                break;\n                            case 2://bat dau dat cua\n                                msg = \"Bắt đầu đặt cửa\";\n                                this.sprProgressTime.node.parent.active = true;\n                                this.lblProgressTime.string = \"Đang cược...\";\n                                this.curTime = TimeUtils.currentTimeMillis() + (res.time + 10) * 1000;\n                                this.totalTimeState = (res.time + 10) * 1000;\n                                this.setStateDealer(STATE_DEALER.MOI_CUOC);\n                                this.schedule(this.clockTimeSche = () => {\n                                    if (this.node.active) {\n                                        XocDiaController.instance.playAudioEffect(audio_clip.CLOCK)\n                                    } else {\n                                        this.unschedule(this.clockTimeSche);\n                                    }\n\n                                }, 1.0, res.time);\n                                break;\n                            case 3://bat dau ban cua\n                                msg = \"Bắt đầu bán cửa\";\n                                this.sprProgressTime.node.parent.active = true;\n                                this.lblProgressTime.string = \"Đang bán cửa...\";\n                                this.curTime = TimeUtils.currentTimeMillis() + res.time * 1000;\n                                this.totalTimeState = res.time * 1000;\n                                break;\n                            case 4://nha cai can tien, hoan tien\n                                msg = \"Nhà cái cân tiền, hoàn tiền\";\n                                this.sprProgressTime.node.parent.active = true;\n                                this.lblProgressTime.string = \"Đang cân cửa...\";\n                                this.curTime = TimeUtils.currentTimeMillis() + res.time * 1000;\n                                this.totalTimeState = res.time * 1000;\n                                break;\n                            case 5://bat dau hoan tien\n                                msg = \"Bắt đầu hoàn tiền\";\n                                this.sprProgressTime.node.parent.active = true;\n                                this.lblProgressTime.string = \"Đang hoàn tiền...\";\n                                this.curTime = TimeUtils.currentTimeMillis() + res.time * 1000;\n                                this.totalTimeState = res.time * 1000;\n                                break;\n                            case 6://bat dau tra thuong\n                                msg = \"Bắt đầu trả thưởng\";\n                                this.setStateDealer(STATE_DEALER.TRA_TIEN);\n                                this.sprProgressTime.node.parent.active = true;\n                                this.lblProgressTime.string = \"Đang trả thưởng...\";\n                                this.curTime = TimeUtils.currentTimeMillis() + res.time * 1000;\n                                this.totalTimeState = res.time * 1000;\n                                break;\n                        }\n                        if (msg != \"\") {\n                            this.labelMsg.string = msg;\n                            this.boxMsg.active = false;\n                            this.scheduleOnce(() => {\n                                this.boxMsg.active = true;\n                                this.scheduleOnce(() => {\n                                    this.boxMsg.active = false;\n                                }, 0.9);\n                            }, 0.3);\n                        }\n                    }\n                    break;\n                case cmd.Code.START_GAME:\n                    {\n                        let res = new cmd.ReceiveStartGame(data);\n\n                        if (res.banker != \"\" && res.banker != Configs.Login.Nickname && this.isBanker) {\n                            App.instance.alertDialog.showMsg(\"Bạn không đủ tiền để tiếp tục làm cái!\");\n                        }\n\n                        this.banker = res.banker;\n                        this.isBanker = this.banker == Configs.Login.Nickname;\n\n                        for (let i = 0; i < this.players.length; i++) {\n                            let player = this.players[i];\n                            player.banker.active = player.nickname != \"\" && player.nickname == this.banker;\n                        }\n\n                        this.btnPayBets.forEach(e => e.reset());\n                        this.clearChips();\n                        this.resetDiceResult();\n                        this.setStateDealer(STATE_DEALER.XOC_LO);\n                    }\n                    break;\n                case cmd.Code.PUT_MONEY:\n                    {\n                        let res = new cmd.ReceivePutMoney(data);\n                        let btnPayBet = this.btnPayBets[res.potId];\n                        btnPayBet.setTotalBet(res.potMoney);\n\n                        if (res.nickname == Configs.Login.Nickname) {\n                            //  cc.log(\"XOC DIA PUT_MONEY:\" + res.error);\n                            switch (res.error) {\n                                case 0:\n                                    break;\n                                case 1:\n                                    App.instance.alertDialog.showMsg(App.instance.getTextLang('txt_not_enough'));\n                                    return;\n                                case 2:\n                                    App.instance.alertDialog.showMsg(App.instance.getTextLang('txt_bet_error1'));\n                                    return;\n                                default:\n                                    App.instance.alertDialog.showMsg(App.instance.getTextLang(\"txt_unknown_error\"));\n                                    return;\n                            }\n                            Configs.Login.Coin = res.currentMoney;\n                            BroadcastReceiver.send(BroadcastReceiver.USER_UPDATE_COIN);\n                        }\n\n                        let player = this.getPlayer(res.nickname);\n                        if (player != null) {\n                            player.setCoin(res.currentMoney);\n                            let listCoin = this.convertMoneyToChipMoney(res.betMoney);\n                            for (let i = 0; i < listCoin.length; i++) {\n                                let chip = this.getChip(listCoin[i]);\n                                chip.name = player.nickname;\n                                chip.position = player.node.position;\n                                if (!this.chipsInDoors.hasOwnProperty(res.potId)) {\n                                    this.chipsInDoors[res.potId] = [];\n                                }\n                                this.chipsInDoors[res.potId].push(chip);\n                                let position = btnPayBet.node.position.clone();\n                                let target = new cc.Vec2(\n                                    Random.rangeInt(-btnPayBet.node.width / 4 - 20, btnPayBet.node.width / 4 + 20),\n                                    Random.rangeInt(-btnPayBet.node.height / 4 - 20, btnPayBet.node.height / 2 - 70));\n                                position.x += target.x;\n                                position.y += target.y;\n                                cc.Tween.stopAllByTarget(chip);\n                                TW(chip).then(cc.jumpTo(0.5, cc.v2(position.x, position.y), 50, 2).easing(cc.easeSineOut()))\n                                    .call(() => {\n                                        chip.position = position;\n                                    })\n                                    .start();\n                            }\n                            XocDiaController.instance.playAudioEffect(audio_clip.CHIP);\n                        }\n                    }\n                    break;\n\n\n                case cmd.Code.REFUN_MONEY:\n                    {\n                        let res = new cmd.ReceiveRefunMoney(data);\n\n\n                        for (let i = 0; i < res.playerInfosRefun.length; i++) {\n                            let rfData = res.playerInfosRefun[i];\n                            let player = this.getPlayer(rfData[\"nickname\"]);\n                            if (player != null) {\n                                player.showRefundCoin(rfData[\"moneyRefund\"]);\n                                player.setCoin(rfData[\"currentMoney\"]);\n                            }\n                            if (rfData[\"nickname\"] == Configs.Login.Nickname) {\n                                Configs.Login.Coin = rfData[\"currentMoney\"];\n                                BroadcastReceiver.send(BroadcastReceiver.USER_UPDATE_COIN);\n                            }\n                        }\n\n                        for (let i = 0; i < res.potID.length; i++) {\n                            let potData = res.potID[i];\n                            this.btnPayBets[i].setTotalBet(potData[\"totalMoney\"]);\n                        }\n                    }\n                    break;\n                case cmd.Code.FINISH_GAME:\n                    {\n                        this.isClearOldData = false;\n                        let res = new cmd.ReceiveFinishGame(data);\n                        for (let i = 0; i < res.playerInfoWin.length; i++) {\n                            let playerData = res.playerInfoWin[i];\n                            if (playerData[\"nickname\"] == Configs.Login.Nickname) {\n                                Configs.Login.Coin = playerData[\"currentMoney\"];\n                                BroadcastReceiver.send(BroadcastReceiver.USER_UPDATE_COIN);\n                                break;\n                            }\n                        }\n\n                        let countRed = 0;\n                        let countWhite = 0;\n                        for (let i = 0; i < res.diceIDs.length; i++) {\n                            if (res.diceIDs[i] == 1) countRed++;\n                            else countWhite++;\n                        }\n                        let isChan = (res.diceIDs[0] + res.diceIDs[1] + res.diceIDs[2] + res.diceIDs[3]) % 2 == 0;\n                        let isLe3do1trang = res.infoAllPot[4].win;\n                        let isLe3trang1do = res.infoAllPot[5].win;\n                        let isChan4do = res.infoAllPot[3].win;\n                        let isChan4trang = res.infoAllPot[2].win;\n                        let doorWins = [];\n                        this.setStateDealer(STATE_DEALER.MO_DIA);\n                        let cb = () => {\n                            if (isChan) {\n                                doorWins.push(0);\n                                this.btnPayBets[0].active.active = true;\n                                if (isChan4do) {\n                                    doorWins.push(3);\n                                    this.btnPayBets[3].active.active = true;\n                                } else if (isChan4trang) {\n                                    doorWins.push(2);\n                                    this.btnPayBets[2].active.active = true;\n                                } else {\n                                }\n                            } else {\n                                doorWins.push(1);\n                                this.btnPayBets[1].active.active = true;\n                                if (isLe3do1trang) {\n                                    doorWins.push(4);\n                                    this.btnPayBets[4].active.active = true;\n                                } else if (isLe3trang1do) {\n                                    doorWins.push(5);\n                                    this.btnPayBets[5].active.active = true;\n                                }\n                            }\n\n                            let chipsWithNickname: any = {};\n                            for (let k in this.chipsInDoors) {\n                                let doorId = parseInt(k);\n                                let chips: Array<cc.Node> = this.chipsInDoors[doorId];\n                                if (doorWins.indexOf(doorId) == -1) {\n                                    let btnPayBet = this.btnPayBets[doorId];\n                                    let position = btnPayBet.node.position.clone();\n                                    position.y -= 10;\n                                    let positionAdd = position.clone();\n                                    this.arrTimeOut.push(setTimeout(() => {\n                                        let node = new cc.Node();\n                                        node.parent = this.chips;\n                                        node.opacity = 0;\n                                        for (let i = 0; i < chips.length; i++) {\n                                            chips[i].parent = node;\n                                            // chips[i].position = positionAdd;\n                                            // positionAdd.y += 3;\n                                        }\n                                        cc.Tween.stopAllByTarget(node);\n                                        TW(node).to(0.1, { opacity: 255 }, { easing: cc.easing.sineIn })\n                                            .delay(0.3)\n                                            .to(0.5, { scale: 0, x: this.dealerHandPoint.x, y: this.dealerHandPoint.y })\n                                            .to(0.1, { opacity: 0 }, { easing: cc.easing.sineOut })\n                                            .call(() => {\n                                                for (let i = 0; i < chips.length; i++) {\n                                                    chips[i].parent = this.chips;\n                                                    chips[i].opacity = 255;\n                                                    chips[i].active = false;\n                                                }\n                                                node.destroy();\n                                            }).start();\n                                    }, 800));\n                                } else {\n                                    for (let i = 0; i < chips.length; i++) {\n                                        let chip = chips[i];\n                                        let nickname = chip.name;\n                                        if (!chipsWithNickname.hasOwnProperty(nickname)) {\n                                            chipsWithNickname[nickname] = [];\n                                        }\n                                        chipsWithNickname[nickname].push(chip);\n                                    }\n                                }\n                            }\n\n                            this.arrTimeOut.push(setTimeout(() => {\n                                for (let k in chipsWithNickname) {\n                                    let player = this.getPlayer(k);\n                                    if (player != null) {\n                                        let chips = chipsWithNickname[k];\n                                        let positionAdd = player.chipsPoint.clone();\n                                        let positionAdd2 = player.chipsPoint2.clone();\n                                        let count1 = 0;\n                                        let count2 = 0;\n                                        for (let i = 0; i < chips.length; i++) {\n                                            let chip: cc.Node = chips[i];\n                                            let opacity1 = count1 < 15 ? 255 : 0;\n                                            cc.Tween.stopAllByTarget(chip);\n                                            TW(chip).to(0.5, { x: positionAdd.x, y: positionAdd.y, opacity: opacity1 }, { easing: cc.easing.sineOut })\n                                                .delay(1 + (chips.length * 0.03 - i * 0.03))\n                                                .to(0.5, { position: player.node.position }, { easing: cc.easing.sineIn })\n                                                .call(() => {\n                                                    chip.active = false;\n                                                }).start();\n\n                                            let dealerChip = this.getChip(0);\n                                            dealerChip.getComponent(cc.Sprite).spriteFrame = chip.getComponent(cc.Sprite).spriteFrame;\n                                            dealerChip.opacity = 0;\n                                            dealerChip.position = this.dealerHandPoint.position;\n                                            let opacity2 = count2 < 15 ? 255 : 0;\n                                            cc.Tween.stopAllByTarget(dealerChip);\n                                            TW(dealerChip).delay(0.5)\n                                                .to(0.2, { opacity: opacity2 }, { easing: cc.easing.sineIn })\n                                                .to(0.5, { x: positionAdd2.x, y: positionAdd2.y }, { easing: cc.easing.sineOut })\n                                                .delay(0.3 + (chips.length * 0.03 - i * 0.03))\n                                                .to(0.5, { position: player.node.position }, { easing: cc.easing.sineOut })\n                                                .call(() => {\n                                                    dealerChip.active = false;\n                                                }).start();\n                                            if (count1 < 15) {\n                                                count1++;\n                                                positionAdd.y += 3;\n\n                                            }\n                                            if (count2 < 15) {\n                                                count2++\n                                                positionAdd2.y += 3;\n                                            }\n\n\n                                        }\n                                    }\n                                }\n                            }, 1500));\n                        }\n                        if (isChan) {\n                            if (isChan4do) {\n                                this.setDiceResult(TYPE_RESULT.FOUR_RED, cb);\n                            } else if (isChan4trang) {\n                                this.setDiceResult(TYPE_RESULT.FOUR_WHITE, cb);\n                            } else {\n                                this.setDiceResult(TYPE_RESULT.TWO_RED_TWO_WHITE, cb);\n                            }\n                        } else {\n                            if (isLe3do1trang) {\n                                this.setDiceResult(TYPE_RESULT.THREE_RED, cb);\n                            } else if (isLe3trang1do) {\n                                this.setDiceResult(TYPE_RESULT.THREE_WHITE, cb);\n                            }\n                        }\n\n\n                        this.arrTimeOut.push(setTimeout(() => {\n                            for (let i = 0; i < res.playerInfoWin.length; i++) {\n                                let playerData = res.playerInfoWin[i];\n                                let player = this.getPlayer(playerData[\"nickname\"]);\n                                if (player != null) {\n                                    var moneyWinPots = playerData[\"moneyWinPots\"];\n                                    moneyWinPots = moneyWinPots.split(',');\n                                    var msgWin = \"\";\n                                    for (var j = 0; j < moneyWinPots.length; j++) {\n                                        msgWin += Utils.formatMoney(moneyWinPots[j]) + \"\\n\\n\";\n                                    }\n                                    player.showWinCoinString(msgWin);\n                                    player.setCoin(playerData[\"currentMoney\"]);\n                                }\n                            }\n\n                            BroadcastReceiver.send(BroadcastReceiver.USER_UPDATE_COIN);\n                        }, 3000));\n\n                        if (this.isBanker) {\n                            this.mePlayer.showWinCoin(res.moneyBankerExchange);\n                            this.mePlayer.setCoin(res.moneyBankerAfter);\n                            Configs.Login.Coin = res.moneyBankerAfter;\n                            BroadcastReceiver.send(BroadcastReceiver.USER_UPDATE_COIN);\n                        }\n\n                        XocDiaNetworkClient.getInstance().send(new cmd.CmdSendGetCau());\n                    }\n                    break;\n                case cmd.Code.SOI_CAU:\n                    {\n                        let res = new cmd.ReceiveGetCau(data);\n\n                        this.lblHistoryOdd.string = Utils.formatNumber(res.totalOdd);\n                        this.lblHistoryEven.string = Utils.formatNumber(res.totalEven);\n                        for (let i = 0; i < this.lblHistoryItems.childrenCount; i++) {\n                            if (i < res.arrayCau.length) {\n                                this.lblHistoryItems.children[i].getComponent(cc.Sprite).spriteFrame = res.arrayCau[i] == 0 ? this.sfOdd : this.sfEven;\n                                this.lblHistoryItems.children[i].active = true;\n                            } else {\n                                this.lblHistoryItems.children[i].active = false;\n                            }\n                        }\n                    }\n                    break;\n                case cmd.Code.ORDER_BANKER:\n                    {\n                        let res = new cmd.ReceiveOrderBanker(data);\n                        switch (res.error) {\n                            case 0:\n                                break;\n                            case 1:\n                                App.instance.alertDialog.showMsg(\"Bạn cần \" + Utils.formatNumber(res.moneyRequire) + \" Xu để làm cái!\");\n                                break;\n                            default:\n                                App.instance.alertDialog.showMsg(\"Lỗi \" + res.error + \", không xác định.\");\n                                break;\n                        }\n                    }\n                    break;\n                case cmd.Code.HUY_LAM_CAI:\n                    {\n                        let res = new cmd.ReceiveCancelBanker(data);\n                        if (res.bDestroy && this.isBanker) {\n                            App.instance.alertDialog.showMsg(\"Đăng ký huỷ làm cái thành công.\");\n                        }\n                    }\n                    break;\n                case cmd.Code.INFO_GATE_SELL:\n                    {\n                        let res = new cmd.ReceiveInfoGateSell(data);\n                    }\n                    break;\n                case cmd.Code.INFO_MONEY_AFTER_BANKER_SELL:\n                    {\n                        let res = new cmd.ReceiveInfoMoneyAfterBankerSell(data);\n                    }\n                    break;\n                case cmd.Code.CHAT_MS:\n                    {\n                        let res = new cmd.ReceivedChatRoom(data);\n                        this.playerChat(res);\n\n                    }\n                    break;\n                default:\n                    break;\n            }\n        }, this);\n    }\n    private showDiceResult(cb) {\n        let bowl = this.diceResult.getChildByName(\"bat\");\n        let ranX1 = [Utils.randomRangeInt(-40, -30), Utils.randomRange(30, 40)][Utils.randomRangeInt(0, 2)];\n        let ranY1 = [Utils.randomRangeInt(-40, -30), Utils.randomRangeInt(30, 40)][Utils.randomRangeInt(0, 2)];\n        let ranX2 = [Utils.randomRangeInt(-120, -100), Utils.randomRangeInt(100, 120)][Utils.randomRangeInt(0, 2)];\n        let ranY2 = [Utils.randomRangeInt(-120, -100), Utils.randomRangeInt(100, 120)][Utils.randomRangeInt(0, 2)];\n        cc.Tween.stopAllByTarget(bowl);\n        TW(bowl).set({ x: -5, y: 7, opacity: 255 }).to(1.0, { x: ranX1, y: ranY1 })\n            .delay(0.5).call(() => {\n                if (this.state == STATE_DEALER.MO_DIA) {\n                    cb();\n                    XocDiaController.instance.playAudioEffect(audio_clip.WIN);\n                }\n\n            })\n            .to(0.6, { x: ranX2, y: ranY2, opacity: 0 }, { easing: cc.easing.sineOut }).start();\n    }\n    private xocDice() {\n        this.resetDiceResult();\n        this.diceResult.active = true;\n        cc.Tween.stopAllByTarget(this.diceResult);\n        TW(this.diceResult).set({ x: 7.755, y: 66.138, scale: 0 }).to(0.5, { scale: 1, x: 0, y: 66 }, { easing: cc.easing.sineIn }).start();\n    }\n    private setDiceResult(typeResult, cb) {\n        let arrSprResult = [];\n        switch (typeResult) {\n            case TYPE_RESULT.FOUR_RED: {\n                arrSprResult.push(this.sfOdd, this.sfOdd, this.sfOdd, this.sfOdd);\n                break;\n            }\n            case TYPE_RESULT.FOUR_WHITE: {\n                arrSprResult.push(this.sfEven, this.sfEven, this.sfEven, this.sfEven);\n                break;\n            }\n            case TYPE_RESULT.THREE_RED: {\n                arrSprResult.push(this.sfOdd, this.sfEven, this.sfOdd, this.sfOdd);\n                break;\n            }\n            case TYPE_RESULT.THREE_WHITE: {\n                arrSprResult.push(this.sfEven, this.sfEven, this.sfOdd, this.sfEven);\n                break;\n            }\n            case TYPE_RESULT.TWO_RED_TWO_WHITE: {\n                arrSprResult.push(this.sfEven, this.sfEven, this.sfOdd, this.sfOdd);\n                break;\n            }\n        }\n        for (let i = 1; i < 5; i++) {\n            this.diceResult.getChildByName(\"ic_result_\" + i).getComponent(cc.Sprite).spriteFrame = arrSprResult[i - 1];\n        }\n        this.showDiceResult(cb);\n    }\n    private resetDiceResult() {\n        cc.Tween.stopAllByTarget(this.diceResult.getChildByName(\"bat\"));\n        this.diceResult.getChildByName(\"bat\").setPosition(cc.v2(-6.81, 9.24));\n        this.diceResult.getChildByName(\"bat\").opacity = 255;\n        // this.diceResult.active = false;\n    }\n    private resetView() {\n        this.mePlayer.leave();\n        this.players.forEach(e => e.leave());\n        this.btnPayBets.forEach(e => e.reset());\n        this.setStateDealer(STATE_DEALER.IDLE);\n        this.boxMsg.active = false;\n        this.resetDiceResult();\n        for (var i = 0; i < this.players.length; i++) {\n            this.players[i].clearUI();\n        }\n        for (var i = 0; i < this.arrTimeOut.length; i++) {\n            clearTimeout(this.arrTimeOut[i]);\n        }\n        this.clearChips();\n        this.sprProgressTime.node.parent.active = false;\n        this.unschedule(this.clockTimeSche);\n        this.curTime = 0;\n    }\n\n    private getRandomEmptyPlayer(): Player {\n        let emptyPlayers = new Array<Player>();\n        for (let i = 0; i < this.players.length; i++) {\n            if (this.players[i].nickname == \"\") emptyPlayers.push(this.players[i]);\n        }\n        if (emptyPlayers.length > 0) {\n            return emptyPlayers[Random.rangeInt(0, emptyPlayers.length)];\n        }\n        return null;\n    }\n\n    private getPlayer(nickname: string): Player {\n        for (let i = 0; i < this.players.length; i++) {\n            let player = this.players[i];\n            if (player.nickname != \"\" && player.nickname == nickname) return player;\n        }\n        return null;\n    }\n\n    private listChip: cc.Node[] = [];\n    private getChip(coin: number): cc.Node {\n        let ret: cc.Node = null;\n\n        if (this.chipPool.size() <= 0) {\n            this.chipPool.put(cc.instantiate(this.chipTemplate));\n        }\n        ret = this.chipPool.get();\n        this.listChip.push(ret);\n        ret.parent = this.chips;\n        let chipIdx = 0;\n        for (let i = 0; i < this.listBets.length; i++) {\n            if (this.listBets[i] == coin) {\n                chipIdx = i;\n                break;\n            }\n        }\n        chipIdx -= 0;\n        //  cc.log(\"getChip:\" + chipIdx + \":\" + this.minBetIdx);\n        ret.getComponent(cc.Sprite).spriteFrame = this.sprChipSmalls[chipIdx];\n        ret.opacity = 255;\n        ret.active = true;\n        ret.setSiblingIndex(this.chips.childrenCount - 1);\n\n        return ret;\n    }\n\n    private clearChips() {\n        this.chipTemplate.active = false;\n        for (let i = 0; i < this.listChip.length; i++) {\n            this.chipPool.put(this.listChip[i]);\n        }\n        this.listChip = [];\n        this.chipsInDoors = {};\n    }\n\n    private convertMoneyToChipMoney(coin: number): Array<number> {\n        let ret = new Array<number>();\n        let _coin = coin;\n        let minCoin = this.listBets[this.minBetIdx];\n        let counter = 0;\n        while (_coin >= minCoin || counter < 15) {\n            for (let i = this.minBetIdx + this.btnBets.length; i >= this.minBetIdx; i--) {\n                if (_coin >= this.listBets[i]) {\n                    ret.push(this.listBets[i]);\n                    _coin -= this.listBets[i];\n                    break;\n                }\n            }\n            counter++;\n        }\n        return ret;\n    }\n    private dataJoinRoom;\n    public show(data: cmd.ReceiveJoinRoomSuccess) {\n\n        //  cc.log(\"ReceiveJoinRoomSuccess show:\" + JSON.stringify(data));\n        this.dataJoinRoom = data;\n        if (this.chipPool == null) {\n            this.chipPool = new cc.NodePool(\"Chip\");\n        }\n        this.node.active = true;\n        this.resetView();\n        if (this.nodeExit && this.nodeExit.active) {\n            this.nodeExit.active = false;\n        }\n        this.roomId = data.roomId;\n        this.lastUpdateTime = TimeUtils.currentTimeMillis();\n        XocDiaController.instance.playAudioEffect(audio_clip.JOIN);\n        Configs.Login.Coin = data.money;\n        this.isBanker = data.banker;\n        this.banker = \"\";\n        if (this.isBanker) {\n            this.banker = Configs.Login.Nickname;\n        } else {\n        }\n\n        this.mePlayer.set(Configs.Login.Nickname, Configs.Login.Avatar, Configs.Login.Coin, data.banker);\n        for (let i = 0; i < data.playerInfos.length; i++) {\n            let playerData = data.playerInfos[i];\n            let player = this.getRandomEmptyPlayer();\n            if (player != null) {\n                player.set(playerData[\"nickname\"], playerData[\"avatar\"], playerData[\"money\"], playerData[\"banker\"]);\n                if (playerData[\"banker\"]) {\n                    this.banker = playerData[\"nickname\"];\n                }\n            } else {\n                break;\n            }\n        }\n\n        if (data.gameState == 1 || data.gameState == 2) {\n            for (let i = 0; i < data.potID.length; i++) {\n                let potData = data.potID[i];\n                let btnPayBet = this.btnPayBets[i];\n                btnPayBet.setTotalBet(potData[\"totalMoney\"]);\n                let listCoin = this.convertMoneyToChipMoney(potData[\"totalMoney\"]);\n                for (let i = 0; i < listCoin.length; i++) {\n                    let chip = this.getChip(listCoin[i]);\n                    let player = this.getPlayer(Configs.Login.Nickname);\n                    chip.name = player.nickname;\n                    chip.position = player.node.position;\n                    if (!this.chipsInDoors.hasOwnProperty(potData.id)) {\n                        this.chipsInDoors[potData.id] = [];\n                    }\n                    this.chipsInDoors[potData.id].push(chip);\n                    let position = btnPayBet.node.position.clone();\n                    let target = new cc.Vec2(\n                        Random.rangeInt(-btnPayBet.node.width / 4 - 20, btnPayBet.node.width / 4 + 20),\n                        Random.rangeInt(-btnPayBet.node.height / 4 - 20, btnPayBet.node.height / 2 - 70));\n                    position.x += target.x;\n                    position.y += target.y;\n                    cc.Tween.stopAllByTarget(chip);\n                    TW(chip).then(cc.jumpTo(0.5, cc.v2(position.x, position.y), 50, 2).easing(cc.easeSineOut()))\n                        .call(() => {\n                            chip.position = position;\n                        })\n                        .start();\n                }\n                XocDiaController.instance.playAudioEffect(audio_clip.CHIP);\n            }\n        }\n\n        for (let i = 0; i < this.listBets.length; i++) {\n            if (data.moneyBet <= this.listBets[i]) {\n                this.betIdx = i;\n                this.minBetIdx = this.betIdx;\n                break;\n            }\n        }\n        for (let i = 0; i < this.btnBets.length; i++) {\n            let btnBet = this.btnBets[i];\n            btnBet.active.active = i == this.minBetIdx;\n            btnBet.node.active = i >= this.minBetIdx;\n        }\n\n        this.gameState = data.gameState;\n        let msg = \"\";\n        switch (this.gameState) {\n            case 1://bat dau van moi\n                msg = \"Bắt đầu ván mới\";\n                break;\n            case 2://bat dau dat cua\n                {\n                    msg = \"Bắt đầu đặt cửa\";\n                    // if(this.nodeExit && this.nodeExit.active){\n                    //     this.node.active = false;\n                    //     this.actBack();\n                    // }\n                    this.sprProgressTime.node.parent.active = true;\n                    this.curTime = TimeUtils.currentTimeMillis() + (data.countTime + 10) * 1000;\n                    this.totalTimeState = 30000 + 10000;\n                    this.lblProgressTime.string = \"Đang cược...\";\n                    this.schedule(this.clockTimeSche = () => {\n                        if (this.node.active) {\n                            XocDiaController.instance.playAudioEffect(audio_clip.CLOCK)\n                        } else {\n                            this.unschedule(this.clockTimeSche);\n                        }\n\n                    }, 1.0, data.countTime + 10);\n                    this.setStateDealer(STATE_DEALER.MOI_CUOC);\n                    this.diceResult.active = true;\n                }\n                break;\n\n            case 4://nha cai can tien, hoan tien\n                msg = \"Nhà cái cân tiền, hoàn tiền\";\n                break;\n            case 5://bat dau hoan tien\n                msg = \"Bắt đầu hoàn tiền\";\n                break;\n            case 6://bat dau tra thuong\n                msg = \"Vui lòng đợi ván sau!\";\n                this.sprProgressTime.node.parent.active = true;\n                this.sprProgressTime.fillRange = 1;\n                this.lblProgressTime.string = \"Vui lòng đợi ván sau!\";\n                break;\n        }\n        if (msg != \"\") {\n            this.setStateDealer(STATE_DEALER.IDLE);\n            let label = this.dealer.getComponentInChildren(cc.Label);\n            label.string = msg;\n            this.scheduleOnce(() => {\n                this.boxMsg.active = true;\n                this.scheduleOnce(() => {\n                    this.boxMsg.active = false;\n                }, 0.9);\n            }, 0.3);\n        }\n\n        XocDiaNetworkClient.getInstance().send(new cmd.CmdSendGetCau());\n    }\n    private state;\n    private setStateDealer(state) {\n        this.state = state;\n        switch (state) {\n            case STATE_DEALER.IDLE: {\n                this.dealer.timeScale = 1;\n                this.dealer.setAnimation(0, \"Idle\", true);\n                break;\n            }\n            case STATE_DEALER.MOI_CUOC: {\n                this.dealer.timeScale = 1;\n                this.dealer.setAnimation(0, \"MoiDatCuoc1\", false);\n                this.dealer.setCompleteListener(() => {\n                    this.setStateDealer(STATE_DEALER.IDLE);\n                });\n                break;\n            }\n            case STATE_DEALER.TRA_TIEN: {\n                this.dealer.timeScale = 1;\n                this.dealer.setAnimation(0, \"MoidDatCuoc2\", false);\n                this.dealer.setCompleteListener(() => {\n                    this.setStateDealer(STATE_DEALER.IDLE);\n                });\n                break;\n            }\n            case STATE_DEALER.XOC_LO: {\n                cc.Tween.stopAllByTarget(this.diceResult);\n                TW(this.diceResult).to(0.5, { scale: 0, y: 335 }, { easing: cc.easing.sineIn }).call(() => {\n                    this.diceResult.active = false;\n                    this.dealer.timeScale = 3;\n                    this.dealer.setAnimation(0, \"LacDia\", false);\n                    XocDiaController.instance.playAudioEffect(audio_clip.XOC_DIA);\n                    this.dealer.setCompleteListener(() => {\n                        this.setStateDealer(STATE_DEALER.MOI_CUOC);\n                    });\n                }).start();\n                this.scheduleOnce(() => {\n                    this.xocDice();\n                }, 3.2 / 2)\n                break;\n            }\n            case STATE_DEALER.MO_DIA: {\n                this.dealer.timeScale = 1;\n                this.dealer.setAnimation(0, \"MoiDatCuoc2\", false);\n                this.dealer.setCompleteListener(() => {\n                    this.setStateDealer(STATE_DEALER.IDLE);\n                });\n                break;\n            }\n\n        }\n    }\n    public actSetting() {\n        this.boxSetting.active = !this.boxSetting.active;\n    }\n\t\n\tpublic actBackz() {\n        XocDiaNetworkClient.getInstance().close();\n        App.instance.loadScene(\"Lobby\");\n    }\n\n\n    public actSendChat() {\n        // App.instance.ShowAlertDialog(App.instance.getTextLang(\"txt_function_in_development\"));\n        let msg = this.edtChatInput.string.trim();\n        if (msg != \"\") {\n            XocDiaNetworkClient.getInstance().send(new cmd.SendChatRoom(0, msg));\n        }\n        this.edtChatInput.string = \"\";\n    }\n\n    public actSendChatNhanh(msg) {\n        // App.instance.ShowAlertDialog(App.instance.getTextLang(\"txt_function_in_development\"));\n        if (msg != \"\") {\n            XocDiaNetworkClient.getInstance().send(new cmd.SendChatRoom(0, msg));\n        }\n        this.edtChatInput.string = \"\";\n    }\n\n    public actTutorial() {\n        this.showTutorial();\n    }\n\n    public actRank() {\n        App.instance.ShowAlertDialog(App.instance.getTextLang(\"txt_function_in_development\"));\n    }\n\n    public actHistory() {\n        this.onBtnHistory();\n    }\n\n    public actOpenMusic() {\n        App.instance.ShowAlertDialog(App.instance.getTextLang(\"txt_function_in_development\"));\n    }\n\n    public actBack() {\n        //  cc.log(\"XocDia actBack\");\n        XocDiaNetworkClient.getInstance().send(new cmd.SendLeaveRoom());\n    }\n\n\n    public actOrderBanker() {\n        XocDiaNetworkClient.getInstance().send(new cmd.SendOrderBanker());\n    }\n\n    public actCancelBanker() {\n        XocDiaNetworkClient.getInstance().send(new cmd.SendCancelBanker());\n    }\n\n\n    // update (dt) {}\n}\n"]}
{"version":3,"sources":["assets\\TaiXiuSieuToc\\Scripts\\TaiXiuST.PopupHonors.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import App from \"../../Lobby/LobbyScript/Script/common/App\";\nimport Dialog from \"../../Lobby/LobbyScript/Script/common/Dialog\";\nimport ScrollViewControl from \"../../Lobby/LobbyScript/Script/common/ScrollViewControl\";\nimport Utils from \"../../Lobby/LobbyScript/Script/common/Utils\";\nimport TaiXiuSTNetworkClient from \"../../Lobby/LobbyScript/Script/networks/TaiXiuSieuToc.NetworkClient\";\n\n\n\n\nconst { ccclass, property } = cc._decorator;\n\nnamespace TaiXiuSieuToc {\n    @ccclass\n    export class PopupHonors extends Dialog {\n        @property(cc.Node)\n        itemTemplate: cc.Node = null;\n        @property([cc.SpriteFrame])\n        sprRank: cc.SpriteFrame[] = [];\n        private items = new Array<cc.Node>();\n        @property(ScrollViewControl)\n        scrView: ScrollViewControl = null;\n        private dataList = [];\n\n        show() {\n            super.show();\n            App.instance.showBgMiniGame(\"TaiXiuSieuToc\");\n            for (let i = 0; i < this.items.length; i++) {\n                this.items[i].active = false;\n            }\n            if (this.itemTemplate != null) this.itemTemplate.active = false;\n\n\n        }\n\n        dismiss() {\n            super.dismiss();\n            for (let i = 0; i < this.items.length; i++) {\n                this.items[i].active = false;\n            }\n        }\n\n        _onShowed() {\n            super._onShowed();\n            this.loadData();\n        }\n\n        private loadData() {\n            App.instance.showLoading(true);\n            TaiXiuSTNetworkClient.getInstance().getTopHonor();\n        }\n        initData(data) {\n            this.dataList = data.slice();\n            let cb = (item, itemData) => {\n                item.getChildByName(\"bg\").opacity = item['itemID'] % 2 == 0 ? 255 : 0;\n\n                item.getChildByName(\"lblRank\").getComponent(cc.Label).string = (item['itemID'] + 1).toString();\n                item.getChildByName(\"lblAccount\").getComponent(cc.Label).string = itemData[\"loginname\"];\n                item.getChildByName(\"lblWin\").getComponent(cc.Label).string = Utils.formatNumber(itemData[\"amount\"]);\n                if (item['itemID'] < 3) {\n                    item.getChildByName(\"ic_rank\").active = true;\n                    item.getChildByName(\"lblRank\").active = false;\n                    item.getChildByName(\"ic_rank\").getComponent(cc.Sprite).spriteFrame = this.sprRank[itemData['index']];\n                    if (itemData['index'] == 2) {\n                        item.getChildByName(\"ic_rank\").x = -235.622\n                    } else {\n                        item.getChildByName(\"ic_rank\").x = -239.622\n                    }\n                } else {\n                    item.getChildByName(\"ic_rank\").active = false;\n                    item.getChildByName(\"lblRank\").active = true;\n                }\n                item.active = true;\n            };\n            this.scrView.setDataList(cb, this.dataList);\n        }\n    }\n\n\n}\n\nexport default TaiXiuSieuToc.PopupHonors;"]}
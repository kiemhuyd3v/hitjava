{"version":3,"sources":["assets\\Lobby\\LobbyScript\\TienLenScript\\TienLen.InGame.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import Configs from \"../../../Loading/src/Configs\";\nimport Http from \"../../../Loading/src/Http\";\nimport App from \"../Script/common/App\";\nimport BroadcastReceiver from \"../Script/common/BroadcastReceiver\";\nimport SPUtils from \"../Script/common/SPUtils\";\nimport Utils from \"../Script/common/Utils\";\nimport TienLenNetworkClient from \"../Script/networks/TienLenNetworkClient\";\nimport Card from \"./TienLen.Card\";\nimport CardGroup from \"./TienLen.CardGoup\";\nimport TienLenCmd from \"./TienLen.Cmd\";\nimport TienLenConstant from \"./TienLen.Constant\";\nimport Player from \"./TienLen.Player\";\nimport Res from \"./TienLen.Res\";\nimport Room from \"./TienLen.Room\";\nimport History from \"./TienLen.PopupHistory\"\n\nvar TW = cc.tween;\nconst { ccclass, property } = cc._decorator;\nenum TYPECARD {\n    MOT_LA = 1,\n    MOT_DOI = 2,\n    HAI_DOI_THONG = 12,\n    SAM_CO = 3,\n    SANH = 4,\n    TU_QUY = 5,\n    HAI_TU_QUY = 25,\n    BA_DOI_THONG = 6,\n    BON_DOI_THONG = 7,\n    NAM_DOI_THONG = 8,\n    SAU_DOI_THUONG = 9,\n    SAU_DOI_THONG = 10,\n    SANH_RONG = 11\n}\nenum TYPE_WIN {\n    SANH_RONG = 1,\n    TU_QUY = 2,\n    NAM_DOI_THONG = 3,\n    SAU_DOI = 4,\n\n}\nenum STATE_GAME {\n    WAITING = 0,\n    PLAYING = 1,\n    FINISH = 2,\n}\nenum audio_clip {\n    BG = 0,\n    LOSE = 1,\n    WIN = 2,\n    CHETMAYNE = 3,\n    DODI = 4,\n    HAINE = 5,\n    MAYHABUOI = 6,\n    THUADICUNG = 7,\n    START_GAME = 8,\n    CHIA_BAI = 9,\n    DANH = 10\n}\n@ccclass\nexport default class InGame extends cc.Component {\n\n    public static instance: InGame = null;\n    @property(History)\n    history: History = null;\n    @property(cc.Toggle)\n    toggleMusic: cc.Toggle = null;\n    @property(cc.Toggle)\n    toggleSound: cc.Toggle = null;\n    @property(cc.Node)\n    nodeSetting:cc.Node = null;\n\n    @property(cc.Node)\n    contentChatNhanh:cc.Node = null;\n    @property(cc.Node)\n    bgChat:cc.Node = null;\n    @property(cc.Node)\n    boxSetting:cc.Node = null;\n    @property(cc.Sprite)\n    sprAvatar: cc.Sprite = null;\n    @property(cc.Label)\n    lbRoomId: cc.Label = null;\n    @property(cc.Label)\n    lbRoomBet: cc.Label = null;\n    @property(Player)\n    players: Player[] = [];\n    @property(cc.Label)\n    lbTimeCountDown: cc.Label = null;\n    @property(cc.SpriteFrame)\n    cards: cc.SpriteFrame[] = [];\n    @property(cc.Node)\n    cardLine: cc.Node = null;\n    @property(cc.Prefab)\n    cardItem: cc.Prefab = null;\n    @property(cc.Node)\n    board: cc.Node = null;\n    @property(cc.Node)\n    btnsInGame: cc.Node = null;\n    @property(cc.Label)\n    lblToast: cc.Label = null;\n    @property(cc.Node)\n    popupGuide: cc.Node = null;\n    // UI Chat\n    @property(cc.Node)\n    UI_Chat: cc.Node = null;\n    @property(cc.EditBox)\n    edtChatInput: cc.EditBox = null;\n\n    // Popup Result\n    @property(cc.Node)\n    popupResult: cc.Node = null;\n    @property(cc.ScrollView)\n    scrollPopupResult: cc.ScrollView = null;\n    @property(cc.Node)\n    contentPopupResult: cc.Node = null;\n    @property(cc.Prefab)\n    prefabPlayerResult: cc.Prefab = null;\n\n    @property(cc.Node)\n    fxWhoPlayFirst: cc.Node = null;\n\n    @property(sp.Skeleton)\n    animWin: sp.Skeleton = null;\n\n    @property(sp.SkeletonData)\n    dataAnimChatHai: sp.SkeletonData = null;\n\n    @property(sp.Skeleton)\n    animBeat: sp.Skeleton = null;\n\n    @property(sp.SkeletonData)\n    animToiTrang: sp.SkeletonData = null;\n\n    @property(sp.SkeletonData)\n    animBeatTypeCard: sp.SkeletonData = null;\n\n    soundManager = null;\n\n    dataFirstTurn = null;\n    dataChiaBai = null;\n    state_game = STATE_GAME.WAITING;\n\n    cardsOnHand = {};\n    buttons = {};\n    myChair = 0;\n    sortBySuit = true;\n    currTurnCards = [];\n    curCardOnBoard = [];\n    countChat = 0;\n    checkTurn = false;\n\n    countDown = null;\n\n    private timeoutChiaBaiDone = null;\n    private timeoutDelayChiaBai = null;\n\n    cachePlayersInfo = [];\n\n    onLoad() {\n        InGame.instance = this;\n        this.soundManager = Room.instance.soundManager;\n        this.initRes();\n        this.sprAvatar.spriteFrame = App.instance.getAvatarSpriteFrame(Configs.Login.Avatar);\n        cc.Tween.stopAllByTarget(this.popupResult);\n        this.popupResult.active = false;\n        this.bgChat.active = false;\n        var self = this;\n        for(var i=0;i<this.contentChatNhanh.childrenCount;i++){\n            let node = this.contentChatNhanh.children[i];\n            node.on('click',function(){\n                self.onBtnClickBoxChat();\n                self.chatNhanhMsg(node.children[0].getComponent(cc.Label).string);\n            })\n        }\n        this.edtChatInput.node.on('click',function(){\n            self.onBtnClickBoxChat();\n        });\n    }\n\n    \n\n    showSetting(){\n        this.toggleMusic.isChecked = SPUtils.getMusicVolumn() > 0;\n        this.toggleSound.isChecked = SPUtils.getSoundVolumn() > 0;\n        this.nodeSetting.active = true;\n    }\n\n    hideSetting(){\n        this.nodeSetting.active = false;\n    }\n\n    \n\n    private onBtnHistory() {\n\n        // this.actCoomingSoon();\n        // return;\n        if (this.history == null) {\n            App.instance.showLoading(true);\n            cc.assetManager.getBundle(\"TienLen\").load(\"PopupHistory\", cc.Prefab, function (finish, total, item) {\n            }, (err1, prefab: cc.Prefab) => {\n                App.instance.showLoading(false);\n                if (err1 != null) {\n                     //Utils.Log(\"errr load game TIENLEN:\", err1);\n                } else {\n                     //Utils.Log(\"vao daycai chu\");\n                    this.history = cc.instantiate(prefab).getComponent(\"TienLen.PopupHistory\");\n                    this.history.node.parent = this.node.parent;\n                    this.history.node.active = true;\n                    this.history.show()\n                }\n            })\n        } else {\n            this.history.node.parent = this.node.parent;\n            this.history.node.active = true;\n            this.history.show()\n        }\n\n        // App.instance.showLoading(true);\n        // Http.get(Configs.App.API, { \"c\": 139, \"p\": this.page, \"un\": Configs.Login.Nickname, \"gn\": \"Audition\" }, (err, res) => {\n        //     App.instance.showLoading(false);\n        //     if (err != null) return;\n        //      //Utils.Log(\"\");\n\n            \n        // });\n    }\n\n\n    onBtnToggleMusic(){\n        SPUtils.setMusicVolumn(this.toggleMusic.isChecked ? 1 : 0);\n        BroadcastReceiver.send(BroadcastReceiver.ON_AUDIO_CHANGED);\n    }\n\n    onBtnToggleSound(){\n        SPUtils.setSoundVolumn(this.toggleSound.isChecked ? 1 : 0);\n        BroadcastReceiver.send(BroadcastReceiver.ON_AUDIO_CHANGED);\n    }\n\n    initRes() {\n        Res.getInstance();\n        this.btnsInGame.children.forEach(btn => {\n            this.buttons[btn.name] = btn;\n        });\n    }\n\n    onBtnSetting(){\n        this.boxSetting.active = !this.boxSetting.active;\n    }\n\n    public show(isShow: boolean, roomInfo = null) {\n        if (isShow) {\n            this.node.active = true;\n            this.sprAvatar.spriteFrame = App.instance.getAvatarSpriteFrame(Configs.Login.Avatar);\n            this.cleanCardLine();\n            this.cleanCardsOnBoard();\n            this.cleanCardsOnHand();\n            for (let index = 0; index < TienLenConstant.Config.MAX_PLAYER; index++) {\n                this.players[index].setStatus();\n                this.players[index].setLeaveRoom();\n                this.players[index].state = STATE_GAME.WAITING;\n            }\n            this.setRoomInfo(roomInfo);\n\n        } else {\n            this.node.active = false;\n        }\n    }\n\n    actLeaveRoom() {\n        TienLenNetworkClient.getInstance().send(new TienLenCmd.SendRequestLeaveGame());\n    }\n\n    setRoomInfo(room) {\n         //Utils.Log(\"TLMN setRoomInfo data : \", room);\n        this.lbRoomId.string = room.roomId;\n        if (room.moneyBet == 0) {\n            this.lbRoomBet.string = \"\";\n        } else {\n            this.lbRoomBet.string = Utils.formatNumber(room.moneyBet);\n        }\n        this.lbTimeCountDown.node.active = false;\n        this.myChair = room.myChair;\n        this.setPlayersInfo(room);\n        for (let index = 0; index < 4; index++) {\n            this.players[index].hideChat();\n        }\n        if (room.cards != null) {\n            if (room.cards.length > 0) {\n                this.cardLine.active = true;\n                this.setCardsOnHand(this.sortCards(room.cards));\n                this.setActiveButtons([\"bt_sort\"], [true]);\n            }\n        }\n        this.closePopupResult();\n    }\n\n    setPlayersInfo(room) {\n        this.cachePlayersInfo = [];\n        for (let i = 0; i < room.playerInfos.length; i++) {\n            var info = room.playerInfos[i];\n            if (room.playerStatus[i] != 0) {\n                this.cachePlayersInfo.push(info.nickName);\n                var chair = this.convertChair(i);\n                var pl = this.players[chair];\n\n\n                if (pl) pl.setPlayerInfo(info);\n                if (room.playerStatus[i] == 1) {\n                    pl.setStateViewing(true);\n                }\n                if (info.nickName == Configs.Login.Nickname && room.playerStatus[i] == 1) {\n                    this.state_game = STATE_GAME.PLAYING;\n                }\n                if (room.playerStatus[i] == 3 && room.hasOwnProperty(\"handCardSize\")) {\n                    pl.setCardRemain(room.handCardSize[i]);\n                }\n\n            }\n        }\n    }\n\n    updateGameInfo(data) {\n        this.show(true, data);\n    }\n\n    onUserJoinRoom(user) {\n        if (user.uStatus != 0) {\n            this.cachePlayersInfo[user.uChair] = user.info.nickName;\n            let player = this.players[this.convertChair(user.uChair)];\n            if (this.state_game == STATE_GAME.PLAYING) {\n                player.setStateViewing(true);\n            }\n            player.setPlayerInfo(user.info);\n        }\n    }\n\n    autoStart(autoInfo) {\n        if (autoInfo.isAutoStart) {\n            this.state_game = STATE_GAME.WAITING;\n            this.setTimeCountDown(\"Ván đấu bắt đầu sau: \", autoInfo.autoStartTime);\n            this.closePopupResult();\n            this.players.forEach((player) => {\n                if (player.node.active)\n                    player.setStateViewing(false);\n            })\n        }\n    }\n\n    setTimeCountDown(msg, t) {\n        this.lbTimeCountDown.string = msg + \"\" + t + \"s\";\n        this.lbTimeCountDown.node.active = true;\n        clearInterval(this.countDown);\n        this.countDown = setInterval(() => {\n            if (this.node) {\n                t--;\n                if (t < 1) {\n                    this.state_game = STATE_GAME.PLAYING;\n                }\n                if (t < 0) {\n\n                    clearInterval(this.countDown);\n                    this.lbTimeCountDown.node.active = false;\n                } else {\n                    this.lbTimeCountDown.string = msg + \"\" + t + \"s\";\n                }\n            }\n        }, 1000);\n    }\n\n    firstTurn(data) {\n        this.cleanCardLine();\n        clearTimeout(this.timeoutDelayChiaBai);\n        // this.timeoutDelayChiaBai = setTimeout(() => {\n        let numPlayer = 0;\n        let arrSeatId = [];\n        for (let i = 0; i < data.cards.length; i++) {\n            var pl = this.players[this.convertChair(i)]\n            if (pl.active) {\n                numPlayer += 1;\n                arrSeatId.push(this.convertChair(i));\n            }\n        }\n\n        let cardDeal = 6;\n        // Open | Hide cards not use -> Mau binh nhieu la bai qua nen chi chia 4 la tuong trung\n        // for (let index = 0; index < 4 * cardDeal; index++) { // 4 players * 6 cards\n\n        let timeShip = 0.05; // 0.15\n        // Move Cards used to each player joined\n        if (numPlayer > 4) numPlayer = 4;\n        this.fxWhoPlayFirst.active = true;\n         //Utils.Log(\"thang ngay danh truoc:\" + this.cachePlayersInfo[data.chair]);\n        this.fxWhoPlayFirst.getChildByName(\"txt\").getComponent(cc.Label).string = this.cachePlayersInfo[data.chair] + \" đánh trước !\";\n        this.scheduleOnce(() => {\n            this.fxWhoPlayFirst.active = false;\n        }, 2.0)\n        for (let i = 0; i < this.players.length; i++) {\n            let player = this.players[i];\n            this.resolveCardDeal(player);\n        }\n        // }, 1000);\n    }\n    actCoomingSoon(){\n        App.instance.ShowAlertDialog(App.instance.getTextLang(\"txt_function_in_development\"));\n    }\n    resolveCardDeal(player) {\n        if (player.state == STATE_GAME.PLAYING) {\n            for (let j = 0, l = 6; j < l; j++) {\n                let card4Me = player.cardDeal[j];\n                if (!card4Me) {\n                    card4Me = cc.instantiate(this.cardItem);\n                    card4Me.getComponent(Card).setCardData(52);\n                    this.node.addChild(card4Me);\n                    player.cardDeal.push(card4Me);\n                }\n                card4Me.active = true;\n                let rawPlayerPos = cc.v2(player.node.x, player.node.y - 50);\n                cc.Tween.stopAllByTarget(card4Me);\n                TW(card4Me)\n                    .set({ opacity: 150, scale: 0.5, x: 0, y: 0 })\n                    .delay(j * 0.05)\n                    .parallel(TW()\n                        .to(0.2, { x: rawPlayerPos.x, y: rawPlayerPos.y, opacity: 255 }, { easing: cc.easing.sineOut }),\n                        TW().by(0.15, { angle: 360 }, { easing: cc.easing.sineOut })\n                    )\n                    .call(() => {\n                        this.soundManager.playAudioEffect(audio_clip.CHIA_BAI);\n                        card4Me.active = false;\n                        if (j == l - 1 && this.players.indexOf(player) == 0) {\n                            this.resolveChiaBai(this.dataChiaBai);\n                        }\n                    }).start();\n            }\n        }\n    }\n\n    chiaBai(data) {\n        this.dataChiaBai = data;\n        this.firstTurn(this.dataFirstTurn);\n    }\n    resolveChiaBai(data) {\n        this.setCardsOnHand(this.sortCards(data.cards));\n        if (data.toiTrang > 0) {\n\n        }\n        for (let i = 0; i < this.players.length; i++) {\n            if (this.players[i].active && this.players[i].state == STATE_GAME.PLAYING) {\n                this.players[i].offFirstCard();\n                if (i > 0) {\n                    this.players[i].setCardRemain(data.cardSize);\n                }\n            }\n        }\n        this.setActiveButtons([\"bt_sort\"], [true]);\n    }\n\n    changeTurn(turn) {\n        var chair = this.convertChair(turn.chair);\n        for (let index = 0; index < 4; index++) {\n            this.players[index].setTimeRemain(0);\n        }\n        if (turn.time) {\n            this.players[chair].setTimeRemain(turn.time);\n        } else {\n            this.players[chair].setTimeRemain(14);\n        }\n\n        if (chair == 0) {\n            this.setActiveButtons([\"bt_submit_turn\", \"bt_pass_turn\"], [true, true]);\n            this.checkTurn = true;\n        }\n        if (turn.newRound) {\n            this.cleanCardsOnBoard();\n            this.currTurnCards = [];\n            this.curCardOnBoard = [];\n            this.countChat = 0;\n            this.checkTurn = false;\n            // for (let i = 0; i < this.players.length; i++) {\n            //     if (this.players[i].active) {\n            //         this.players[i].setStatus();\n            //     }\n            // }\n        }\n    }\n\n    submitTurn(turn) {\n        this.setActiveButtons([\"bt_submit_turn\", \"bt_pass_turn\"], [false, false]);\n        this.players[0].setTimeRemain(0);\n        var cards = this.sortCards(turn.cards);\n\n        let isExist2 = false;\n        for (let index = 0; index < turn.cards.length; index++) {\n            if (turn.cards[index] == 48 || turn.cards[index] == 49 || turn.cards[index] == 50 || turn.cards[index] == 51) {\n                isExist2 = true;\n            }\n        }\n\n        if (isExist2) {\n            let animChatHai = new cc.Node(\"animChatHai\").addComponent(sp.Skeleton);\n            this.node.getChildByName(\"board\").addChild(animChatHai.node);\n            animChatHai.node.setPosition(cc.v2(-98, -348));\n            animChatHai.skeletonData = this.dataAnimChatHai;\n            animChatHai.setAnimation(0, \"Đánh 2\", false);\n            setTimeout(() => {\n                animChatHai.node.destroy();\n            }, 1500);\n        }\n\n        var cardHalf = (cards.length - 1) / 2;\n        var ranX = Math.floor(Math.random() * 100) - 50;\n        var ranY = Math.floor(Math.random() * 100) - 30;\n        var chair = this.convertChair(turn.chair);\n        var pl = this.players[chair];\n        this.board.children.forEach((card) => {\n            card.color = cc.Color.GRAY;\n        })\n        if (chair == 0) {//this player\n            for (let i = 0; i < cards.length; i++) {\n                var cardIndex = cards[i];\n                var _card = this.cardsOnHand[cardIndex];\n                var pos = _card.parent.convertToWorldSpaceAR(_card.position)\n                pos = this.board.convertToNodeSpaceAR(pos);\n                _card.parent = this.board;\n                _card.setPosition(pos);\n                _card.runAction(cc.moveTo(0.2, cc.v2((i - cardHalf) * 30 + ranX, ranY)));\n                _card.runAction(cc.scaleTo(0.2, 0.65, 0.65));\n                delete this.cardsOnHand[cardIndex];\n            }\n        } else { //that player\n            var pos = pl.node.parent.convertToWorldSpaceAR(pl.node.position)\n            pos = this.board.convertToNodeSpaceAR(pos);\n            for (let i = 0; i < cards.length; i++) {\n                var cardItem = cc.instantiate(this.cardItem);\n                cardItem.parent = this.board;\n                cardItem.setScale(0.65, 0.65);\n                cardItem.setPosition(pos);\n                cardItem.getComponent(Card).setCardData(cards[i]);\n                cardItem.setContentSize(cc.size(100, 135));\n                cardItem.runAction(cc.moveTo(0.2, cc.v2((i - cardHalf) * 30 + ranX, ranY)));\n            }\n            pl.setCardRemain(turn.numberCard);\n            this.currTurnCards = cards;\n        }\n        this.checkTypeSoundEff(cards, this.curCardOnBoard);\n        this.curCardOnBoard = cards;\n\n        let typeCard = this.getTypeCard(cards);\n        this.showAnimTypeCard(typeCard, cards);\n\n\n    }\n    checkTypeSoundEff(cards, currTurnCards = null) {\n        let typeSound = 10;\n        let arrPig = [48, 49, 50, 51];\n\n        if (arrPig.some(ele => cards.includes(ele))) {\n            typeSound = audio_clip.HAINE;\n        }\n        if (currTurnCards.some(ele => arrPig.includes(ele))) {//chat dc 2.\n            this.countChat++;\n            if (this.countChat == 1)\n                typeSound = audio_clip.CHETMAYNE;\n            else if (this.countChat == 2) {\n                typeSound = audio_clip.MAYHABUOI;\n            } else if (this.countChat == 3) {\n                typeSound = audio_clip.DODI;\n            }\n        }\n        this.soundManager.playAudioEffect(typeSound);\n    }\n\n    passTurn(turn) {\n         //Utils.Log(\"Pass turn\");\n        this.players[this.convertChair(turn.chair)].setNotify(\"Bỏ lượt\");\n        this.setActiveButtons([\"bt_submit_turn\", \"bt_pass_turn\"], [false, false]);\n        this.players[0].setTimeRemain(0);\n    }\n\n    actSubmitTurn() {\n        var cardSelected = [];\n        this.cardLine.children.forEach(card => {\n            var _card = card.getComponent(Card);\n            if (_card.isSelected)\n                cardSelected.push(_card.getCardIndex());\n        });\n        this.sendSubmitTurn(cardSelected);\n\n        this.checkTurn = false;\n    }\n\n    sendSubmitTurn(cardSelected) {\n        TienLenNetworkClient.getInstance().send(new TienLenCmd.SendDanhBai(!1, cardSelected));\n    }\n\n    actPassTurn() {\n        this.sendPassTurn();\n\n        this.checkTurn = false;\n    }\n\n    sendPassTurn() {\n        TienLenNetworkClient.getInstance().send(new TienLenCmd.SendBoLuot(!0));\n    }\n\n    sortCards(cards) {\n        cards = CardGroup.indexsToCards(cards);\n        var _cards = [];\n        if (this.sortBySuit)\n            _cards = new CardGroup(cards).getOrderedBySuit();\n        else\n            _cards = CardGroup.sortCards(cards);\n        return CardGroup.cardsToIndexs(_cards);\n    }\n\n    actSort() {\n        this.sortBySuit = !this.sortBySuit;\n        var cards = this.getCardsOnHand();\n        cards = this.sortCards(cards);\n        this.sortCardsOnHand(cards);\n        this.setToggleCardsOnHand();\n    }\n\n    setCardsOnHand(cards) {\n        let count = 0;\n        cards.forEach(card => {\n            var cardItem = cc.instantiate(this.cardItem);\n            cardItem.setContentSize(cc.size(100, 135));\n            cardItem.parent = this.cardLine;\n            cardItem.getComponent(Card).setCardData(52);\n            cc.tween(cardItem).delay(0.05 * count)\n                .to(0.2, { angle: -10, scaleX: 0 })\n                .to(0.2, { angle: 0, scaleX: 1 }).call(() => {\n                    cardItem.getComponent(Card).setCardData(card, this.onCardSelectCallback.bind(this));\n                    this.cardsOnHand[card] = cardItem;\n                }).start();\n            count++;\n        });\n    }\n\n    onCardSelectCallback(card) {\n        if (this.currTurnCards\n            && this.currTurnCards.length == 1\n            && this.currTurnCards[0].card >= 48) //1 la khac 2\n        {\n            this.setToggleCardsOnHand();\n            this.setToggleCardsOnHand([card]);\n        } else\n            this.checkSuggestion(card);\n    }\n\n    checkSuggestion(data) {\n        data = CardGroup.indexToCard(data);\n        var cardsOnHand = CardGroup.indexsToCards(this.getCardsOnHand());\n        var turnCards = CardGroup.indexsToCards(this.currTurnCards);\n        var suggestionCards;\n        if (this.checkTurn)\n            suggestionCards = new CardGroup(cardsOnHand).getSuggestionCards(turnCards, data, () => {\n                let tmp = new Array();\n                for (var key in this.cardsOnHand) {\n                    let tmpCard = this.cardsOnHand[key].getComponent(Card);\n                    if (tmpCard.isSelected) {\n                        tmp.push(tmpCard);\n                    }\n                }\n                return new CardGroup(cardsOnHand).getSuggestionNoCards(tmp, data, true);\n            });\n        else {\n            let tmp = new Array();\n            for (var key in this.cardsOnHand) {\n                let tmpCard = this.cardsOnHand[key].getComponent(Card);\n                if (tmpCard.isSelected) {\n                    tmp.push(tmpCard);\n                }\n            }\n            suggestionCards = new CardGroup(cardsOnHand).getSuggestionNoCards(tmp, data);\n        }\n        if (suggestionCards) {\n            for (let i = 0; i < suggestionCards.length; i++) {\n                for (let j = 0; j < suggestionCards[i].length; j++) {\n                    if (CardGroup.cardToIndex(data) == CardGroup.cardToIndex(suggestionCards[i][j])) {\n                        this.setToggleCardsOnHand(CardGroup.cardsToIndexs(suggestionCards[i]));\n                    }\n                }\n            }\n        }\n    }\n\n    getCardsOnHand() {\n        var cards = [];\n        for (var key in this.cardsOnHand) {\n            cards.push(this.cardsOnHand[key].getComponent(Card).getCardIndex());\n        }\n        return cards;\n    }\n\n    cleanCardsOnHand() {\n        for (var key in this.cardsOnHand)\n            delete this.cardsOnHand[key];\n    }\n\n    cleanCardsOnBoard() {\n        this.board.removeAllChildren();\n    }\n\n    setToggleCardsOnHand(cards = null) {\n        if (cards === null) {\n            for (var key in this.cardsOnHand) {\n                this.cardsOnHand[key].getComponent(Card).deSelect();\n            }\n        } else {\n            for (var key in this.cardsOnHand) {\n                this.cardsOnHand[key].getComponent(Card).deSelect();\n            }\n            for (let i = 0; i < cards.length; i++) {\n                this.cardsOnHand[cards[i]].getComponent(Card).select();\n            }\n        }\n    }\n\n    sortCardsOnHand(cards) {\n        for (let i = 0; i < cards.length; i++) {\n            var index = cards[i];\n            this.cardsOnHand[index].setSiblingIndex(i);\n        }\n    }\n\n    cleanCardLine() {\n        this.cardLine.removeAllChildren();\n\n        for (let i = 1; i < this.players.length; i++) {\n            this.players[i].clearCardLine();\n        }\n    }\n\n    setActiveButtons(btnNames, actives) {\n        for (let i = 0; i < btnNames.length; i++) {\n            this.buttons[btnNames[i]].active = actives[i];\n        }\n    }\n\n    endGame(data) {\n         //Utils.Log(\"TTTTTTTTTT endGame data : \", JSON.stringify(data));\n        this.state_game = STATE_GAME.FINISH;\n\n        for (let index = 0; index < 4; index++) {\n            this.players[index].setTimeRemain(0);\n        }\n        if (this.cardLine.childrenCount > 0) {\n            this.soundManager.playAudioEffect(audio_clip.THUADICUNG);\n        }\n        var coinChanges = data.ketQuaTinhTienList;\n        for (let i = 0; i < coinChanges.length; i++) {\n            var chair = this.convertChair(i);\n            if (i < TienLenConstant.Config.MAX_PLAYER) {\n                this.players[chair].setCoinChange(coinChanges[i]);\n                this.players[chair].setCoin(data.currentMoney[i]);\n            }\n        }\n        for (let i = 0, l = data.ketQuaTinhTienList.length; i < l; i++) {\n            var chair = this.convertChair(i);\n            if (i < TienLenConstant.Config.MAX_PLAYER) {\n                let player = this.players[chair];\n                if (data.winTypes[i] != 1) {\n                    if (data.winTypes[i] < 11 && player.node.active) {\n                        player.showAnimWinLose(true);\n                        if ([4, 5, 6, 7, 8, 9].includes(data.winTypes[i])) {\n                            player.showAnimToiTrang(data.winTypes[i]);\n                        }\n                        if (player == this.players[0]) {\n                            this.soundManager.playAudioEffect(audio_clip.WIN)\n                        }\n                    } else {\n                        player.showAnimWinLose(false);\n                        if (player == this.players[0]) {\n                            this.soundManager.playAudioEffect(audio_clip.LOSE)\n                        }\n                    }\n                }\n\n            }\n\n        }\n        for (let i = 0; i < data.cards.length; i++) {\n            var chair = this.convertChair(i);\n            if (chair != 0) {\n                this.players[chair].setCardLine(data.cards[i]);\n                this.players[chair].setCardRemain(0);\n            }\n        }\n        this.setActiveButtons([\"bt_sort\"], [false]);\n        if (data.countDown == 0) {\n            this.setTimeCountDown(\"Ván đấu kết thúc sau: \", 10);\n            setTimeout(() => {\n                this.cleanCardsOnHand();\n                this.cleanCardLine();\n                this.cleanCardsOnBoard();\n                for (let index = 0; index < TienLenConstant.Config.MAX_PLAYER; index++) {\n                    this.players[index].setStatus();\n                    this.players[index].animWinLose.node.active = false;\n                    this.players[index].animToiTrang.node.active = false;\n                    this.players[index].setTimeRemain(0);\n                }\n            }, 5000);\n        } else {\n             //Utils.Log(\"TTTTTTTTTT TLMN\");\n            setTimeout(() => {\n                this.setTimeCountDown(\"Ván đấu kết thúc sau: \", data.countDown - 6);\n            }, 4000);\n\n            setTimeout(() => {\n                this.cleanCardsOnHand();\n                this.cleanCardLine();\n                this.cleanCardsOnBoard();\n                for (let index = 0; index < TienLenConstant.Config.MAX_PLAYER; index++) {\n                    this.players[index].animWinLose.node.active = false;\n                    this.players[index].animToiTrang.node.active = false;\n                    this.players[index].setStatus();\n                    this.players[index].setTimeRemain(0);\n                }\n            }, 9000);\n        }\n        TienLenNetworkClient.getInstance().send(new TienLenCmd.SendReadyAutoStart());\n        cc.Tween.stopAllByTarget(this.popupResult.getChildByName(\"bg\"));\n        setTimeout(() => {\n            // show Popup Result\n            this.popupResult.active = true;\n            TW(this.popupResult.getChildByName(\"bg\")).set({ opacity: 150, scale: 0.8 }).to(0.3, { scale: 1.0, opacity: 255 }, { easing: cc.easing.backInOut }).start();\n            this.contentPopupResult.destroyAllChildren();\n            this.contentPopupResult.removeAllChildren();\n\n            let isTLMN = data.sizeWinType == 5 ? false : true;\n            let ketQuaTinhTien = data.ketQuaTinhTienList.slice().sort((x, y) => {\n                return y - x;\n            })\n\n            let countId = 0;\n            for (let index = 0; index < ketQuaTinhTien.length; index++) {\n                if (ketQuaTinhTien[index] != 0) {\n                    countId++;\n                    let item = cc.instantiate(this.prefabPlayerResult).getComponent(\"TienLen.ItemPlayerResult\");\n                    let indexInDataKqtt = data.ketQuaTinhTienList.indexOf(ketQuaTinhTien[index]);\n                    item.initItem({\n                        id: index + 1,// index + 1,\n                        userName: this.cachePlayersInfo[indexInDataKqtt],\n                        goldChange: data.ketQuaTinhTienList[indexInDataKqtt],\n                        cards: data.cards[indexInDataKqtt],\n                        winTypes: data.winTypes[indexInDataKqtt],\n                        isTLMN: isTLMN,\n                        countId: countId\n                    })\n                    this.contentPopupResult.addChild(item.node);\n                }\n            }\n            this.scrollPopupResult.scrollToTop(0);\n        }, 4000);\n    }\n\n    updateMatch(data) {\n\n    }\n\n    userLeaveRoom(data) {\n        var chair = this.convertChair(data.chair);\n        this.players[chair].setLeaveRoom();\n        if (chair == 0) {\n            this.show(false);\n            Room.instance.show(true);\n            Room.instance.refreshRoom();\n        }\n    }\n\n    notifyUserRegOutRoom(res) {\n        let outChair = res[\"outChair\"];\n        let isOutRoom = res[\"isOutRoom\"];\n        let chair = this.convertChair(outChair);\n        if (chair == 0) {\n            if (isOutRoom) {\n                // this.players[chair].setNotify(\"Sắp rời bàn !\");\n                App.instance.showToast(App.instance.getTextLang('txt_room_leave'));\n                this.players[chair].setBackGame(true);\n            } else {\n                // this.players[chair].setNotify(\"Khô Máu !\");\n                App.instance.showToast(App.instance.getTextLang('txt_room_cancel_leave'));\n                this.players[chair].setBackGame(false);\n            }\n        }\n    }\n\n    playerChat(res) {\n        let chair = res[\"chair\"];\n        let isIcon = res[\"isIcon\"];\n        let content = res[\"content\"];\n\n        let seatId = this.convertChair(chair);\n        if (isIcon) {\n            // Chat Icon\n            this.players[seatId].showChatEmotion(content);\n        } else {\n            // Chat Msg\n            this.players[seatId].showChatMsg(content);\n        }\n    }\n\n    playerChatChong(res) {\n        let winChair = res[\"winChair\"];\n        let lostChair = res[\"lostChair\"];\n        let winMoney = res[\"winMoney\"];\n        let lostMoney = res[\"lostMoney\"];\n        let winCurrentMoney = res[\"winCurrentMoney\"];\n        let lostCurrentMoney = res[\"lostCurrentMoney\"];\n\n        setTimeout(() => {\n            let seatIdWin = this.convertChair(winChair);\n            let seatIdLost = this.convertChair(lostChair);\n            this.players[seatIdWin].setCoinChange(winMoney);\n            this.players[seatIdLost].setCoinChange(lostMoney);\n            this.players[seatIdWin].setCoin(winCurrentMoney);\n            this.players[seatIdLost].setCoin(lostCurrentMoney);\n            setTimeout(() => {\n                this.players[seatIdWin].setStatus(\"\");\n                this.players[seatIdLost].setStatus(\"\");\n            }, 2000);\n        }, 1000);\n    }\n\n    wait4doithong(res) {\n        let chair = res[\"chair\"];\n\n        this.fxWhoPlayFirst.active = true;\n        this.fxWhoPlayFirst.getChildByName(\"txt\").getComponent(cc.Label).string = \"Đợi Bốn Đôi Thông !\";\n        setTimeout(() => {\n            this.fxWhoPlayFirst.active = false;\n        }, 2000);\n    }\n\n    showPopupGuide() {\n        this.popupGuide.active = true;\n    }\n\n    closePopupGuide() {\n        this.popupGuide.active = false;\n    }\n    // Chat\n\n    onBtnClickBgChat(){\n        this.UI_Chat.opacity = 100;\n        this.bgChat.active = false;\n    }\n\n    onBtnClickBoxChat(){\n        this.UI_Chat.opacity = 255;\n        this.bgChat.active = true;\n    }\n    showUIChat() {\n        this.onBtnClickBoxChat();\n        this.UI_Chat.active = true;\n        cc.tween(this.UI_Chat).to(0.3, { x: cc.winSize.width / 2 - this.UI_Chat.width / 2 }, { easing: cc.easing.sineOut }).start();\n    }\n\n    toggleUIChat(){\n        if(this.UI_Chat.active == false){\n            this.showUIChat();\n        }\n        else{\n            this.closeUIChat();\n        }\n    }\n\n    closeUIChat() {\n        this.UI_Chat.active = false;\n        cc.tween(this.UI_Chat).to(0.3, { x: cc.winSize.width / 2 + this.UI_Chat.width / 2 }, { easing: cc.easing.sineIn }).call(() => {\n            this.UI_Chat.active = false;\n        }).start();\n    }\n\n    chatEmotion(event, id) {\n         //Utils.Log(\"BaCay chatEmotion id : \", id);\n        TienLenNetworkClient.getInstance().send(new TienLenCmd.SendChatRoom(1, id));\n        this.closeUIChat();\n    }\n\n    chatMsg() {\n        if (this.edtChatInput.string.trim().length > 0) {\n            TienLenNetworkClient.getInstance().send(new TienLenCmd.SendChatRoom(0, this.edtChatInput.string));\n            this.edtChatInput.string = \"\";\n            this.closeUIChat();\n        }\n    }\n\n    chatNhanhMsg(msg) {\n        if (msg.trim().length > 0) {\n             //Utils.Log(\"chatNhanhMsg:\"+msg);\n            TienLenNetworkClient.getInstance().send(new TienLenCmd.SendChatRoom(0, msg));\n            this.closeUIChat();\n        }\n    }\n\n    convertChair(a) {\n        return (a - this.myChair + 4) % 4;\n    }\n\n    showToast(message: string) {\n        this.lblToast.string = message;\n        let parent = this.lblToast.node.parent;\n        parent.stopAllActions();\n        parent.active = true;\n        parent.opacity = 0;\n        parent.runAction(cc.sequence(cc.fadeIn(0.1), cc.delayTime(2), cc.fadeOut(0.2), cc.callFunc(() => {\n            parent.active = false;\n        })));\n    }\n\n    closePopupResult() {\n        cc.Tween.stopAllByTarget(this.popupResult);\n        TW(this.popupResult.getChildByName(\"bg\")).to(0.3, { opacity: 150, scale: 0.8 }, { easing: cc.easing.backIn }).call(() => {\n            this.popupResult.active = false;\n        }).start();\n    }\n    getTypeCard(arrCard) {\n        let indexsToCard = [];\n        arrCard.forEach((element) => {\n            indexsToCard.push(CardGroup.indexToCard(element))\n        });\n        let cardtype = new CardGroup(indexsToCard).getCardType();\n        return cardtype;\n    }\n    showAnimTypeCard(typeCard, cards) {\n        let animName = \"\";\n        switch (typeCard) {\n            case TYPECARD.BA_DOI_THONG:\n                animName = \"chat ba doi thong\"\n                break;\n            case TYPECARD.BON_DOI_THONG:\n                animName = \"chat bon doi thong\"\n                break;\n            case TYPECARD.TU_QUY:\n                animName = \"chat tu quy\"\n                break;\n        }\n        if (animName != \"\") {\n            this.animBeat.node.parent.active = true;\n            this.animBeat.setAnimation(0, animName, true);\n            this.showSpecialCard(cards);\n        }\n\n\n    }\n    showSpecialCard(indexs) {\n        // card.zIndex = 1000;\n        // card.runAction(\n        //     cc.sequence(\n        //         cc.delayTime(delay),\n        //         cc.spawn(\n        //             cc.scaleTo(0.15,0.01,1.2),\n        //             cc.skewTo(0.15,0,-15),\n        //         ),\n        //         cc.callFunc(()=>{\n        //             card.skewY = 15;\n        //             card.getComponent('Card').setTextureWithCode(code);\n        //         }),\n        //         cc.spawn(\n        //             cc.scaleTo(0.15,1.2),\n        //             cc.skewTo(0.15,0,0),\n        //         ),\n        //         cc.delayTime(0.1),\n        //         cc.scaleTo(0.2,1).easing(cc.easeCubicActionIn()),\n        //         cc.delayTime(0.2),\n\n        //     )\n        // )\n        let totalSize = ((120 * indexs.length) / 2) + 60;\n        let initPos = cc.v2(-(totalSize / 2) + 60, 0);\n        let cardNode = []\n        for (let i = 0; i < indexs.length; i++) {\n            var cardItem = cc.instantiate(this.cardItem);\n            cardNode.push(cardItem);\n            cardItem.parent = this.animBeat.node.parent\n            cardItem.getComponent(Card).setCardData(indexs[i]);\n            // cardItem.setScale(0.6, 0.6);\n            cardItem.setPosition(cc.v2(0, -cc.winSize.height));\n            cardItem.active = true;\n            TW(cardItem).delay(0.05 * i).to(0.15, { x: initPos.x + (i * 60), y: -cc.winSize.height / 4, scaleX: 0.01, scaleY: 1.2, skewX: 0, skewY: -15 })\n                .call(() => {\n\n                    cardItem.skewY = 15;\n                }).to(0.15, { x: initPos.x + (i * 60), y: initPos.y, scale: 1.2, skewX: 0, skewY: 0 })\n                .delay(0.1)\n                .to(0.2, { scale: 1.0 }, { easing: cc.easing.cubicOut })\n                .start();\n        }\n        setTimeout(() => {\n            cardNode.forEach((card) => {\n                card.destroy();\n            });\n            this.animBeat.node.parent.active = false;\n        }, 2500)\n        this.animBeat.node.scale = 0.6;\n        this.animBeat.node.setPosition(cc.v2(-74.5, -158));\n    }\n}\n"]}
{"version":3,"sources":["assets\\Lobby\\LobbyScript\\Payment\\TabTopupManualMomo.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import Configs from \"../../../Loading/src/Configs\";\nimport Http from \"../../../Loading/src/Http\";\nimport App from \"../Script/common/App\";\nimport Utils from \"../Script/common/Utils\";\nimport { Global } from \"../../../Loading/src/Global\";\nimport SPUtils from \"../Script/common/SPUtils\";\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class TapTopupManualMomo extends cc.Component {\n    @property(cc.Sprite)\n    btnChoseBank: cc.Sprite = null;\n\t@property(cc.Button)\n    btnCopystk: cc.Button = null;\n\t@property(cc.Button)\n    btnCopynoidung: cc.Button = null;\n\n    @property(cc.EditBox)\n    editName: cc.EditBox = null;\n\n    @property(cc.EditBox)\n    editMoney: cc.EditBox = null;\n\n    @property(cc.EditBox)\n    editBankNumber: cc.EditBox = null;\n\n    @property(cc.Button)\n    btnXacNhan: cc.Button = null;\n\n\n    @property(cc.Node)\n    nodeInput: cc.Node = null;\n\n    @property(cc.Node)\n    nodeQR: cc.Node = null;\n\n    @property(cc.Node)\n    nodeArrow: cc.Node = null;\n    @property(cc.Label)\n    lbTransMsg: cc.Label = null;\n\t@property(cc.Label)\n    lbBankAccount: cc.Label = null;\n\t@property(cc.Label)\n    lbBankNumber: cc.Label = null;\n\t@property(cc.Sprite)\n    spriteBank: cc.Sprite = null;\n//\t@property(cc.Label)\n//    lbBank: cc.Label = null;\n\n    private providerName = null;\n    private data = null;\n    // onLoad () {}\n\n    start() {\n\n    }\n    show(data, providerName) {\n        this.providerName = providerName;\n        this.data = data;\n        this.node.active = true;\n        this.btnChoseBank.node.active = false;\n        this.nodeQR.active = false;\n        this.nodeInput.active = true;\n        this.nodeArrow.active = false;\n        this.editName.string = this.editMoney.string = this.editBankNumber.string = \"\";\n        this.editName.node.opacity = this.editBankNumber.node.opacity = this.editMoney.node.opacity = this.btnXacNhan.node.opacity = 255;\n        this.editName.enabled = true;\n        this.editMoney.enabled = true;\n        this.editBankNumber.enabled = true;\n        this.editBankNumber.placeholder = App.instance.getTextLang('txt_phone_number');\n        this.btnXacNhan.interactable = true;\n    }\n    hide() {\n        this.node.active = false;\n    }\n    onClickConfirm() {\n        if (this.node.active) {\n            var money = Utils.formatEditBox(this.editMoney.string);\n            var bankNumber = this.editBankNumber.string.trim();\n            if (this.editMoney.string == \"\" || bankNumber == \"\" || this.editName.string.trim() == \"\") {\n                App.instance.ShowAlertDialog(App.instance.getTextLang(\"txt_input_all\"));\n                return;\n            }\n            if (money < 10000) {\n                App.instance.ShowAlertDialog(App.instance.getTextLang(\"txt_cash_in_min\") + \" 10.000\");\n                return;\n            }\n            if (money > 300000000) {\n                App.instance.ShowAlertDialog(App.instance.getTextLang(\"txt_cash_in_max\") + \" 300.000.000\");\n                return;\n            }\n            var self = this;\n            App.instance.showLoading(true, -1);\n            var request = {\n                \"c\": 2003,\n                \"fn\": encodeURIComponent(this.editName.string.trim()),\n                \"am\": money,\n                \"pt\": 4,\n                \"nn\": Configs.Login.Nickname,\n                \"at\": Configs.Login.AccessToken,\n                \"pn\": this.providerName,\n                \"bc\": \"\",\n                \"ds\": this.generateTransMsg(),\n                \"bn\": bankNumber\n            };\n            Http.get(Configs.App.API, { \"c\": 130 }, (err, res) => {\n                let momoConfig = res.momoConfig;\n                this._momoConfig = momoConfig;\n                    //    this.lbBank.string = listBank[0].bankName;\n                        this.lbBankNumber.string = momoConfig.accountNumber;\n                        this.lbBankAccount.string = momoConfig.accountName;\n\t\t\t\t\t\tcc.loader.load(momoConfig.image_path, function (err, texture) {\n                    var newSpriteFrame = new cc.SpriteFrame(texture);\n                    self.spriteBank.spriteFrame = newSpriteFrame;\n                });\t\n            });\n\t\t\tthis.lbTransMsg.string =request['ds'];\n            Http.get(Configs.App.API, request, (err, res) => {\n                App.instance.showLoading(false);\n                //  cc.log(res);\n                if (res.success == true) {\n                    this.nodeInput.active = false;\n                    this.nodeQR.active = true;\n                }\n                else {\n                    App.instance.ShowAlertDialog(res.message);\n                }\n            });\n\t\t\tthis.btnCopystk.node.on(\"click\", ()=> {\n            if (this.lbBankNumber.string.length > 0) {\n                \n                    SPUtils.copyToClipboard(this.lbBankNumber.string);\n\t\t\t\t\tApp.instance.alertDialog.showMsg(\"Đã sao chép số tài khoản.\");\n                \n            } else {\n                App.instance.alertDialog.showMsg(\"Chưa có số tài khoản.\");  \n            }\n        });\n\t\tthis.btnCopynoidung.node.on(\"click\", ()=> {\n            if (this.lbTransMsg.string.length > 0) {\n                SPUtils.copyToClipboard(this.lbTransMsg.string);\n\t\t\t\t\tApp.instance.alertDialog.showMsg(\"Đã sao chép nội dung.\");\n                \n            } else {\n                App.instance.alertDialog.showMsg(\"Chưa có nội dung.\");  \n            }\n        });\n        }\n    }\n    generateTransMsg() {\n        return (Configs.Login.Nickname + \"\");\n    }\n\t\n    // update (dt) {}\n}\n"]}
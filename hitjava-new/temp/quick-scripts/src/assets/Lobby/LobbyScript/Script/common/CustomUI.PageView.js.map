{"version":3,"sources":["assets\\Lobby\\LobbyScript\\Script\\common\\CustomUI.PageView.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import Utils from \"../common/Utils\";\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class PageView extends cc.Component {\n\n    @property\n    autoInit: boolean = true;\n    @property\n    infinity: boolean = true;\n    @property\n    cancelInnerEvents: boolean = true;\n    @property\n    spacing: number = 30;\n    @property\n    moveOffset: number = 30;\n    @property(cc.Node)\n    content: cc.Node = null;\n    @property(cc.Node)\n    items: cc.Node = null;\n    @property(cc.Node)\n    pages: cc.Node = null;\n    @property(cc.Node)\n    indicator: cc.Node = null;\n\n    private index = 0;\n    private pageCount = 0;\n    private left: cc.Node = null;\n    private center: cc.Node = null;\n    private right: cc.Node = null;\n    private pageItems: cc.Node[] = [];\n    private touchMoved = false;\n    public onTouchStart: () => void = null;\n    public onTouchMove: () => void = null;\n    public onTouchEndOrCancel: () => void = null;\n    public onPageChanged: () => void = null;\n\n    onLoad() {\n        cc.PageView\n        this.node.on(cc.Node.EventType.TOUCH_START, (event: cc.Event.EventTouch) => {\n            this.touchMoved = false;\n            if (this.onTouchStart != null) this.onTouchStart();\n        }, this.node, true);\n\n        this.node.on(cc.Node.EventType.TOUCH_MOVE, (event: cc.Event.EventTouch) => {\n            if (!this.cancelInnerEvents) {\n                return;\n            }\n\n            if (this.touchMoved) {\n                let p = this.items.position;\n                p.x += event.getDeltaX();\n\n                let offset = this.content.width + this.spacing;\n                if (!this.infinity) {\n                    if (this.items.position.x > 0 && this.index == 0) {\n                        offset = this.moveOffset;\n                    } else if (this.items.position.x < 0 && this.index == this.pageCount - 1) {\n                        offset = this.moveOffset;\n                    }\n                }\n\n                if (Math.abs(p.x) > offset) {\n                    p.x = p.x > 0 ? offset : -offset;\n                }\n                this.items.position = p;\n\n                if (this.onTouchMove != null) this.onTouchMove();\n            }\n\n            var deltaMove = event.touch.getLocation().sub(event.touch.getStartLocation()); //FIXME: touch move delta should be calculated by DPI.\n            if (deltaMove.mag() > 7) {\n                if (!this.touchMoved && event.target != this.node) {\n                     //Utils.Log(event.target);\n                    // Simulate touch cancel for target node\n                    var cancelEvent = new cc.Event.EventTouch(event.getTouches(), event.bubbles);\n                    cancelEvent.type = cc.Node.EventType.TOUCH_CANCEL;\n                    cancelEvent.touch = event.touch;\n                    // cancelEvent.simulate = true;\n                    event.target.dispatchEvent(cancelEvent);\n                    this.touchMoved = true;\n                }\n            }\n        }, this.node, true);\n\n        let cbEnd = (event: cc.Event.EventTouch) => {\n            if (!this.touchMoved) {\n                return;\n            }\n            if (Math.abs(this.items.position.x) > this.content.width / 4) {\n                let idx = this.index;\n                let position = cc.Vec2.ZERO;\n                if (this.infinity) {\n                    if (this.items.position.x < 0) {\n                        idx++;\n                        if (idx > this.pageCount - 1) idx = 0;\n                        position = cc.v2(-this.content.width - this.spacing, 0);\n                    } else {\n                        idx--;\n                        if (idx < 0) idx = this.pageCount - 1;\n                        position = cc.v2(this.content.width + this.spacing, 0);\n                    }\n                } else {\n                    if (this.items.position.x < 0 && idx < this.pageItems.length - 1) {\n                        idx++;\n                    } else if (this.items.position.x > 0 && idx >= 1) {\n                        idx--;\n                    }\n                    position = this.index > idx ? cc.v2(this.content.width + this.spacing, 0) : cc.v2(-this.content.width - this.spacing, 0);\n                }\n                if (this.index != idx) {\n                    this.items.stopAllActions();\n                    this.items.runAction(cc.sequence(\n                        cc.moveTo((this.content.width + this.spacing - Math.abs(this.items.position.x)) / (this.content.width + this.spacing) * 0.5, position),\n                        cc.callFunc(() => {\n                            this.setPageIndex(idx);\n                            if (this.onPageChanged != null) this.onPageChanged();\n                        })\n                    ));\n                } else {\n                    this.items.stopAllActions();\n                    this.items.runAction(cc.sequence(\n                        cc.moveTo(0.3, cc.Vec2.ZERO),\n                        cc.callFunc(() => {\n                        })\n                    ));\n                }\n            } else {\n                this.items.stopAllActions();\n                this.items.runAction(cc.sequence(\n                    cc.moveTo(0.3, cc.Vec2.ZERO),\n                    cc.callFunc(() => {\n                    })\n                ));\n            }\n            if (this.onTouchEndOrCancel != null) this.onTouchEndOrCancel();\n        };\n        this.node.on(cc.Node.EventType.TOUCH_END, cbEnd, this.node, true);\n        this.node.on(cc.Node.EventType.TOUCH_CANCEL, cbEnd, this.node, true);\n\n        for (let i = 0; i < this.pages.childrenCount; i++) {\n            this.pages.children[i].active = false;\n        }\n\n        this.left = new cc.Node();\n        this.left.parent = this.items;\n        this.left.setPosition(-this.content.width - this.spacing, 0);\n        this.left.active = true;\n\n        this.center = new cc.Node();\n        this.center.parent = this.items;\n        this.center.setPosition(0, 0);\n        this.center.active = true;\n\n        this.right = new cc.Node();\n        this.right.parent = this.items;\n        this.right.setPosition(this.content.width + this.spacing, 0);\n        this.right.active = true;\n\n        if (this.autoInit) this.init();\n    }\n\n    public init() {\n        for (let i = 1; i < this.indicator.childrenCount; i++) {\n            this.indicator.children[i].destroy();\n            i--;\n        }\n        this.indicator.children[0].active = false;\n\n        this.pageCount = this.pages.childrenCount;\n         //Utils.Log(\"PageCount: \"+this.pageCount);\n        for (let i = 0; i < this.pages.childrenCount; i++) {\n            this.pageItems.push(this.pages.children[i]);\n            let item = cc.instantiate(this.indicator.children[0]);\n            item.parent = this.indicator;\n            item.active = true;\n        }\n        this.setPageIndex(0);\n    }\n\n    public scrollToIndex(index: number, moveToLeft: boolean = false) {\n        if (this.index != index) {\n            let position = cc.Vec2.ZERO;\n            if (this.infinity) {\n                position = moveToLeft ? cc.v2(this.content.width + this.spacing, 0) : cc.v2(-this.content.width - this.spacing, 0);\n            } else {\n                position = this.index > index ? cc.v2(this.content.width + this.spacing, 0) : cc.v2(-this.content.width - this.spacing, 0);\n            }\n            this.items.stopAllActions();\n            if (this.infinity || (Math.abs(this.index - index) == 1 || Math.abs(this.index - index) != this.pageCount - 1)) {\n                this.items.runAction(cc.sequence(\n                    cc.moveTo(0.5, position),\n                    cc.callFunc(() => {\n                        this.setPageIndex(index);\n                    })\n                ));\n            } else {\n                this.setPageIndex(index);\n            }\n        }\n    }\n\n    public scrollToNextIndex() {\n        let idx = this.index + 1;\n        if (idx >= this.pageCount) idx = 0;\n        this.scrollToIndex(idx, false);\n    }\n\n    public setPageIndex(index: number) {\n        this.index = index;\n\n        for (let i = 0; i < this.pageItems.length; i++) {\n            this.pageItems[i].active = false;\n        }\n\n        if (this.infinity) {\n            let idx = this.index - 1;\n            if (idx < 0) idx = this.pageCount - 1;\n            this.pageItems[idx].active = true;\n            this.pageItems[idx].parent = this.left;\n\n            idx = this.index;\n            this.pageItems[idx].active = true;\n            this.pageItems[idx].parent = this.center;\n\n            idx = this.index + 1;\n            if (idx > this.pageCount - 1) idx = 0;\n            this.pageItems[idx].active = true;\n            this.pageItems[idx].parent = this.right;\n        } else {\n            if (this.pageCount >= 3 && this.index >= 1) {\n                this.pageItems[this.index - 1].active = true;\n                this.pageItems[this.index - 1].parent = this.left;\n            }\n            if (this.pageCount >= this.index + 1) {\n                this.pageItems[this.index].active = true;\n                this.pageItems[this.index].parent = this.center;\n            }\n            if (this.pageCount >= 2 && this.index < this.pageCount - 1) {\n                this.pageItems[this.index + 1].active = true;\n                this.pageItems[this.index + 1].parent = this.right;\n            }\n        }\n        this.items.setPosition(cc.Vec2.ZERO);\n        this.updateIndicator();\n    }\n\n    private updateIndicator() {\n        for (let i = 1; i < this.indicator.childrenCount; i++) {\n            let item = this.indicator.children[i];\n            item.parent = this.indicator;\n            let active = (i - 1) == this.index;\n            item.getChildByName(\"active\").active = active;\n            item.getChildByName(\"inactive\").active = !active;\n        }\n    }\n}\n"]}
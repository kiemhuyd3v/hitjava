{"version":3,"sources":["assets\\Lobby\\LobbyScript\\Script\\networks\\Network.OutPacket.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import PacketHeaderAnalyze from \"./PacketHeaderAnalyze\";\n\nexport default class OutPacket {\n    static INDEX_SIZE_PACKET = 1;\n    _controllerId: number = 1;\n    _cmdId: number = 0;\n    _data: Array<number> = new Array<number>();\n    _capacity: Array<number> = new Array<number>();\n    _length: number = 0;\n    _pos: number = 0;\n    _isPackedHeader: boolean = false;\n\n    setCmdId(cmdId: number) {\n        this._cmdId = cmdId\n    }\n\n    setControllerId(controllerId: number) {\n        this._controllerId = controllerId;\n    }\n\n    initData(data) {\n        this._data = [data];\n        this._capacity = data\n    }\n\n    reset() {\n        this._length = this._pos = 0;\n        this._isPackedHeader = false;\n    }\n\n    packHeader() {\n        if (!this._isPackedHeader) {\n            this._isPackedHeader = !0;\n            var a = PacketHeaderAnalyze.genHeader(!1, !1);\n            this.putByte(a);\n            this.putUnsignedShort(this._length);\n            this.putByte(this._controllerId);\n            this.putShort(this._cmdId)\n        }\n    }\n\n    putByte(a) {\n        this._data[this._pos++] = a;\n        this._length = this._pos;\n        return this\n    }\n\n    putByteArray(a) {\n        this.putShort(a.length);\n        this.putBytes(a);\n        return this\n    }\n\n    putBytes(a) {\n        for (var b = 0; b < a.length; b++) this.putByte(a[b]);\n        return this\n    }\n\n    putShort(a) {\n        this.putByte(a >> 8 & 255);\n        this.putByte(a >> 0 & 255);\n        return this\n    }\n\n    putUnsignedShort(a) {\n        this.putByte(a >> 8);\n        this.putByte(a >> 0);\n        return this\n    }\n\n    putInt(a) {\n        this.putByte(a >> 24 & 255);\n        this.putByte(a >> 16 & 255);\n        this.putByte(a >> 8 & 255);\n        this.putByte(a >> 0 & 255);\n        return this\n    }\n\n    putLong(a) {\n        0 > a && console.log(\"Dev\");\n        for (var b = [], c = 0; 8 > c; c++) b[c] = a & 255, a = Math.floor(a / 256);\n        for (a = 7; 0 <= a; a--) this.putByte(b[a])\n    }\n\n    putDouble(a) {\n        this.putByte(a >> 24 & 255);\n        this.putByte(a >> 16 & 255);\n        this.putByte(a >> 8 & 255);\n        this.putByte(a >> 0 & 255);\n        this.putByte(a >> 24 & 255);\n        this.putByte(a >> 16 & 255);\n        this.putByte(a >> 8 & 255);\n        this.putByte(a >> 0 & 255);\n        return this\n    }\n    putString(a) {\n        this.putByteArray(this._stringConvertToByteArray(a));\n        return this\n    }\n\n    updateUnsignedShortAtPos(a, b) {\n        this._data[b] = a >> 8;\n        this._data[b + 1] = a >> 0\n    }\n\n    updateSize() {\n        this.updateUnsignedShortAtPos(this._length - 3, OutPacket.INDEX_SIZE_PACKET);\n    }\n\n    getData() {\n        return this._data.slice(0, this._length)\n    }\n\n    _stringConvertToByteArray(a) {\n        if (null == a) return null;\n        for (var b = new Uint8Array(a.length), c = 0; c < a.length; c++) b[c] = a.charCodeAt(c);\n        return b\n    }\n\n    clean() {\n\n    }\n}"]}
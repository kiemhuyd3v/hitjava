{"version":3,"sources":["assets\\Lobby\\LobbyScript\\Script\\common\\MultiLanguage.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,uEAAiE;AAG3D,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAC5C,IAAY,WAIX;AAJD,WAAY,WAAW;IACnB,+CAAK,CAAA;IACL,iDAAM,CAAA;IACN,qDAAQ,CAAA;AACZ,CAAC,EAJW,WAAW,GAAX,mBAAW,KAAX,mBAAW,QAItB;AAED;IAA2C,iCAAY;IAAvD;QAAA,qEAiHC;QA9GG,UAAI,GAAgB,WAAW,CAAC,KAAK,CAAC;QAItC,QAAE,GAAW,EAAE,CAAC;QAIhB,gBAAU,GAAY,KAAK,CAAC;QAE5B,cAAc;QACd,2FAA2F;QAC3F,KAAK;QACL,2BAA2B;QAI3B,gBAAU,GAAW,EAAE,CAAC;QAMxB,kBAAY,GAAgB,IAAI,CAAA;QAKhC,mBAAa,GAAa,EAAE,CAAC;QAM7B,kBAAY,GAAqB,EAAE,CAAC;QAMpC,YAAM,GAAc,IAAI,CAAC;QAQzB,iBAAW,GAAY,KAAK,CAAC;;QA6D7B,iBAAiB;IACrB,CAAC;IA5DG,wBAAwB;IAExB,8BAAM,GAAN;IACA,CAAC;IAED,6BAAK,GAAL;QAAA,iBAKC;QAJG,kCAAuB,CAAC,QAAQ,CAAC,WAAW,CAAC;YACzC,KAAI,CAAC,cAAc,EAAE,CAAC;QAC1B,CAAC,EAAE,IAAI,CAAC,CAAC;IAEb,CAAC;IACD,gCAAQ,GAAR;QACI,IAAI,CAAC,cAAc,EAAE,CAAC;IAC1B,CAAC;IACD,sCAAc,GAAd;QACI,IAAI,IAAI,CAAC,IAAI,IAAI,WAAW,CAAC,KAAK,EAAE;YAChC,IAAI,CAAC,UAAU,EAAE,CAAC;SACrB;aAAM,IAAI,IAAI,CAAC,IAAI,IAAI,WAAW,CAAC,MAAM,EAAE;YACxC,IAAI,CAAC,YAAY,EAAE,CAAC;SACvB;aAAM,IAAI,IAAI,CAAC,IAAI,IAAI,WAAW,CAAC,QAAQ,EAAE;YAC1C,IAAI,CAAC,cAAc,EAAE,CAAC;SACzB;IACL,CAAC;IACO,kCAAU,GAAlB;QACI,IAAI,GAAG,GAAG,kCAAuB,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;QAC9D,IAAI,GAAG,IAAI,IAAI,IAAI,GAAG,CAAC,IAAI,EAAE,CAAC,MAAM,IAAI,CAAC,EAAE;YACvC,OAAO;SACV;QACD,IAAI,IAAI,CAAC,WAAW,EAAE;YAClB,GAAG,GAAG,GAAG,CAAC,WAAW,EAAE,CAAC;SAC3B;QACD,IAAI,IAAI,CAAC,UAAU;YACf,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;QACpB,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,MAAM,GAAG,GAAG,CAAC;IAC7C,CAAC;IACD,oCAAY,GAAZ;QACI,IAAI,IAAI,CAAC,MAAM,IAAI,IAAI,EAAE;YACrB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC;SAC9C;QACD,QAAQ,kCAAuB,CAAC,QAAQ,CAAC,YAAY,EAAE;YACnD,KAAK,IAAI;gBACL,IAAI,CAAC,MAAM,CAAC,WAAW,GAAG,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;gBAC/C,MAAM;YACV,KAAK,IAAI;gBACL,IAAI,CAAC,MAAM,CAAC,WAAW,GAAG,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;gBAC/C,MAAM;SACb;IACL,CAAC;IACD,sCAAc,GAAd;QACI,QAAQ,kCAAuB,CAAC,QAAQ,CAAC,YAAY,EAAE;YACnD,KAAK,IAAI;gBACL,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,CAAC,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;gBAC/D,MAAM;YACV,KAAK,IAAI;gBACL,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,CAAC,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;gBAC/D,MAAM;SACb;IACL,CAAC;IA3GD;QADC,QAAQ,CAAC,EAAE,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC;+CACH;IAItC;QAHC,QAAQ,CAAC;YACN,OAAO,EAAE,cAAiC,OAAO,IAAI,CAAC,IAAI,IAAI,WAAW,CAAC,KAAK,CAAA,CAAC,CAAC;SACpF,CAAC;6CACc;IAIhB;QAHC,QAAQ,CAAC;YACN,OAAO,EAAE,cAAiC,OAAO,IAAI,CAAC,IAAI,IAAI,WAAW,CAAC,KAAK,CAAA,CAAC,CAAC;SACpF,CAAC;qDAC0B;IAS5B;QAHC,QAAQ,CAAC;YACN,OAAO,EAAE,cAAiC,OAAO,IAAI,CAAC,IAAI,IAAI,WAAW,CAAC,QAAQ,CAAA,CAAC,CAAC;SACvF,CAAC;qDACsB;IAMxB;QAJC,QAAQ,CAAC;YACN,OAAO,EAAE,cAAiC,OAAO,IAAI,CAAC,IAAI,IAAI,WAAW,CAAC,QAAQ,CAAA,CAAC,CAAC;YACpF,IAAI,EAAE,EAAE,CAAC,QAAQ;SACpB,CAAC;uDAC8B;IAKhC;QAJC,QAAQ,CAAC;YACN,OAAO,EAAE,cAAiC,OAAO,IAAI,CAAC,IAAI,IAAI,WAAW,CAAC,QAAQ,CAAA,CAAC,CAAC;YACpF,IAAI,EAAE,CAAC,EAAE,CAAC,MAAM,CAAC;SACpB,CAAC;wDAC2B;IAM7B;QAJC,QAAQ,CAAC;YACN,OAAO,EAAE,cAAiC,OAAO,IAAI,CAAC,IAAI,IAAI,WAAW,CAAC,MAAM,CAAA,CAAC,CAAC;YAClF,IAAI,EAAE,CAAC,EAAE,CAAC,WAAW,CAAC;SACzB,CAAC;uDACkC;IAMpC;QAJC,QAAQ,CAAC;YACN,OAAO,EAAE,cAAiC,OAAO,IAAI,CAAC,IAAI,IAAI,WAAW,CAAC,MAAM,CAAA,CAAC,CAAC;YAClF,IAAI,EAAE,EAAE,CAAC,MAAM;SAClB,CAAC;iDACuB;IAQzB;QANC,QAAQ,CAAC;YACN,OAAO,EAAE,cAAiC,OAAO,IAAI,CAAC,IAAI,IAAI,WAAW,CAAC,KAAK,CAAA,CAAC,CAAC;SACpF,CAAC;QACD,QAAQ,CAAC;YACN,OAAO,EAAE,cAAiC,OAAO,IAAI,CAAC,IAAI,IAAI,WAAW,CAAC,KAAK,CAAA,CAAC,CAAC;SACpF,CAAC;sDAC2B;IAnDZ,aAAa;QADjC,OAAO;OACa,aAAa,CAiHjC;IAAD,oBAAC;CAjHD,AAiHC,CAjH0C,EAAE,CAAC,SAAS,GAiHtD;kBAjHoB,aAAa","file":"","sourceRoot":"/","sourcesContent":["import LanguageLanguageManager from \"./Language.LanguageManager\";\n\n\nconst { ccclass, property } = cc._decorator;\nexport enum TYPE_OBJECT {\n    LABEL,\n    SPRITE,\n    SKELETON\n}\n@ccclass\nexport default class MultiLanguage extends cc.Component {\n\n    @property({ type: cc.Enum(TYPE_OBJECT) })\n    TYPE: TYPE_OBJECT = TYPE_OBJECT.LABEL;\n    @property({\n        visible: function (this: MultiLanguage) { return this.TYPE == TYPE_OBJECT.LABEL }\n    })\n    id: string = '';\n    @property({\n        visible: function (this: MultiLanguage) { return this.TYPE == TYPE_OBJECT.LABEL }\n    })\n    isAddColon: boolean = false;\n\n    // @property({\n    //     visible: function (this: MultiLanguage) { return this.TYPE == TYPE_OBJECT.SKELETON }\n    // })\n    // BundleName: string = '';\n    @property({\n        visible: function (this: MultiLanguage) { return this.TYPE == TYPE_OBJECT.SKELETON }\n    })\n    BundleName: string = '';\n\n    @property({\n        visible: function (this: MultiLanguage) { return this.TYPE == TYPE_OBJECT.SKELETON },\n        type: sp.Skeleton\n    })\n    skeletonNode: sp.Skeleton = null\n    @property({\n        visible: function (this: MultiLanguage) { return this.TYPE == TYPE_OBJECT.SKELETON },\n        type: [cc.String]\n    })\n    animationName: string[] = [];\n\n    @property({\n        visible: function (this: MultiLanguage) { return this.TYPE == TYPE_OBJECT.SPRITE },\n        type: [cc.SpriteFrame]\n    })\n    spriteFrames: cc.SpriteFrame[] = [];\n\n    @property({\n        visible: function (this: MultiLanguage) { return this.TYPE == TYPE_OBJECT.SPRITE },\n        type: cc.Sprite\n    })\n    sprite: cc.Sprite = null;\n\n    @property({\n        visible: function (this: MultiLanguage) { return this.TYPE == TYPE_OBJECT.LABEL },\n    })\n    @property({\n        visible: function (this: MultiLanguage) { return this.TYPE == TYPE_OBJECT.LABEL }\n    })\n    isUpperCase: boolean = false;\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad() {\n    }\n\n    start() {\n        LanguageLanguageManager.instance.addListener(() => {\n            this.updateLanguage();\n        }, this);\n\n    }\n    onEnable() {\n        this.updateLanguage();\n    }\n    updateLanguage() {\n        if (this.TYPE == TYPE_OBJECT.LABEL) {\n            this.updateText();\n        } else if (this.TYPE == TYPE_OBJECT.SPRITE) {\n            this.updateSprite();\n        } else if (this.TYPE == TYPE_OBJECT.SKELETON) {\n            this.updateSkeleton();\n        }\n    }\n    private updateText() {\n        let str = LanguageLanguageManager.instance.getString(this.id);\n        if (str != null && str.trim().length == 0) {\n            return;\n        }\n        if (this.isUpperCase) {\n            str = str.toUpperCase();\n        }\n        if (this.isAddColon)\n            str = str + \":\";\n        this.getComponent(cc.Label).string = str;\n    }\n    updateSprite() {\n        if (this.sprite == null) {\n            this.sprite = this.getComponent(cc.Sprite);\n        }\n        switch (LanguageLanguageManager.instance.languageCode) {\n            case \"vi\":\n                this.sprite.spriteFrame = this.spriteFrames[0];\n                break;\n            case \"en\":\n                this.sprite.spriteFrame = this.spriteFrames[1];\n                break;\n        }\n    }\n    updateSkeleton() {\n        switch (LanguageLanguageManager.instance.languageCode) {\n            case \"vi\":\n                this.skeletonNode.setAnimation(0, this.animationName[0], true);\n                break;\n            case \"en\":\n                this.skeletonNode.setAnimation(0, this.animationName[1], true);\n                break;\n        }\n    }\n\n    // update (dt) {}\n}\n"]}
{"version":3,"sources":["assets\\Lobby\\LobbyScript\\Script\\common\\SPUtils.ts"],"names":[],"mappings":";;;;;;AAAA,IAAU,MAAM,CAuIf;AAvID,WAAU,MAAM;IACZ;QAAA;QAqIA,CAAC;QApIkB,cAAM,GAArB,UAAsB,CAAS,EAAE,CAAS;YACtC,IAAI,GAAG,GAAG,EAAE,CAAC;YACb,IAAI,GAAG,GAAG,EAAE,CAAC;YACb,iCAAiC;YACjC,GAAG,GAAG,CAAC,CAAC,QAAQ,EAAE,CAAC;YACnB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBAC/B,eAAe;gBACf,IAAI,CAAC,GAAG,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;gBACxB,cAAc;gBACd,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;gBACd,GAAG,GAAG,GAAG,GAAG,MAAM,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;aACtC;YACD,OAAO,GAAG,CAAC;QACf,CAAC;QAEM,WAAG,GAAV,UAAW,GAAW,EAAE,YAAyB;YAAzB,6BAAA,EAAA,iBAAyB;YAC7C,IAAI,YAAY,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC,QAAQ,EAAE,CAAC;YACxD,IAAI,OAAO,YAAY,KAAK,WAAW;gBAAE,YAAY,IAAI,IAAI,CAAC;YAC9D,IAAI,CAAC,GAAG,EAAE,CAAC,GAAG,CAAC,YAAY,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC;YAClD,IAAG,EAAE,CAAC,GAAG,CAAC,SAAS,EAAC;gBAChB,CAAC,GAAG,MAAM,CAAC,YAAY,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC;aACjD;YACD,IAAI,CAAC,EAAE;gBACH,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC,QAAQ,EAAE,CAAC;gBACvC,OAAO,CAAC,CAAC;aACZ;YACD,OAAO,YAAY,CAAC;QACxB,CAAC;QAEM,WAAG,GAAV,UAAW,GAAW,EAAE,KAAa;YACjC,KAAK,GAAG,KAAK,CAAC,QAAQ,EAAE,CAAC;YACzB,IAAI,YAAY,GAAG,EAAE,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC;YAClD,IAAI,cAAc,GAAG,EAAE,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;YACtD,IAAG,EAAE,CAAC,GAAG,CAAC,SAAS,EAAC;gBAChB,MAAM,CAAC,YAAY,CAAC,OAAO,CAAC,YAAY,EAAE,cAAc,CAAC,CAAC;aAC7D;iBACG;gBACA,EAAE,CAAC,GAAG,CAAC,YAAY,CAAC,OAAO,CAAC,YAAY,EAAE,cAAc,CAAC,CAAC;aAC7D;QACL,CAAC;QAEM,wBAAgB,GAAvB,UAAwB,KAAa;YACjC,IAAI,CAAC,GAAG,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;QAC7B,CAAC;QAEM,wBAAgB,GAAvB;YACI,OAAO,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;QAC7B,CAAC;QAIA,uBAAe,GAAtB,UAAuB,OAAO;YACpB,IAAI,EAAE,CAAC,GAAG,CAAC,QAAQ,EAAE;gBACjB,IAAI,GAAG,EAAE;oBACL,GAAG,CAAC,mBAAmB,CAAC,OAAO,CAAC,CAAC;oBACjC,OAAO,IAAI,CAAC;iBACf;qBAAM;oBACH,OAAO,KAAK,CAAC;iBAChB;aACJ;iBAAM;gBACH,IAAI,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;gBAC5C,KAAK,CAAC,KAAK,GAAG,OAAO,CAAC;gBACtB,KAAK,CAAC,EAAE,GAAG,SAAS,CAAC;gBACrB,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;gBACjC,KAAK,CAAC,MAAM,EAAE,CAAC;gBACf,QAAQ,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;gBAC7B,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;gBACjC,OAAO,IAAI,CAAC;aACf;QACL,CAAC;QAAA,CAAC;QAQK,sBAAc,GAArB,UAAsB,KAAa;YAC/B,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;QAC1B,CAAC;QAEM,mBAAW,GAAlB,UAAmB,KAAa;YAC5B,IAAI,CAAC,GAAG,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC;QAChC,CAAC;QAEM,aAAK,GAAZ,UAAa,KAAa;YACtB,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;QACzB,CAAC;QAEM,aAAK,GAAZ;YACI,OAAO,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACzB,CAAC;QAEM,mBAAW,GAAlB;YACI,OAAO,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;QAChC,CAAC;QAEM,sBAAc,GAArB;YACI,OAAO,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QAC1B,CAAC;QAEM,mBAAW,GAAlB,UAAmB,KAAa;YAC5B,IAAI,CAAC,GAAG,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC;QAChC,CAAC;QAEM,mBAAW,GAAlB;YACI,OAAO,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;QAChC,CAAC;QAEM,4BAAoB,GAA3B,UAA4B,KAAa;YACrC,IAAI,CAAC,GAAG,CAAC,eAAe,EAAE,KAAK,CAAC,CAAC;QACrC,CAAC;QAEM,4BAAoB,GAA3B;YACI,OAAO,IAAI,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;QACrC,CAAC;QAEM,sBAAc,GAArB;YACI,OAAO,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,cAAc,EAAE,GAAG,CAAC,CAAC,CAAC;QACjD,CAAC;QAEM,sBAAc,GAArB,UAAsB,MAAc;YAChC,IAAI,CAAC,GAAG,CAAC,cAAc,EAAE,MAAM,CAAC,QAAQ,EAAE,CAAC,CAAC;QAChD,CAAC;QAEM,sBAAc,GAArB;YACI,OAAO,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,cAAc,EAAE,GAAG,CAAC,CAAC,CAAC;QACjD,CAAC;QAEM,sBAAc,GAArB,UAAsB,MAAc;YAChC,IAAI,CAAC,GAAG,CAAC,cAAc,EAAE,MAAM,CAAC,QAAQ,EAAE,CAAC,CAAC;QAChD,CAAC;QACL,cAAC;IAAD,CArIA,AAqIC,IAAA;IArIY,cAAO,UAqInB,CAAA;AACL,CAAC,EAvIS,MAAM,KAAN,MAAM,QAuIf;AACD,kBAAe,MAAM,CAAC,OAAO,CAAC","file":"","sourceRoot":"/","sourcesContent":["namespace common {\n    export class SPUtils {\n        private static encode(s: string, k: number): string {\n            var enc = \"\";\n            var str = \"\";\n            // make sure that input is string\n            str = s.toString();\n            for (var i = 0; i < s.length; i++) {\n                // create block\n                var a = s.charCodeAt(i);\n                // bitwise XOR\n                var b = a ^ k;\n                enc = enc + String.fromCharCode(b);\n            }\n            return enc;\n        }\n\n        static get(key: string, defaultValue: string = \"\"): string {\n            var keyEncrypted = this.encode(key, 3265812).toString();\n            if (typeof defaultValue === \"undefined\") defaultValue || null;\n            var r = cc.sys.localStorage.getItem(keyEncrypted);\n            if(cc.sys.isBrowser){\n                r = window.localStorage.getItem(keyEncrypted);\n            }\n            if (r) {\n                r = this.encode(r, 3265812).toString();\n                return r;\n            }\n            return defaultValue;\n        }\n\n        static set(key: string, value: string) {\n            value = value.toString();\n            var keyEncrypted = \"\" + this.encode(key, 3265812);\n            var valueEncrypted = \"\" + this.encode(value, 3265812);\n            if(cc.sys.isBrowser){\n                window.localStorage.setItem(keyEncrypted, valueEncrypted);\n            }\n            else{\n                cc.sys.localStorage.setItem(keyEncrypted, valueEncrypted);\n            }\n        }\n\n        static setAccessTokenFB(value: string) {\n            this.set(\"at_fb\", value);\n        }\n\n        static getAccessTokenFB(): string {\n            return this.get(\"at_fb\");\n        }\n\t\t\n\t\t\n\t\t\n\t\tstatic copyToClipboard(content) {\n            if (cc.sys.isNative) {\n                if (jsb) {\n                    jsb.copyTextToClipboard(content);\n                    return true;\n                } else {\n                    return false;\n                }\n            } else {\n                var input = document.createElement('input');\n                input.value = content;\n                input.id = 'inputID';\n                document.body.appendChild(input);\n                input.select();\n                document.execCommand('copy');\n                document.body.removeChild(input);\n                return true;\n            }\n        };\n\t\t\n\t\t\n\t\t\n\t\t\n\t\t\n\t\t\n\n        static setAccessToken(value: string) {\n            this.set(\"at\", value);\n        }\n\n        static setUserName(value: string) {\n            this.set(\"username\", value);\n        }\n\n        static setNN(value: string) {\n            this.set(\"u\", value);\n        }\n\n        static getNN(): string {\n            return this.get(\"u\");\n        }\n\n        static getUserName(): string {\n            return this.get(\"username\");\n        }\n\n        static getAccessToken(): string {\n            return this.get(\"at\");\n        }\n\n        static setUserPass(value: string) {\n            this.set(\"userpass\", value);\n        }\n\n        static getUserPass(): string {\n            return this.get(\"userpass\");\n        }\n\n        static setUserAccessTokenFB(value: string) {\n            this.set(\"fbAccessToken\", value);\n        }\n\n        static getUserAccessTokenFB(): string {\n            return this.get(\"fbAccessToken\");\n        }\n\n        static getMusicVolumn(): number {\n            return Number(this.get(\"music_volumn\", \"1\"));\n        }\n\n        static setMusicVolumn(volumn: number) {\n            this.set(\"music_volumn\", volumn.toString());\n        }\n\n        static getSoundVolumn(): number {\n            return Number(this.get(\"sound_volumn\", \"1\"));\n        }\n\n        static setSoundVolumn(volumn: number) {\n            this.set(\"sound_volumn\", volumn.toString());\n        }\n    }\n}\nexport default common.SPUtils;"]}
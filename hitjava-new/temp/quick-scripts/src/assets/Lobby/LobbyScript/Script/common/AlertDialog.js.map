{"version":3,"sources":["assets\\Lobby\\LobbyScript\\Script\\common\\AlertDialog.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import Dialog from \"./Dialog\";\nconst { ccclass, property } = cc._decorator;\n\nclass AlertDialogQueueItem {\n    msg: string;\n    doneTitle: string;\n    onDismissed: () => void;\n\n    constructor(msg: string, doneTitle: string, onDismissed: () => void) {\n        this.msg = msg;\n        this.doneTitle = doneTitle;\n        this.onDismissed = onDismissed;\n    }\n}\n\n@ccclass\nexport default class AlertDialog extends Dialog {\n\n    @property(cc.Label)\n    lblMessage: cc.Label = null;\n    @property(cc.Button)\n    btnClose: cc.Button = null;\n    @property(cc.Label)\n    lblDone: cc.Label = null;\n\n    onDismissed: any = null;\n\n    queue: Array<AlertDialogQueueItem> = new Array<AlertDialogQueueItem>();\n\n    showMsg(msg: string) {\n        this.show4(msg, null, null, false);\n    }\n\n    showMsgWithOnDismissed(msg: string, onDismissed: () => void, canClose = true) {\n        this.show4(msg, null, onDismissed);\n        this.btnClose.node.active = canClose;\n    }\n\n    show3(msg: string, onDismissed: () => void, addQueue: boolean = false) {\n        this.show4(msg, null, onDismissed, addQueue);\n    }\n\n    show4(msg: string, doneTitle: string, onDismissed: () => void, addQueue: boolean = false, forceAddQueue: boolean = true): void {\n        if (addQueue) {\n            this.queue.push(new AlertDialogQueueItem(msg, doneTitle, onDismissed));\n            if (this.queue.length == 1) {\n                this.lblDone.string = !doneTitle ? \"XÁC NHẬN\" : doneTitle;\n                this.onDismissed = onDismissed;\n                this.lblMessage.string = msg;\n                super.show();\n            }\n        } else {\n            if (this.queue.length > 0 && forceAddQueue) {\n                this.queue.push(new AlertDialogQueueItem(msg, doneTitle, onDismissed));\n            } else {\n                this.lblDone.string = !doneTitle ? \"XÁC NHẬN\" : doneTitle;\n                this.onDismissed = onDismissed;\n                this.lblMessage.string = msg;\n                super.show()\n            }\n        }\n    }\n\n    _onShowed() {\n        super._onShowed();\n    }\n\n    _onDismissed() {\n        super._onDismissed();\n        if (typeof this.onDismissed === \"function\") this.onDismissed();\n        if (this.queue.length > 0) {\n            this.queue.splice(0, 1);\n            if (this.queue.length > 0) {\n                this.show4(this.queue[0].msg, this.queue[0].doneTitle, this.queue[0].onDismissed, false, false);\n            }\n        }\n    }\n\n    dismiss() {\n        if (!this.isAnimated) return;\n        super.dismiss();\n    }\n}\n"]}
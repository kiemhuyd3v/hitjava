{"version":3,"sources":["assets\\Lobby\\LobbyScript\\Script\\common\\UINotifyJackpot.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["\nimport App from \"./App\";\nimport Utils from \"./Utils\";\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class NewClass extends cc.Component {\n    @property(cc.Node)\n    nodeBox: cc.Node = null;\n    @property(cc.Label)\n    labelUser: cc.Label = null;\n    @property(cc.Label)\n    labelGame: cc.Label = null;\n    @property(cc.Label)\n    labelGold: cc.Label = null;\n    @property(cc.Label)\n    labelTypeWin: cc.Label = null;\n    @property(cc.Label)\n    lbNotify: cc.Label = null;\n    @property(cc.Node)\n    nodeJackpot: cc.Node = null;\n    @property(cc.Node)\n    nodeNotify: cc.Node = null;\n    private listContent = [];\n    private index = 0;\n\n    onLoad() {\n    }\n\n    ctor() {\n        var self = this;\n        self.listContent = [];\n        this.index = 0;\n    }\n\n    test() {\n\n        var data = {};\n        data[\"username\"] = \"user\" + this.index;\n        data[\"totalPrizes\"] = 100000 + this.index;\n        data[\"type\"] = 0;\n        data[\"gameName\"] = \"Chim Điên\"\n        //Utils.Log(\"data:\" + JSON.stringify(data));\n        this.addJackpot(data);\n        this.index++;\n    }\n\n    addJackpot(data) {\n\n        if (this.listContent == null) {\n            return;\n        }\n        //Utils.Log(\"addJackpot:\" + JSON.stringify(data));\n        this.listContent.push(data);\n        if (this.listContent.length == 1) {\n            //run now\n            this.show(data);\n        }\n        else {\n            // running, add list\n            this.listContent.push(data);\n        }\n    }\n    addNotify(data) {\n        if (this.listContent == null) {\n            return;\n        }\n        //  cc.log(\"addNotify:\" + JSON.stringify(data));\n        this.listContent.push(data);\n        if (this.listContent.length == 1) {\n            //run now\n            this.showNoti(data);\n        }\n        else {\n            // running, add list\n            this.listContent.push(data);\n        }\n    }\n\n    show(data) {\n        this.nodeJackpot.active = true;\n        this.nodeNotify.active = false;\n        if (data == null || data.totalPrizes === undefined) {\n            this.hide();\n            return;\n        }\n        if (App.instance.isShowNotifyJackpot == false) {\n            this.node.active = false;\n            return;\n        }\n        this.labelUser.string = data.username;\n        this.labelGold.string = Utils.formatNumber(data.totalPrizes);\n        this.labelGame.string = data.gameName;\n        this.labelTypeWin.string = data.type;\n        cc.Tween.stopAllByTarget(this.node);\n        this.node.active = true;\n        cc.tween(this.node).delay(5.0).set({ x: cc.winSize.width / 2 + 500 }).to(0.6, { x: cc.winSize.width / 2 - 170 }, { easing: cc.easing.backOut }).delay(4.0)\n            .call(() => {\n                this.hide();\n            }).start();\n    }\n    showNoti(data) {\n        this.nodeJackpot.active = false;\n        this.nodeNotify.active = true;\n        this.lbNotify.string = data['message'];\n        cc.Tween.stopAllByTarget(this.node);\n        this.node.active = true;\n        cc.tween(this.node).delay(5.0).set({ x: cc.winSize.width / 2 + 500 }).to(0.6, { x: cc.winSize.width / 2 - 170 }, { easing: cc.easing.backOut }).delay(4.0)\n            .call(() => {\n                this.hide();\n            }).start();\n    }\n    hide() {\n        cc.Tween.stopAllByTarget(this.node);\n        cc.tween(this.node).to(0.3, { x: cc.winSize.width / 2 + 200 }, { easing: cc.easing.backIn }).call(() => {\n            this.node.active = false;\n            this.listContent.splice(0, 1);\n            if (this.listContent.length >= 1) {\n                var data = this.listContent[0];\n                if (data.hasOwnProperty(\"message\")) {\n                    this.showNoti(data)\n                } else {\n                    this.show(data);\n                }\n            }\n        }).start();\n\n    }\n}\n"]}
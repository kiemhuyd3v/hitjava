{"version":3,"sources":["assets\\TaiXiuMD5\\TaiXiuScript\\src\\TaiXiuMD5.Controller.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import MiniGame from \"../../../Lobby/LobbyScript/MiniGame\";\nimport TaiXiuMiniController from \"../TaiXiu1/TaiXiuMD5.TaiXiuMiniController\";\nimport TX2NetworkClient from \"../../../Lobby/LobbyScript/Script/networks/TX2NetworkClient\";\nimport App from \"../../../Lobby/LobbyScript/Script/common/App\";\nimport BroadcastReceiver from \"../../../Lobby/LobbyScript/Script/common/BroadcastReceiver\";\nimport MiniGameNetworkClient from \"../../../Lobby/LobbyScript/Script/networks/MiniGameNetworkClient\";\nimport VersionConfig from \"../../../Loading/src/VersionConfig\";\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class TaiXiuMD5Controller extends MiniGame {\n\n    static instance: TaiXiuMD5Controller = null;\n\n\n    @property(cc.Node)\n    taiXiu1Node: cc.Node = null;\n\n    @property(cc.Node)\n    btnSwitch: cc.Node = null;\n\n    taiXiu1: TaiXiuMiniController = null;\n\n    private isShowTX1 = true;\n\n    public onLoad() {\n        super.onLoad();\n        this.taiXiu1 = this.taiXiu1Node.getComponent(TaiXiuMiniController);\n        TaiXiuMD5Controller.instance = this;\n\n        switch (VersionConfig.CPName) {\n            case VersionConfig.CP_NAME_F69:\n                this.btnSwitch.active = false;\n                break;\n            default:\n              // this.btnSwitch.active = true;\n              //  this.taiXiu2.node.active = true;\n                break;\n        }\n    }\n\n    public start() {\n        BroadcastReceiver.register(BroadcastReceiver.USER_LOGOUT, () => {\n            if (!this.node.active) return;\n            this.dismiss();\n        }, this);\n\n        MiniGameNetworkClient.getInstance().addOnClose(() => {\n            if (!this.node.active) return;\n            this.dismiss();\n        }, this);\n\n        TX2NetworkClient.getInstance().addOnClose(() => {\n            if (!this.node.active) return;\n            this.dismiss();\n        }, this);\n    }\n\n    public show() {\n        super.show();\n\n        this.isShowTX1 = true;\n\n        switch (VersionConfig.CPName) {\n            case VersionConfig.CP_NAME_F69:\n                //nothing\n                break;\n            default:\n                TX2NetworkClient.getInstance().checkConnect(() => {\n                    //this.taiXiu2.show();\n                  //  this.checkShow();\n                });\n                break;\n        }\n\n        MiniGameNetworkClient.getInstance().checkConnect(() => {\n            this.taiXiu1.show();\n            this.checkShow();\n        });\n        App.instance.buttonMiniGame.showTimeTaiXiu(false);\n        this.checkShow();\n    }\n\n    public dismiss() {\n        super.dismiss();\n        App.instance.buttonMiniGame.showTimeTaiXiu(true);\n        this.taiXiu1.dismiss();\n\n        switch (VersionConfig.CPName) {\n            case VersionConfig.CP_NAME_F69:\n                //nothing\n                break;\n            default:\n                //this.taiXiu2.dismiss();\n                break;\n        }\n    }\n\n    private checkShow() {\n        if (this.isShowTX1) {\n            this.taiXiu1.gamePlay.scale = 1;\n            this.taiXiu1.gamePlay.position = cc.Vec2.ZERO;\n            this.taiXiu1.nodePanelChat.active = true;\n            this.taiXiu1.node.setSiblingIndex(1);\n\n           // this.taiXiu2.gamePlay.scale = 0.5;\n           // this.taiXiu2.gamePlay.position = cc.v2(-405, 234);\n          //  this.taiXiu2.nodePanelChat.active = false;\n           // this.taiXiu2.layoutBet.active = false;\n        } else {\n        //    this.taiXiu2.gamePlay.scale = 1;\n       //     this.taiXiu2.gamePlay.position = cc.Vec2.ZERO;\n        //    this.taiXiu2.nodePanelChat.active = true;\n        //    this.taiXiu2.node.setSiblingIndex(1);\n\n            this.taiXiu1.gamePlay.scale = 0.5;\n            this.taiXiu1.gamePlay.position = cc.v2(-405, 234);\n            this.taiXiu1.nodePanelChat.active = false;\n            this.taiXiu1.layoutBet.active = false;\n        }\n    }\n\n    public actSwitch() {\n        this.isShowTX1 = !this.isShowTX1;\n        this.checkShow();\n    }\n}\n"]}

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Loading/src/stomp2.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'dc284LmQ99EBYMZCJ8cEd0t', 'stomp2');
// Loading/src/stomp2.js

"use strict";

// Generated by CoffeeScript 1.7.1

/*
   Stomp Over WebSocket http://www.jmesnil.net/stomp-websocket/doc/ | Apache License V2.0

   Copyright (C) 2010-2013 [Jeff Mesnil](http://jmesnil.net/)
   Copyright (C) 2012 [FuseSource, Inc.](http://fusesource.com)
 */
(function () {
  var Byte,
      Client,
      Frame,
      Stomp,
      __hasProp = {}.hasOwnProperty,
      __slice = [].slice;
  Byte = {
    LF: '\x0A',
    NULL: '\x00'
  };

  Frame = function () {
    var unmarshallSingle;

    function Frame(command, headers, body) {
      this.command = command;
      this.headers = headers != null ? headers : {};
      this.body = body != null ? body : '';
    }

    Frame.prototype.toString = function () {
      var lines, name, skipContentLength, value, _ref;

      lines = [this.command];
      skipContentLength = this.headers['content-length'] === false ? true : false;

      if (skipContentLength) {
        delete this.headers['content-length'];
      }

      _ref = this.headers;

      for (name in _ref) {
        if (!__hasProp.call(_ref, name)) continue;
        value = _ref[name];
        lines.push("" + name + ":" + value);
      }

      if (this.body && !skipContentLength) {
        lines.push("content-length:" + Frame.sizeOfUTF8(this.body));
      }

      lines.push(Byte.LF + this.body);
      return lines.join(Byte.LF);
    };

    Frame.sizeOfUTF8 = function (s) {
      if (s) {
        return encodeURI(s).match(/%..|./g).length;
      } else {
        return 0;
      }
    };

    unmarshallSingle = function unmarshallSingle(data) {
      var body, chr, command, divider, headerLines, headers, i, idx, len, line, start, trim, _i, _j, _len, _ref, _ref1;

      divider = data.search(RegExp("" + Byte.LF + Byte.LF));
      headerLines = data.substring(0, divider).split(Byte.LF);
      command = headerLines.shift();
      headers = {};

      trim = function trim(str) {
        return str.replace(/^\s+|\s+$/g, '');
      };

      _ref = headerLines.reverse();

      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
        line = _ref[_i];
        idx = line.indexOf(':');
        headers[trim(line.substring(0, idx))] = trim(line.substring(idx + 1));
      }

      body = '';
      start = divider + 2;

      if (headers['content-length']) {
        len = parseInt(headers['content-length']);
        body = ('' + data).substring(start, start + len);
      } else {
        chr = null;

        for (i = _j = start, _ref1 = data.length; start <= _ref1 ? _j < _ref1 : _j > _ref1; i = start <= _ref1 ? ++_j : --_j) {
          chr = data.charAt(i);

          if (chr === Byte.NULL) {
            break;
          }

          body += chr;
        }
      }

      return new Frame(command, headers, body);
    };

    Frame.unmarshall = function (datas) {
      var frame, frames, last_frame, r;
      frames = datas.split(RegExp("" + Byte.NULL + Byte.LF + "*"));
      r = {
        frames: [],
        partial: ''
      };

      r.frames = function () {
        var _i, _len, _ref, _results;

        _ref = frames.slice(0, -1);
        _results = [];

        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          frame = _ref[_i];

          _results.push(unmarshallSingle(frame));
        }

        return _results;
      }();

      last_frame = frames.slice(-1)[0];

      if (last_frame === Byte.LF || last_frame.search(RegExp("" + Byte.NULL + Byte.LF + "*$")) !== -1) {
        r.frames.push(unmarshallSingle(last_frame));
      } else {
        r.partial = last_frame;
      }

      return r;
    };

    Frame.marshall = function (command, headers, body) {
      var frame;
      frame = new Frame(command, headers, body);
      return frame.toString() + Byte.NULL;
    };

    return Frame;
  }();

  Client = function () {
    var now;

    function Client(ws) {
      this.ws = ws;
      this.ws.binaryType = "arraybuffer";
      this.counter = 0;
      this.connected = false;
      this.heartbeat = {
        outgoing: 10000,
        incoming: 10000
      };
      this.maxWebSocketFrameSize = 16 * 1024;
      this.subscriptions = {};
      this.partialData = '';
    }

    Client.prototype.debug = function (message) {
      var _ref; // return typeof window !== "undefined" && window !== null ? (_ref = window.console) != null ? _ref.log(message) : void 0 : void 0;

    };

    now = function now() {
      if (Date.now) {
        return Date.now();
      } else {
        return new Date().valueOf;
      }
    };

    Client.prototype._transmit = function (command, headers, body) {
      var out;
      out = Frame.marshall(command, headers, body);

      if (typeof this.debug === "function") {
        this.debug(">>> " + out);
      }

      while (true) {
        if (out.length > this.maxWebSocketFrameSize) {
          this.ws.send(out.substring(0, this.maxWebSocketFrameSize));
          out = out.substring(this.maxWebSocketFrameSize);

          if (typeof this.debug === "function") {
            this.debug("remaining = " + out.length);
          }
        } else {
          return this.ws.send(out);
        }
      }
    };

    Client.prototype._setupHeartbeat = function (headers) {
      var serverIncoming, serverOutgoing, ttl, v, _ref, _ref1;

      if ((_ref = headers.version) !== Stomp.VERSIONS.V1_1 && _ref !== Stomp.VERSIONS.V1_2) {
        return;
      }

      _ref1 = function () {
        var _i, _len, _ref1, _results;

        _ref1 = headers['heart-beat'].split(",");
        _results = [];

        for (_i = 0, _len = _ref1.length; _i < _len; _i++) {
          v = _ref1[_i];

          _results.push(parseInt(v));
        }

        return _results;
      }(), serverOutgoing = _ref1[0], serverIncoming = _ref1[1];

      if (!(this.heartbeat.outgoing === 0 || serverIncoming === 0)) {
        ttl = Math.max(this.heartbeat.outgoing, serverIncoming);

        if (typeof this.debug === "function") {
          this.debug("send PING every " + ttl + "ms");
        }

        this.pinger = Stomp.setInterval(ttl, function (_this) {
          return function () {
            _this.ws.send(Byte.LF);

            return typeof _this.debug === "function" ? _this.debug(">>> PING") : void 0;
          };
        }(this));
      }

      if (!(this.heartbeat.incoming === 0 || serverOutgoing === 0)) {
        ttl = Math.max(this.heartbeat.incoming, serverOutgoing);

        if (typeof this.debug === "function") {
          this.debug("check PONG every " + ttl + "ms");
        }

        return this.ponger = Stomp.setInterval(ttl, function (_this) {
          return function () {
            var delta;
            delta = now() - _this.serverActivity;

            if (delta > ttl * 2) {
              if (typeof _this.debug === "function") {
                _this.debug("did not receive server activity for the last " + delta + "ms");
              }

              return _this.ws.close();
            }
          };
        }(this));
      }
    };

    Client.prototype._parseConnect = function () {
      var args, connectCallback, errorCallback, headers;
      args = 1 <= arguments.length ? __slice.call(arguments, 0) : [];
      headers = {};

      switch (args.length) {
        case 2:
          headers = args[0], connectCallback = args[1];
          break;

        case 3:
          if (args[1] instanceof Function) {
            headers = args[0], connectCallback = args[1], errorCallback = args[2];
          } else {
            headers.login = args[0], headers.passcode = args[1], connectCallback = args[2];
          }

          break;

        case 4:
          headers.login = args[0], headers.passcode = args[1], connectCallback = args[2], errorCallback = args[3];
          break;

        default:
          headers.login = args[0], headers.passcode = args[1], connectCallback = args[2], errorCallback = args[3], headers.host = args[4];
      }

      return [headers, connectCallback, errorCallback];
    };

    Client.prototype.connect = function () {
      var args, errorCallback, headers, out;
      args = 1 <= arguments.length ? __slice.call(arguments, 0) : [];
      out = this._parseConnect.apply(this, args);
      headers = out[0], this.connectCallback = out[1], errorCallback = out[2];

      if (typeof this.debug === "function") {
        this.debug("Opening Web Socket...");
      }

      this.ws.onmessage = function (_this) {
        return function (evt) {
          // _this.debug("ws.onmessage");
          var arr, c, client, data, frame, messageID, onreceive, subscription, unmarshalledData, _i, _len, _ref, _results;

          data = typeof ArrayBuffer !== 'undefined' && evt.data instanceof ArrayBuffer ? (arr = new Uint8Array(evt.data), typeof _this.debug === "function" ? _this.debug("--- got data length: " + arr.length) : void 0, function () {
            var _i, _len, _results;

            _results = [];

            for (_i = 0, _len = arr.length; _i < _len; _i++) {
              c = arr[_i];

              _results.push(String.fromCharCode(c));
            }

            return _results;
          }().join('')) : evt.data;
          _this.serverActivity = now();

          if (data === Byte.LF) {
            if (typeof _this.debug === "function") {
              _this.debug("<<< PONG");
            }

            return;
          }

          if (typeof _this.debug === "function") {// _this.debug("<<< " + data);
          }

          unmarshalledData = Frame.unmarshall(_this.partialData + data);
          _this.partialData = unmarshalledData.partial;
          _ref = unmarshalledData.frames;
          _results = [];

          for (_i = 0, _len = _ref.length; _i < _len; _i++) {
            frame = _ref[_i];

            switch (frame.command) {
              case "CONNECTED":
                if (typeof _this.debug === "function") {
                  _this.debug("connected to server " + frame.headers.server);
                }

                _this.connected = true;

                _this._setupHeartbeat(frame.headers);

                _results.push(typeof _this.connectCallback === "function" ? _this.connectCallback(frame) : void 0);

                break;

              case "MESSAGE":
                subscription = frame.headers.subscription;
                onreceive = _this.subscriptions[subscription] || _this.onreceive;

                if (onreceive) {
                  client = _this;
                  messageID = frame.headers["message-id"];

                  frame.ack = function (headers) {
                    if (headers == null) {
                      headers = {};
                    }

                    return client.ack(messageID, subscription, headers);
                  };

                  frame.nack = function (headers) {
                    if (headers == null) {
                      headers = {};
                    }

                    return client.nack(messageID, subscription, headers);
                  };

                  _results.push(onreceive(frame));
                } else {
                  _results.push(typeof _this.debug === "function" ? _this.debug("Unhandled received MESSAGE: " + frame) : void 0);
                }

                break;

              case "RECEIPT":
                _results.push(typeof _this.onreceipt === "function" ? _this.onreceipt(frame) : void 0);

                break;

              case "ERROR":
                _results.push(typeof errorCallback === "function" ? errorCallback(frame) : void 0);

                break;

              default:
                _results.push(typeof _this.debug === "function" ? _this.debug("Unhandled frame: " + frame) : void 0);

            }
          }

          return _results;
        };
      }(this);

      this.ws.onclose = function (_this) {
        return function () {
          var msg;
          msg = "Whoops! Lost connection to " + _this.ws.url;

          if (typeof _this.debug === "function") {
            _this.debug(msg);
          }

          _this._cleanUp();

          _this.ws.onCustomMessage("ONCLOSE");

          return typeof errorCallback === "function" ? errorCallback(msg) : void 0;
        };
      }(this);

      return this.ws.onopen = function (_this) {
        return function () {
          if (typeof _this.debug === "function") {
            _this.debug('Web Socket Opened...');
          }

          headers["accept-version"] = Stomp.VERSIONS.supportedVersions();
          headers["heart-beat"] = [_this.heartbeat.outgoing, _this.heartbeat.incoming].join(',');
          return _this._transmit("CONNECT", headers);
        };
      }(this);
    };

    Client.prototype.disconnect = function (disconnectCallback, headers) {
      _this.debug("ws.disconnect!!");

      if (headers == null) {
        headers = {};
      }

      this._transmit("DISCONNECT", headers);

      this.ws.onclose = null;
      this.ws.close();

      this._cleanUp();

      return typeof disconnectCallback === "function" ? disconnectCallback() : void 0;
    };

    Client.prototype._cleanUp = function () {
      this.connected = false;

      if (this.pinger) {
        Stomp.clearInterval(this.pinger);
      }

      if (this.ponger) {
        return Stomp.clearInterval(this.ponger);
      }
    };

    Client.prototype.send = function (destination, headers, body) {
      if (headers == null) {
        headers = {};
      }

      if (body == null) {
        body = '';
      }

      headers.destination = destination;
      return this._transmit("SEND", headers, body);
    };

    Client.prototype.subscribe = function (destination, callback, headers) {
      var client;

      if (headers == null) {
        headers = {};
      }

      if (!headers.id) {
        headers.id = "sub-" + this.counter++;
      }

      headers.destination = destination;
      this.subscriptions[headers.id] = callback;

      this._transmit("SUBSCRIBE", headers);

      this.ws.onCustomMessage("SUBSCRIBE", headers);
      client = this;
      return {
        id: headers.id,
        unsubscribe: function unsubscribe() {
          return client.unsubscribe(headers.id);
        }
      };
    };

    Client.prototype.unsubscribe = function (id) {
      delete this.subscriptions[id];
      this.ws.onCustomMessage("UNSUBSCRIBE", {
        id: id
      });
      return this._transmit("UNSUBSCRIBE", {
        id: id
      });
    };

    Client.prototype.begin = function (transaction) {
      var client, txid;
      txid = transaction || "tx-" + this.counter++;

      this._transmit("BEGIN", {
        transaction: txid
      });

      client = this;
      return {
        id: txid,
        commit: function commit() {
          return client.commit(txid);
        },
        abort: function abort() {
          return client.abort(txid);
        }
      };
    };

    Client.prototype.commit = function (transaction) {
      return this._transmit("COMMIT", {
        transaction: transaction
      });
    };

    Client.prototype.abort = function (transaction) {
      return this._transmit("ABORT", {
        transaction: transaction
      });
    };

    Client.prototype.ack = function (messageID, subscription, headers) {
      if (headers == null) {
        headers = {};
      }

      headers["message-id"] = messageID;
      headers.subscription = subscription;
      return this._transmit("ACK", headers);
    };

    Client.prototype.nack = function (messageID, subscription, headers) {
      if (headers == null) {
        headers = {};
      }

      headers["message-id"] = messageID;
      headers.subscription = subscription;
      return this._transmit("NACK", headers);
    };

    return Client;
  }();

  Stomp = {
    VERSIONS: {
      V1_0: '1.0',
      V1_1: '1.1',
      V1_2: '1.2',
      supportedVersions: function supportedVersions() {
        return '1.1,1.0';
      }
    },
    client: function client(url, protocols) {
      var klass, ws;

      if (protocols == null) {
        protocols = ['v10.stomp', 'v11.stomp'];
      }

      klass = Stomp.WebSocketClass || WebSocket;
      ws = new klass(url, protocols);
      return new Client(ws);
    },
    over: function over(ws) {
      return new Client(ws);
    },
    Frame: Frame
  };

  if (typeof exports !== "undefined" && exports !== null) {
    exports.Stomp = Stomp;
  }

  if (typeof window !== "undefined" && window !== null) {
    Stomp.setInterval = function (interval, f) {
      return window.setInterval(f, interval);
    };

    Stomp.clearInterval = function (id) {
      return window.clearInterval(id);
    };

    window.Stomp = Stomp;
  } else if (!exports) {
    self.Stomp = Stomp;
  }
}).call(void 0);

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcTG9hZGluZ1xcc3JjXFxzdG9tcDIuanMiXSwibmFtZXMiOlsiQnl0ZSIsIkNsaWVudCIsIkZyYW1lIiwiU3RvbXAiLCJfX2hhc1Byb3AiLCJoYXNPd25Qcm9wZXJ0eSIsIl9fc2xpY2UiLCJzbGljZSIsIkxGIiwiTlVMTCIsInVubWFyc2hhbGxTaW5nbGUiLCJjb21tYW5kIiwiaGVhZGVycyIsImJvZHkiLCJwcm90b3R5cGUiLCJ0b1N0cmluZyIsImxpbmVzIiwibmFtZSIsInNraXBDb250ZW50TGVuZ3RoIiwidmFsdWUiLCJfcmVmIiwiY2FsbCIsInB1c2giLCJzaXplT2ZVVEY4Iiwiam9pbiIsInMiLCJlbmNvZGVVUkkiLCJtYXRjaCIsImxlbmd0aCIsImRhdGEiLCJjaHIiLCJkaXZpZGVyIiwiaGVhZGVyTGluZXMiLCJpIiwiaWR4IiwibGVuIiwibGluZSIsInN0YXJ0IiwidHJpbSIsIl9pIiwiX2oiLCJfbGVuIiwiX3JlZjEiLCJzZWFyY2giLCJSZWdFeHAiLCJzdWJzdHJpbmciLCJzcGxpdCIsInNoaWZ0Iiwic3RyIiwicmVwbGFjZSIsInJldmVyc2UiLCJpbmRleE9mIiwicGFyc2VJbnQiLCJjaGFyQXQiLCJ1bm1hcnNoYWxsIiwiZGF0YXMiLCJmcmFtZSIsImZyYW1lcyIsImxhc3RfZnJhbWUiLCJyIiwicGFydGlhbCIsIl9yZXN1bHRzIiwibWFyc2hhbGwiLCJub3ciLCJ3cyIsImJpbmFyeVR5cGUiLCJjb3VudGVyIiwiY29ubmVjdGVkIiwiaGVhcnRiZWF0Iiwib3V0Z29pbmciLCJpbmNvbWluZyIsIm1heFdlYlNvY2tldEZyYW1lU2l6ZSIsInN1YnNjcmlwdGlvbnMiLCJwYXJ0aWFsRGF0YSIsImRlYnVnIiwibWVzc2FnZSIsIkRhdGUiLCJ2YWx1ZU9mIiwiX3RyYW5zbWl0Iiwib3V0Iiwic2VuZCIsIl9zZXR1cEhlYXJ0YmVhdCIsInNlcnZlckluY29taW5nIiwic2VydmVyT3V0Z29pbmciLCJ0dGwiLCJ2IiwidmVyc2lvbiIsIlZFUlNJT05TIiwiVjFfMSIsIlYxXzIiLCJNYXRoIiwibWF4IiwicGluZ2VyIiwic2V0SW50ZXJ2YWwiLCJfdGhpcyIsInBvbmdlciIsImRlbHRhIiwic2VydmVyQWN0aXZpdHkiLCJjbG9zZSIsIl9wYXJzZUNvbm5lY3QiLCJhcmdzIiwiY29ubmVjdENhbGxiYWNrIiwiZXJyb3JDYWxsYmFjayIsImFyZ3VtZW50cyIsIkZ1bmN0aW9uIiwibG9naW4iLCJwYXNzY29kZSIsImhvc3QiLCJjb25uZWN0IiwiYXBwbHkiLCJvbm1lc3NhZ2UiLCJldnQiLCJhcnIiLCJjIiwiY2xpZW50IiwibWVzc2FnZUlEIiwib25yZWNlaXZlIiwic3Vic2NyaXB0aW9uIiwidW5tYXJzaGFsbGVkRGF0YSIsIkFycmF5QnVmZmVyIiwiVWludDhBcnJheSIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsInNlcnZlciIsImFjayIsIm5hY2siLCJvbnJlY2VpcHQiLCJvbmNsb3NlIiwibXNnIiwidXJsIiwiX2NsZWFuVXAiLCJvbkN1c3RvbU1lc3NhZ2UiLCJvbm9wZW4iLCJzdXBwb3J0ZWRWZXJzaW9ucyIsImRpc2Nvbm5lY3QiLCJkaXNjb25uZWN0Q2FsbGJhY2siLCJjbGVhckludGVydmFsIiwiZGVzdGluYXRpb24iLCJzdWJzY3JpYmUiLCJjYWxsYmFjayIsImlkIiwidW5zdWJzY3JpYmUiLCJiZWdpbiIsInRyYW5zYWN0aW9uIiwidHhpZCIsImNvbW1pdCIsImFib3J0IiwiVjFfMCIsInByb3RvY29scyIsImtsYXNzIiwiV2ViU29ja2V0Q2xhc3MiLCJXZWJTb2NrZXQiLCJvdmVyIiwiZXhwb3J0cyIsIndpbmRvdyIsImludGVydmFsIiwiZiIsInNlbGYiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUEsQ0FBQyxZQUFZO0FBQ1gsTUFBSUEsSUFBSjtBQUFBLE1BQVVDLE1BQVY7QUFBQSxNQUFrQkMsS0FBbEI7QUFBQSxNQUF5QkMsS0FBekI7QUFBQSxNQUNFQyxTQUFTLEdBQUcsR0FBR0MsY0FEakI7QUFBQSxNQUVFQyxPQUFPLEdBQUcsR0FBR0MsS0FGZjtBQUlBUCxFQUFBQSxJQUFJLEdBQUc7QUFDTFEsSUFBQUEsRUFBRSxFQUFFLE1BREM7QUFFTEMsSUFBQUEsSUFBSSxFQUFFO0FBRkQsR0FBUDs7QUFLQVAsRUFBQUEsS0FBSyxHQUFJLFlBQVk7QUFDbkIsUUFBSVEsZ0JBQUo7O0FBRUEsYUFBU1IsS0FBVCxDQUFlUyxPQUFmLEVBQXdCQyxPQUF4QixFQUFpQ0MsSUFBakMsRUFBdUM7QUFDckMsV0FBS0YsT0FBTCxHQUFlQSxPQUFmO0FBQ0EsV0FBS0MsT0FBTCxHQUFlQSxPQUFPLElBQUksSUFBWCxHQUFrQkEsT0FBbEIsR0FBNEIsRUFBM0M7QUFDQSxXQUFLQyxJQUFMLEdBQVlBLElBQUksSUFBSSxJQUFSLEdBQWVBLElBQWYsR0FBc0IsRUFBbEM7QUFDRDs7QUFFRFgsSUFBQUEsS0FBSyxDQUFDWSxTQUFOLENBQWdCQyxRQUFoQixHQUEyQixZQUFZO0FBQ3JDLFVBQUlDLEtBQUosRUFBV0MsSUFBWCxFQUFpQkMsaUJBQWpCLEVBQW9DQyxLQUFwQyxFQUEyQ0MsSUFBM0M7O0FBQ0FKLE1BQUFBLEtBQUssR0FBRyxDQUFDLEtBQUtMLE9BQU4sQ0FBUjtBQUNBTyxNQUFBQSxpQkFBaUIsR0FBRyxLQUFLTixPQUFMLENBQWEsZ0JBQWIsTUFBbUMsS0FBbkMsR0FBMkMsSUFBM0MsR0FBa0QsS0FBdEU7O0FBQ0EsVUFBSU0saUJBQUosRUFBdUI7QUFDckIsZUFBTyxLQUFLTixPQUFMLENBQWEsZ0JBQWIsQ0FBUDtBQUNEOztBQUNEUSxNQUFBQSxJQUFJLEdBQUcsS0FBS1IsT0FBWjs7QUFDQSxXQUFLSyxJQUFMLElBQWFHLElBQWIsRUFBbUI7QUFDakIsWUFBSSxDQUFDaEIsU0FBUyxDQUFDaUIsSUFBVixDQUFlRCxJQUFmLEVBQXFCSCxJQUFyQixDQUFMLEVBQWlDO0FBQ2pDRSxRQUFBQSxLQUFLLEdBQUdDLElBQUksQ0FBQ0gsSUFBRCxDQUFaO0FBQ0FELFFBQUFBLEtBQUssQ0FBQ00sSUFBTixDQUFXLEtBQUtMLElBQUwsR0FBWSxHQUFaLEdBQWtCRSxLQUE3QjtBQUNEOztBQUNELFVBQUksS0FBS04sSUFBTCxJQUFhLENBQUNLLGlCQUFsQixFQUFxQztBQUNuQ0YsUUFBQUEsS0FBSyxDQUFDTSxJQUFOLENBQVcsb0JBQXFCcEIsS0FBSyxDQUFDcUIsVUFBTixDQUFpQixLQUFLVixJQUF0QixDQUFoQztBQUNEOztBQUNERyxNQUFBQSxLQUFLLENBQUNNLElBQU4sQ0FBV3RCLElBQUksQ0FBQ1EsRUFBTCxHQUFVLEtBQUtLLElBQTFCO0FBQ0EsYUFBT0csS0FBSyxDQUFDUSxJQUFOLENBQVd4QixJQUFJLENBQUNRLEVBQWhCLENBQVA7QUFDRCxLQWxCRDs7QUFvQkFOLElBQUFBLEtBQUssQ0FBQ3FCLFVBQU4sR0FBbUIsVUFBVUUsQ0FBVixFQUFhO0FBQzlCLFVBQUlBLENBQUosRUFBTztBQUNMLGVBQU9DLFNBQVMsQ0FBQ0QsQ0FBRCxDQUFULENBQWFFLEtBQWIsQ0FBbUIsUUFBbkIsRUFBNkJDLE1BQXBDO0FBQ0QsT0FGRCxNQUVPO0FBQ0wsZUFBTyxDQUFQO0FBQ0Q7QUFDRixLQU5EOztBQVFBbEIsSUFBQUEsZ0JBQWdCLEdBQUcsMEJBQVVtQixJQUFWLEVBQWdCO0FBQ2pDLFVBQUloQixJQUFKLEVBQVVpQixHQUFWLEVBQWVuQixPQUFmLEVBQXdCb0IsT0FBeEIsRUFBaUNDLFdBQWpDLEVBQThDcEIsT0FBOUMsRUFBdURxQixDQUF2RCxFQUEwREMsR0FBMUQsRUFBK0RDLEdBQS9ELEVBQW9FQyxJQUFwRSxFQUEwRUMsS0FBMUUsRUFBaUZDLElBQWpGLEVBQXVGQyxFQUF2RixFQUEyRkMsRUFBM0YsRUFBK0ZDLElBQS9GLEVBQXFHckIsSUFBckcsRUFBMkdzQixLQUEzRzs7QUFDQVgsTUFBQUEsT0FBTyxHQUFHRixJQUFJLENBQUNjLE1BQUwsQ0FBWUMsTUFBTSxDQUFDLEtBQUs1QyxJQUFJLENBQUNRLEVBQVYsR0FBZVIsSUFBSSxDQUFDUSxFQUFyQixDQUFsQixDQUFWO0FBQ0F3QixNQUFBQSxXQUFXLEdBQUdILElBQUksQ0FBQ2dCLFNBQUwsQ0FBZSxDQUFmLEVBQWtCZCxPQUFsQixFQUEyQmUsS0FBM0IsQ0FBaUM5QyxJQUFJLENBQUNRLEVBQXRDLENBQWQ7QUFDQUcsTUFBQUEsT0FBTyxHQUFHcUIsV0FBVyxDQUFDZSxLQUFaLEVBQVY7QUFDQW5DLE1BQUFBLE9BQU8sR0FBRyxFQUFWOztBQUNBMEIsTUFBQUEsSUFBSSxHQUFHLGNBQVVVLEdBQVYsRUFBZTtBQUNwQixlQUFPQSxHQUFHLENBQUNDLE9BQUosQ0FBWSxZQUFaLEVBQTBCLEVBQTFCLENBQVA7QUFDRCxPQUZEOztBQUdBN0IsTUFBQUEsSUFBSSxHQUFHWSxXQUFXLENBQUNrQixPQUFaLEVBQVA7O0FBQ0EsV0FBS1gsRUFBRSxHQUFHLENBQUwsRUFBUUUsSUFBSSxHQUFHckIsSUFBSSxDQUFDUSxNQUF6QixFQUFpQ1csRUFBRSxHQUFHRSxJQUF0QyxFQUE0Q0YsRUFBRSxFQUE5QyxFQUFrRDtBQUNoREgsUUFBQUEsSUFBSSxHQUFHaEIsSUFBSSxDQUFDbUIsRUFBRCxDQUFYO0FBQ0FMLFFBQUFBLEdBQUcsR0FBR0UsSUFBSSxDQUFDZSxPQUFMLENBQWEsR0FBYixDQUFOO0FBQ0F2QyxRQUFBQSxPQUFPLENBQUMwQixJQUFJLENBQUNGLElBQUksQ0FBQ1MsU0FBTCxDQUFlLENBQWYsRUFBa0JYLEdBQWxCLENBQUQsQ0FBTCxDQUFQLEdBQXdDSSxJQUFJLENBQUNGLElBQUksQ0FBQ1MsU0FBTCxDQUFlWCxHQUFHLEdBQUcsQ0FBckIsQ0FBRCxDQUE1QztBQUNEOztBQUNEckIsTUFBQUEsSUFBSSxHQUFHLEVBQVA7QUFDQXdCLE1BQUFBLEtBQUssR0FBR04sT0FBTyxHQUFHLENBQWxCOztBQUNBLFVBQUluQixPQUFPLENBQUMsZ0JBQUQsQ0FBWCxFQUErQjtBQUM3QnVCLFFBQUFBLEdBQUcsR0FBR2lCLFFBQVEsQ0FBQ3hDLE9BQU8sQ0FBQyxnQkFBRCxDQUFSLENBQWQ7QUFDQUMsUUFBQUEsSUFBSSxHQUFHLENBQUMsS0FBS2dCLElBQU4sRUFBWWdCLFNBQVosQ0FBc0JSLEtBQXRCLEVBQTZCQSxLQUFLLEdBQUdGLEdBQXJDLENBQVA7QUFDRCxPQUhELE1BR087QUFDTEwsUUFBQUEsR0FBRyxHQUFHLElBQU47O0FBQ0EsYUFBS0csQ0FBQyxHQUFHTyxFQUFFLEdBQUdILEtBQVQsRUFBZ0JLLEtBQUssR0FBR2IsSUFBSSxDQUFDRCxNQUFsQyxFQUEwQ1MsS0FBSyxJQUFJSyxLQUFULEdBQWlCRixFQUFFLEdBQUdFLEtBQXRCLEdBQThCRixFQUFFLEdBQUdFLEtBQTdFLEVBQW9GVCxDQUFDLEdBQUdJLEtBQUssSUFBSUssS0FBVCxHQUFpQixFQUFFRixFQUFuQixHQUF3QixFQUFFQSxFQUFsSCxFQUFzSDtBQUNwSFYsVUFBQUEsR0FBRyxHQUFHRCxJQUFJLENBQUN3QixNQUFMLENBQVlwQixDQUFaLENBQU47O0FBQ0EsY0FBSUgsR0FBRyxLQUFLOUIsSUFBSSxDQUFDUyxJQUFqQixFQUF1QjtBQUNyQjtBQUNEOztBQUNESSxVQUFBQSxJQUFJLElBQUlpQixHQUFSO0FBQ0Q7QUFDRjs7QUFDRCxhQUFPLElBQUk1QixLQUFKLENBQVVTLE9BQVYsRUFBbUJDLE9BQW5CLEVBQTRCQyxJQUE1QixDQUFQO0FBQ0QsS0EvQkQ7O0FBaUNBWCxJQUFBQSxLQUFLLENBQUNvRCxVQUFOLEdBQW1CLFVBQVVDLEtBQVYsRUFBaUI7QUFDbEMsVUFBSUMsS0FBSixFQUFXQyxNQUFYLEVBQW1CQyxVQUFuQixFQUErQkMsQ0FBL0I7QUFDQUYsTUFBQUEsTUFBTSxHQUFHRixLQUFLLENBQUNULEtBQU4sQ0FBWUYsTUFBTSxDQUFDLEtBQUs1QyxJQUFJLENBQUNTLElBQVYsR0FBaUJULElBQUksQ0FBQ1EsRUFBdEIsR0FBMkIsR0FBNUIsQ0FBbEIsQ0FBVDtBQUNBbUQsTUFBQUEsQ0FBQyxHQUFHO0FBQ0ZGLFFBQUFBLE1BQU0sRUFBRSxFQUROO0FBRUZHLFFBQUFBLE9BQU8sRUFBRTtBQUZQLE9BQUo7O0FBSUFELE1BQUFBLENBQUMsQ0FBQ0YsTUFBRixHQUFZLFlBQVk7QUFDdEIsWUFBSWxCLEVBQUosRUFBUUUsSUFBUixFQUFjckIsSUFBZCxFQUFvQnlDLFFBQXBCOztBQUNBekMsUUFBQUEsSUFBSSxHQUFHcUMsTUFBTSxDQUFDbEQsS0FBUCxDQUFhLENBQWIsRUFBZ0IsQ0FBQyxDQUFqQixDQUFQO0FBQ0FzRCxRQUFBQSxRQUFRLEdBQUcsRUFBWDs7QUFDQSxhQUFLdEIsRUFBRSxHQUFHLENBQUwsRUFBUUUsSUFBSSxHQUFHckIsSUFBSSxDQUFDUSxNQUF6QixFQUFpQ1csRUFBRSxHQUFHRSxJQUF0QyxFQUE0Q0YsRUFBRSxFQUE5QyxFQUFrRDtBQUNoRGlCLFVBQUFBLEtBQUssR0FBR3BDLElBQUksQ0FBQ21CLEVBQUQsQ0FBWjs7QUFDQXNCLFVBQUFBLFFBQVEsQ0FBQ3ZDLElBQVQsQ0FBY1osZ0JBQWdCLENBQUM4QyxLQUFELENBQTlCO0FBQ0Q7O0FBQ0QsZUFBT0ssUUFBUDtBQUNELE9BVFUsRUFBWDs7QUFVQUgsTUFBQUEsVUFBVSxHQUFHRCxNQUFNLENBQUNsRCxLQUFQLENBQWEsQ0FBQyxDQUFkLEVBQWlCLENBQWpCLENBQWI7O0FBQ0EsVUFBSW1ELFVBQVUsS0FBSzFELElBQUksQ0FBQ1EsRUFBcEIsSUFBMkJrRCxVQUFVLENBQUNmLE1BQVgsQ0FBa0JDLE1BQU0sQ0FBQyxLQUFLNUMsSUFBSSxDQUFDUyxJQUFWLEdBQWlCVCxJQUFJLENBQUNRLEVBQXRCLEdBQTJCLElBQTVCLENBQXhCLENBQUQsS0FBaUUsQ0FBQyxDQUFoRyxFQUFtRztBQUNqR21ELFFBQUFBLENBQUMsQ0FBQ0YsTUFBRixDQUFTbkMsSUFBVCxDQUFjWixnQkFBZ0IsQ0FBQ2dELFVBQUQsQ0FBOUI7QUFDRCxPQUZELE1BRU87QUFDTEMsUUFBQUEsQ0FBQyxDQUFDQyxPQUFGLEdBQVlGLFVBQVo7QUFDRDs7QUFDRCxhQUFPQyxDQUFQO0FBQ0QsS0F4QkQ7O0FBMEJBekQsSUFBQUEsS0FBSyxDQUFDNEQsUUFBTixHQUFpQixVQUFVbkQsT0FBVixFQUFtQkMsT0FBbkIsRUFBNEJDLElBQTVCLEVBQWtDO0FBQ2pELFVBQUkyQyxLQUFKO0FBQ0FBLE1BQUFBLEtBQUssR0FBRyxJQUFJdEQsS0FBSixDQUFVUyxPQUFWLEVBQW1CQyxPQUFuQixFQUE0QkMsSUFBNUIsQ0FBUjtBQUNBLGFBQU8yQyxLQUFLLENBQUN6QyxRQUFOLEtBQW1CZixJQUFJLENBQUNTLElBQS9CO0FBQ0QsS0FKRDs7QUFNQSxXQUFPUCxLQUFQO0FBRUQsR0F4R08sRUFBUjs7QUEwR0FELEVBQUFBLE1BQU0sR0FBSSxZQUFZO0FBQ3BCLFFBQUk4RCxHQUFKOztBQUVBLGFBQVM5RCxNQUFULENBQWdCK0QsRUFBaEIsRUFBb0I7QUFDbEIsV0FBS0EsRUFBTCxHQUFVQSxFQUFWO0FBQ0EsV0FBS0EsRUFBTCxDQUFRQyxVQUFSLEdBQXFCLGFBQXJCO0FBQ0EsV0FBS0MsT0FBTCxHQUFlLENBQWY7QUFDQSxXQUFLQyxTQUFMLEdBQWlCLEtBQWpCO0FBQ0EsV0FBS0MsU0FBTCxHQUFpQjtBQUNmQyxRQUFBQSxRQUFRLEVBQUUsS0FESztBQUVmQyxRQUFBQSxRQUFRLEVBQUU7QUFGSyxPQUFqQjtBQUlBLFdBQUtDLHFCQUFMLEdBQTZCLEtBQUssSUFBbEM7QUFDQSxXQUFLQyxhQUFMLEdBQXFCLEVBQXJCO0FBQ0EsV0FBS0MsV0FBTCxHQUFtQixFQUFuQjtBQUNEOztBQUVEeEUsSUFBQUEsTUFBTSxDQUFDYSxTQUFQLENBQWlCNEQsS0FBakIsR0FBeUIsVUFBVUMsT0FBVixFQUFtQjtBQUMxQyxVQUFJdkQsSUFBSixDQUQwQyxDQUUxQzs7QUFDRCxLQUhEOztBQUtBMkMsSUFBQUEsR0FBRyxHQUFHLGVBQVk7QUFDaEIsVUFBSWEsSUFBSSxDQUFDYixHQUFULEVBQWM7QUFDWixlQUFPYSxJQUFJLENBQUNiLEdBQUwsRUFBUDtBQUNELE9BRkQsTUFFTztBQUNMLGVBQU8sSUFBSWEsSUFBSixHQUFXQyxPQUFsQjtBQUNEO0FBQ0YsS0FORDs7QUFRQTVFLElBQUFBLE1BQU0sQ0FBQ2EsU0FBUCxDQUFpQmdFLFNBQWpCLEdBQTZCLFVBQVVuRSxPQUFWLEVBQW1CQyxPQUFuQixFQUE0QkMsSUFBNUIsRUFBa0M7QUFDN0QsVUFBSWtFLEdBQUo7QUFDQUEsTUFBQUEsR0FBRyxHQUFHN0UsS0FBSyxDQUFDNEQsUUFBTixDQUFlbkQsT0FBZixFQUF3QkMsT0FBeEIsRUFBaUNDLElBQWpDLENBQU47O0FBQ0EsVUFBSSxPQUFPLEtBQUs2RCxLQUFaLEtBQXNCLFVBQTFCLEVBQXNDO0FBQ3BDLGFBQUtBLEtBQUwsQ0FBVyxTQUFTSyxHQUFwQjtBQUNEOztBQUNELGFBQU8sSUFBUCxFQUFhO0FBQ1gsWUFBSUEsR0FBRyxDQUFDbkQsTUFBSixHQUFhLEtBQUsyQyxxQkFBdEIsRUFBNkM7QUFDM0MsZUFBS1AsRUFBTCxDQUFRZ0IsSUFBUixDQUFhRCxHQUFHLENBQUNsQyxTQUFKLENBQWMsQ0FBZCxFQUFpQixLQUFLMEIscUJBQXRCLENBQWI7QUFDQVEsVUFBQUEsR0FBRyxHQUFHQSxHQUFHLENBQUNsQyxTQUFKLENBQWMsS0FBSzBCLHFCQUFuQixDQUFOOztBQUNBLGNBQUksT0FBTyxLQUFLRyxLQUFaLEtBQXNCLFVBQTFCLEVBQXNDO0FBQ3BDLGlCQUFLQSxLQUFMLENBQVcsaUJBQWlCSyxHQUFHLENBQUNuRCxNQUFoQztBQUNEO0FBQ0YsU0FORCxNQU1PO0FBQ0wsaUJBQU8sS0FBS29DLEVBQUwsQ0FBUWdCLElBQVIsQ0FBYUQsR0FBYixDQUFQO0FBQ0Q7QUFDRjtBQUNGLEtBakJEOztBQW1CQTlFLElBQUFBLE1BQU0sQ0FBQ2EsU0FBUCxDQUFpQm1FLGVBQWpCLEdBQW1DLFVBQVVyRSxPQUFWLEVBQW1CO0FBQ3BELFVBQUlzRSxjQUFKLEVBQW9CQyxjQUFwQixFQUFvQ0MsR0FBcEMsRUFBeUNDLENBQXpDLEVBQTRDakUsSUFBNUMsRUFBa0RzQixLQUFsRDs7QUFDQSxVQUFJLENBQUN0QixJQUFJLEdBQUdSLE9BQU8sQ0FBQzBFLE9BQWhCLE1BQTZCbkYsS0FBSyxDQUFDb0YsUUFBTixDQUFlQyxJQUE1QyxJQUFvRHBFLElBQUksS0FBS2pCLEtBQUssQ0FBQ29GLFFBQU4sQ0FBZUUsSUFBaEYsRUFBc0Y7QUFDcEY7QUFDRDs7QUFDRC9DLE1BQUFBLEtBQUssR0FBSSxZQUFZO0FBQ25CLFlBQUlILEVBQUosRUFBUUUsSUFBUixFQUFjQyxLQUFkLEVBQXFCbUIsUUFBckI7O0FBQ0FuQixRQUFBQSxLQUFLLEdBQUc5QixPQUFPLENBQUMsWUFBRCxDQUFQLENBQXNCa0MsS0FBdEIsQ0FBNEIsR0FBNUIsQ0FBUjtBQUNBZSxRQUFBQSxRQUFRLEdBQUcsRUFBWDs7QUFDQSxhQUFLdEIsRUFBRSxHQUFHLENBQUwsRUFBUUUsSUFBSSxHQUFHQyxLQUFLLENBQUNkLE1BQTFCLEVBQWtDVyxFQUFFLEdBQUdFLElBQXZDLEVBQTZDRixFQUFFLEVBQS9DLEVBQW1EO0FBQ2pEOEMsVUFBQUEsQ0FBQyxHQUFHM0MsS0FBSyxDQUFDSCxFQUFELENBQVQ7O0FBQ0FzQixVQUFBQSxRQUFRLENBQUN2QyxJQUFULENBQWM4QixRQUFRLENBQUNpQyxDQUFELENBQXRCO0FBQ0Q7O0FBQ0QsZUFBT3hCLFFBQVA7QUFDRCxPQVRPLEVBQVIsRUFTTXNCLGNBQWMsR0FBR3pDLEtBQUssQ0FBQyxDQUFELENBVDVCLEVBU2lDd0MsY0FBYyxHQUFHeEMsS0FBSyxDQUFDLENBQUQsQ0FUdkQ7O0FBVUEsVUFBSSxFQUFFLEtBQUswQixTQUFMLENBQWVDLFFBQWYsS0FBNEIsQ0FBNUIsSUFBaUNhLGNBQWMsS0FBSyxDQUF0RCxDQUFKLEVBQThEO0FBQzVERSxRQUFBQSxHQUFHLEdBQUdNLElBQUksQ0FBQ0MsR0FBTCxDQUFTLEtBQUt2QixTQUFMLENBQWVDLFFBQXhCLEVBQWtDYSxjQUFsQyxDQUFOOztBQUNBLFlBQUksT0FBTyxLQUFLUixLQUFaLEtBQXNCLFVBQTFCLEVBQXNDO0FBQ3BDLGVBQUtBLEtBQUwsQ0FBVyxxQkFBcUJVLEdBQXJCLEdBQTJCLElBQXRDO0FBQ0Q7O0FBQ0QsYUFBS1EsTUFBTCxHQUFjekYsS0FBSyxDQUFDMEYsV0FBTixDQUFrQlQsR0FBbEIsRUFBd0IsVUFBVVUsS0FBVixFQUFpQjtBQUNyRCxpQkFBTyxZQUFZO0FBQ2pCQSxZQUFBQSxLQUFLLENBQUM5QixFQUFOLENBQVNnQixJQUFULENBQWNoRixJQUFJLENBQUNRLEVBQW5COztBQUNBLG1CQUFPLE9BQU9zRixLQUFLLENBQUNwQixLQUFiLEtBQXVCLFVBQXZCLEdBQW9Db0IsS0FBSyxDQUFDcEIsS0FBTixDQUFZLFVBQVosQ0FBcEMsR0FBOEQsS0FBSyxDQUExRTtBQUNELFdBSEQ7QUFJRCxTQUxvQyxDQUtsQyxJQUxrQyxDQUF2QixDQUFkO0FBTUQ7O0FBQ0QsVUFBSSxFQUFFLEtBQUtOLFNBQUwsQ0FBZUUsUUFBZixLQUE0QixDQUE1QixJQUFpQ2EsY0FBYyxLQUFLLENBQXRELENBQUosRUFBOEQ7QUFDNURDLFFBQUFBLEdBQUcsR0FBR00sSUFBSSxDQUFDQyxHQUFMLENBQVMsS0FBS3ZCLFNBQUwsQ0FBZUUsUUFBeEIsRUFBa0NhLGNBQWxDLENBQU47O0FBQ0EsWUFBSSxPQUFPLEtBQUtULEtBQVosS0FBc0IsVUFBMUIsRUFBc0M7QUFDcEMsZUFBS0EsS0FBTCxDQUFXLHNCQUFzQlUsR0FBdEIsR0FBNEIsSUFBdkM7QUFDRDs7QUFDRCxlQUFPLEtBQUtXLE1BQUwsR0FBYzVGLEtBQUssQ0FBQzBGLFdBQU4sQ0FBa0JULEdBQWxCLEVBQXdCLFVBQVVVLEtBQVYsRUFBaUI7QUFDNUQsaUJBQU8sWUFBWTtBQUNqQixnQkFBSUUsS0FBSjtBQUNBQSxZQUFBQSxLQUFLLEdBQUdqQyxHQUFHLEtBQUsrQixLQUFLLENBQUNHLGNBQXRCOztBQUNBLGdCQUFJRCxLQUFLLEdBQUdaLEdBQUcsR0FBRyxDQUFsQixFQUFxQjtBQUNuQixrQkFBSSxPQUFPVSxLQUFLLENBQUNwQixLQUFiLEtBQXVCLFVBQTNCLEVBQXVDO0FBQ3JDb0IsZ0JBQUFBLEtBQUssQ0FBQ3BCLEtBQU4sQ0FBWSxrREFBa0RzQixLQUFsRCxHQUEwRCxJQUF0RTtBQUNEOztBQUNELHFCQUFPRixLQUFLLENBQUM5QixFQUFOLENBQVNrQyxLQUFULEVBQVA7QUFDRDtBQUNGLFdBVEQ7QUFVRCxTQVgyQyxDQVd6QyxJQVh5QyxDQUF2QixDQUFyQjtBQVlEO0FBQ0YsS0E3Q0Q7O0FBK0NBakcsSUFBQUEsTUFBTSxDQUFDYSxTQUFQLENBQWlCcUYsYUFBakIsR0FBaUMsWUFBWTtBQUMzQyxVQUFJQyxJQUFKLEVBQVVDLGVBQVYsRUFBMkJDLGFBQTNCLEVBQTBDMUYsT0FBMUM7QUFDQXdGLE1BQUFBLElBQUksR0FBRyxLQUFLRyxTQUFTLENBQUMzRSxNQUFmLEdBQXdCdEIsT0FBTyxDQUFDZSxJQUFSLENBQWFrRixTQUFiLEVBQXdCLENBQXhCLENBQXhCLEdBQXFELEVBQTVEO0FBQ0EzRixNQUFBQSxPQUFPLEdBQUcsRUFBVjs7QUFDQSxjQUFRd0YsSUFBSSxDQUFDeEUsTUFBYjtBQUNFLGFBQUssQ0FBTDtBQUNFaEIsVUFBQUEsT0FBTyxHQUFHd0YsSUFBSSxDQUFDLENBQUQsQ0FBZCxFQUFtQkMsZUFBZSxHQUFHRCxJQUFJLENBQUMsQ0FBRCxDQUF6QztBQUNBOztBQUNGLGFBQUssQ0FBTDtBQUNFLGNBQUlBLElBQUksQ0FBQyxDQUFELENBQUosWUFBbUJJLFFBQXZCLEVBQWlDO0FBQy9CNUYsWUFBQUEsT0FBTyxHQUFHd0YsSUFBSSxDQUFDLENBQUQsQ0FBZCxFQUFtQkMsZUFBZSxHQUFHRCxJQUFJLENBQUMsQ0FBRCxDQUF6QyxFQUE4Q0UsYUFBYSxHQUFHRixJQUFJLENBQUMsQ0FBRCxDQUFsRTtBQUNELFdBRkQsTUFFTztBQUNMeEYsWUFBQUEsT0FBTyxDQUFDNkYsS0FBUixHQUFnQkwsSUFBSSxDQUFDLENBQUQsQ0FBcEIsRUFBeUJ4RixPQUFPLENBQUM4RixRQUFSLEdBQW1CTixJQUFJLENBQUMsQ0FBRCxDQUFoRCxFQUFxREMsZUFBZSxHQUFHRCxJQUFJLENBQUMsQ0FBRCxDQUEzRTtBQUNEOztBQUNEOztBQUNGLGFBQUssQ0FBTDtBQUNFeEYsVUFBQUEsT0FBTyxDQUFDNkYsS0FBUixHQUFnQkwsSUFBSSxDQUFDLENBQUQsQ0FBcEIsRUFBeUJ4RixPQUFPLENBQUM4RixRQUFSLEdBQW1CTixJQUFJLENBQUMsQ0FBRCxDQUFoRCxFQUFxREMsZUFBZSxHQUFHRCxJQUFJLENBQUMsQ0FBRCxDQUEzRSxFQUFnRkUsYUFBYSxHQUFHRixJQUFJLENBQUMsQ0FBRCxDQUFwRztBQUNBOztBQUNGO0FBQ0V4RixVQUFBQSxPQUFPLENBQUM2RixLQUFSLEdBQWdCTCxJQUFJLENBQUMsQ0FBRCxDQUFwQixFQUF5QnhGLE9BQU8sQ0FBQzhGLFFBQVIsR0FBbUJOLElBQUksQ0FBQyxDQUFELENBQWhELEVBQXFEQyxlQUFlLEdBQUdELElBQUksQ0FBQyxDQUFELENBQTNFLEVBQWdGRSxhQUFhLEdBQUdGLElBQUksQ0FBQyxDQUFELENBQXBHLEVBQXlHeEYsT0FBTyxDQUFDK0YsSUFBUixHQUFlUCxJQUFJLENBQUMsQ0FBRCxDQUE1SDtBQWZKOztBQWlCQSxhQUFPLENBQUN4RixPQUFELEVBQVV5RixlQUFWLEVBQTJCQyxhQUEzQixDQUFQO0FBQ0QsS0F0QkQ7O0FBd0JBckcsSUFBQUEsTUFBTSxDQUFDYSxTQUFQLENBQWlCOEYsT0FBakIsR0FBMkIsWUFBWTtBQUNyQyxVQUFJUixJQUFKLEVBQVVFLGFBQVYsRUFBeUIxRixPQUF6QixFQUFrQ21FLEdBQWxDO0FBQ0FxQixNQUFBQSxJQUFJLEdBQUcsS0FBS0csU0FBUyxDQUFDM0UsTUFBZixHQUF3QnRCLE9BQU8sQ0FBQ2UsSUFBUixDQUFha0YsU0FBYixFQUF3QixDQUF4QixDQUF4QixHQUFxRCxFQUE1RDtBQUNBeEIsTUFBQUEsR0FBRyxHQUFHLEtBQUtvQixhQUFMLENBQW1CVSxLQUFuQixDQUF5QixJQUF6QixFQUErQlQsSUFBL0IsQ0FBTjtBQUNBeEYsTUFBQUEsT0FBTyxHQUFHbUUsR0FBRyxDQUFDLENBQUQsQ0FBYixFQUFrQixLQUFLc0IsZUFBTCxHQUF1QnRCLEdBQUcsQ0FBQyxDQUFELENBQTVDLEVBQWlEdUIsYUFBYSxHQUFHdkIsR0FBRyxDQUFDLENBQUQsQ0FBcEU7O0FBQ0EsVUFBSSxPQUFPLEtBQUtMLEtBQVosS0FBc0IsVUFBMUIsRUFBc0M7QUFDcEMsYUFBS0EsS0FBTCxDQUFXLHVCQUFYO0FBQ0Q7O0FBQ0QsV0FBS1YsRUFBTCxDQUFROEMsU0FBUixHQUFxQixVQUFVaEIsS0FBVixFQUFpQjtBQUNwQyxlQUFPLFVBQVVpQixHQUFWLEVBQWU7QUFDcEI7QUFDQSxjQUFJQyxHQUFKLEVBQVNDLENBQVQsRUFBWUMsTUFBWixFQUFvQnJGLElBQXBCLEVBQTBCMkIsS0FBMUIsRUFBaUMyRCxTQUFqQyxFQUE0Q0MsU0FBNUMsRUFBdURDLFlBQXZELEVBQXFFQyxnQkFBckUsRUFBdUYvRSxFQUF2RixFQUEyRkUsSUFBM0YsRUFBaUdyQixJQUFqRyxFQUF1R3lDLFFBQXZHOztBQUNBaEMsVUFBQUEsSUFBSSxHQUFHLE9BQU8wRixXQUFQLEtBQXVCLFdBQXZCLElBQXNDUixHQUFHLENBQUNsRixJQUFKLFlBQW9CMEYsV0FBMUQsSUFBeUVQLEdBQUcsR0FBRyxJQUFJUSxVQUFKLENBQWVULEdBQUcsQ0FBQ2xGLElBQW5CLENBQU4sRUFBZ0MsT0FBT2lFLEtBQUssQ0FBQ3BCLEtBQWIsS0FBdUIsVUFBdkIsR0FBb0NvQixLQUFLLENBQUNwQixLQUFOLENBQVksMEJBQTBCc0MsR0FBRyxDQUFDcEYsTUFBMUMsQ0FBcEMsR0FBd0YsS0FBSyxDQUE3SCxFQUFrSSxZQUFZO0FBQzVOLGdCQUFJVyxFQUFKLEVBQVFFLElBQVIsRUFBY29CLFFBQWQ7O0FBQ0FBLFlBQUFBLFFBQVEsR0FBRyxFQUFYOztBQUNBLGlCQUFLdEIsRUFBRSxHQUFHLENBQUwsRUFBUUUsSUFBSSxHQUFHdUUsR0FBRyxDQUFDcEYsTUFBeEIsRUFBZ0NXLEVBQUUsR0FBR0UsSUFBckMsRUFBMkNGLEVBQUUsRUFBN0MsRUFBaUQ7QUFDL0MwRSxjQUFBQSxDQUFDLEdBQUdELEdBQUcsQ0FBQ3pFLEVBQUQsQ0FBUDs7QUFDQXNCLGNBQUFBLFFBQVEsQ0FBQ3ZDLElBQVQsQ0FBY21HLE1BQU0sQ0FBQ0MsWUFBUCxDQUFvQlQsQ0FBcEIsQ0FBZDtBQUNEOztBQUNELG1CQUFPcEQsUUFBUDtBQUNELFdBUmdOLEVBQUQsQ0FRMU1yQyxJQVIwTSxDQVFyTSxFQVJxTSxDQUF6TSxJQVFXdUYsR0FBRyxDQUFDbEYsSUFSdEI7QUFTQWlFLFVBQUFBLEtBQUssQ0FBQ0csY0FBTixHQUF1QmxDLEdBQUcsRUFBMUI7O0FBQ0EsY0FBSWxDLElBQUksS0FBSzdCLElBQUksQ0FBQ1EsRUFBbEIsRUFBc0I7QUFDcEIsZ0JBQUksT0FBT3NGLEtBQUssQ0FBQ3BCLEtBQWIsS0FBdUIsVUFBM0IsRUFBdUM7QUFDckNvQixjQUFBQSxLQUFLLENBQUNwQixLQUFOLENBQVksVUFBWjtBQUNEOztBQUNEO0FBQ0Q7O0FBQ0QsY0FBSSxPQUFPb0IsS0FBSyxDQUFDcEIsS0FBYixLQUF1QixVQUEzQixFQUF1QyxDQUNyQztBQUNEOztBQUNENEMsVUFBQUEsZ0JBQWdCLEdBQUdwSCxLQUFLLENBQUNvRCxVQUFOLENBQWlCd0MsS0FBSyxDQUFDckIsV0FBTixHQUFvQjVDLElBQXJDLENBQW5CO0FBQ0FpRSxVQUFBQSxLQUFLLENBQUNyQixXQUFOLEdBQW9CNkMsZ0JBQWdCLENBQUMxRCxPQUFyQztBQUNBeEMsVUFBQUEsSUFBSSxHQUFHa0csZ0JBQWdCLENBQUM3RCxNQUF4QjtBQUNBSSxVQUFBQSxRQUFRLEdBQUcsRUFBWDs7QUFDQSxlQUFLdEIsRUFBRSxHQUFHLENBQUwsRUFBUUUsSUFBSSxHQUFHckIsSUFBSSxDQUFDUSxNQUF6QixFQUFpQ1csRUFBRSxHQUFHRSxJQUF0QyxFQUE0Q0YsRUFBRSxFQUE5QyxFQUFrRDtBQUNoRGlCLFlBQUFBLEtBQUssR0FBR3BDLElBQUksQ0FBQ21CLEVBQUQsQ0FBWjs7QUFDQSxvQkFBUWlCLEtBQUssQ0FBQzdDLE9BQWQ7QUFDRSxtQkFBSyxXQUFMO0FBQ0Usb0JBQUksT0FBT21GLEtBQUssQ0FBQ3BCLEtBQWIsS0FBdUIsVUFBM0IsRUFBdUM7QUFDckNvQixrQkFBQUEsS0FBSyxDQUFDcEIsS0FBTixDQUFZLHlCQUF5QmxCLEtBQUssQ0FBQzVDLE9BQU4sQ0FBYytHLE1BQW5EO0FBQ0Q7O0FBQ0Q3QixnQkFBQUEsS0FBSyxDQUFDM0IsU0FBTixHQUFrQixJQUFsQjs7QUFDQTJCLGdCQUFBQSxLQUFLLENBQUNiLGVBQU4sQ0FBc0J6QixLQUFLLENBQUM1QyxPQUE1Qjs7QUFDQWlELGdCQUFBQSxRQUFRLENBQUN2QyxJQUFULENBQWMsT0FBT3dFLEtBQUssQ0FBQ08sZUFBYixLQUFpQyxVQUFqQyxHQUE4Q1AsS0FBSyxDQUFDTyxlQUFOLENBQXNCN0MsS0FBdEIsQ0FBOUMsR0FBNkUsS0FBSyxDQUFoRzs7QUFDQTs7QUFDRixtQkFBSyxTQUFMO0FBQ0U2RCxnQkFBQUEsWUFBWSxHQUFHN0QsS0FBSyxDQUFDNUMsT0FBTixDQUFjeUcsWUFBN0I7QUFDQUQsZ0JBQUFBLFNBQVMsR0FBR3RCLEtBQUssQ0FBQ3RCLGFBQU4sQ0FBb0I2QyxZQUFwQixLQUFxQ3ZCLEtBQUssQ0FBQ3NCLFNBQXZEOztBQUNBLG9CQUFJQSxTQUFKLEVBQWU7QUFDYkYsa0JBQUFBLE1BQU0sR0FBR3BCLEtBQVQ7QUFDQXFCLGtCQUFBQSxTQUFTLEdBQUczRCxLQUFLLENBQUM1QyxPQUFOLENBQWMsWUFBZCxDQUFaOztBQUNBNEMsa0JBQUFBLEtBQUssQ0FBQ29FLEdBQU4sR0FBWSxVQUFVaEgsT0FBVixFQUFtQjtBQUM3Qix3QkFBSUEsT0FBTyxJQUFJLElBQWYsRUFBcUI7QUFDbkJBLHNCQUFBQSxPQUFPLEdBQUcsRUFBVjtBQUNEOztBQUNELDJCQUFPc0csTUFBTSxDQUFDVSxHQUFQLENBQVdULFNBQVgsRUFBc0JFLFlBQXRCLEVBQW9DekcsT0FBcEMsQ0FBUDtBQUNELG1CQUxEOztBQU1BNEMsa0JBQUFBLEtBQUssQ0FBQ3FFLElBQU4sR0FBYSxVQUFVakgsT0FBVixFQUFtQjtBQUM5Qix3QkFBSUEsT0FBTyxJQUFJLElBQWYsRUFBcUI7QUFDbkJBLHNCQUFBQSxPQUFPLEdBQUcsRUFBVjtBQUNEOztBQUNELDJCQUFPc0csTUFBTSxDQUFDVyxJQUFQLENBQVlWLFNBQVosRUFBdUJFLFlBQXZCLEVBQXFDekcsT0FBckMsQ0FBUDtBQUNELG1CQUxEOztBQU1BaUQsa0JBQUFBLFFBQVEsQ0FBQ3ZDLElBQVQsQ0FBYzhGLFNBQVMsQ0FBQzVELEtBQUQsQ0FBdkI7QUFDRCxpQkFoQkQsTUFnQk87QUFDTEssa0JBQUFBLFFBQVEsQ0FBQ3ZDLElBQVQsQ0FBYyxPQUFPd0UsS0FBSyxDQUFDcEIsS0FBYixLQUF1QixVQUF2QixHQUFvQ29CLEtBQUssQ0FBQ3BCLEtBQU4sQ0FBWSxpQ0FBaUNsQixLQUE3QyxDQUFwQyxHQUEwRixLQUFLLENBQTdHO0FBQ0Q7O0FBQ0Q7O0FBQ0YsbUJBQUssU0FBTDtBQUNFSyxnQkFBQUEsUUFBUSxDQUFDdkMsSUFBVCxDQUFjLE9BQU93RSxLQUFLLENBQUNnQyxTQUFiLEtBQTJCLFVBQTNCLEdBQXdDaEMsS0FBSyxDQUFDZ0MsU0FBTixDQUFnQnRFLEtBQWhCLENBQXhDLEdBQWlFLEtBQUssQ0FBcEY7O0FBQ0E7O0FBQ0YsbUJBQUssT0FBTDtBQUNFSyxnQkFBQUEsUUFBUSxDQUFDdkMsSUFBVCxDQUFjLE9BQU9nRixhQUFQLEtBQXlCLFVBQXpCLEdBQXNDQSxhQUFhLENBQUM5QyxLQUFELENBQW5ELEdBQTZELEtBQUssQ0FBaEY7O0FBQ0E7O0FBQ0Y7QUFDRUssZ0JBQUFBLFFBQVEsQ0FBQ3ZDLElBQVQsQ0FBYyxPQUFPd0UsS0FBSyxDQUFDcEIsS0FBYixLQUF1QixVQUF2QixHQUFvQ29CLEtBQUssQ0FBQ3BCLEtBQU4sQ0FBWSxzQkFBc0JsQixLQUFsQyxDQUFwQyxHQUErRSxLQUFLLENBQWxHOztBQXZDSjtBQXlDRDs7QUFDRCxpQkFBT0ssUUFBUDtBQUNELFNBdkVEO0FBd0VELE9BekVtQixDQXlFakIsSUF6RWlCLENBQXBCOztBQTBFQSxXQUFLRyxFQUFMLENBQVErRCxPQUFSLEdBQW1CLFVBQVVqQyxLQUFWLEVBQWlCO0FBQ2xDLGVBQU8sWUFBWTtBQUNqQixjQUFJa0MsR0FBSjtBQUNBQSxVQUFBQSxHQUFHLEdBQUcsZ0NBQWdDbEMsS0FBSyxDQUFDOUIsRUFBTixDQUFTaUUsR0FBL0M7O0FBQ0EsY0FBSSxPQUFPbkMsS0FBSyxDQUFDcEIsS0FBYixLQUF1QixVQUEzQixFQUF1QztBQUNyQ29CLFlBQUFBLEtBQUssQ0FBQ3BCLEtBQU4sQ0FBWXNELEdBQVo7QUFDRDs7QUFDRGxDLFVBQUFBLEtBQUssQ0FBQ29DLFFBQU47O0FBQ0FwQyxVQUFBQSxLQUFLLENBQUM5QixFQUFOLENBQVNtRSxlQUFULENBQXlCLFNBQXpCOztBQUNBLGlCQUFPLE9BQU83QixhQUFQLEtBQXlCLFVBQXpCLEdBQXNDQSxhQUFhLENBQUMwQixHQUFELENBQW5ELEdBQTJELEtBQUssQ0FBdkU7QUFDRCxTQVREO0FBVUQsT0FYaUIsQ0FXZixJQVhlLENBQWxCOztBQVlBLGFBQU8sS0FBS2hFLEVBQUwsQ0FBUW9FLE1BQVIsR0FBa0IsVUFBVXRDLEtBQVYsRUFBaUI7QUFDeEMsZUFBTyxZQUFZO0FBQ2pCLGNBQUksT0FBT0EsS0FBSyxDQUFDcEIsS0FBYixLQUF1QixVQUEzQixFQUF1QztBQUNyQ29CLFlBQUFBLEtBQUssQ0FBQ3BCLEtBQU4sQ0FBWSxzQkFBWjtBQUNEOztBQUNEOUQsVUFBQUEsT0FBTyxDQUFDLGdCQUFELENBQVAsR0FBNEJULEtBQUssQ0FBQ29GLFFBQU4sQ0FBZThDLGlCQUFmLEVBQTVCO0FBQ0F6SCxVQUFBQSxPQUFPLENBQUMsWUFBRCxDQUFQLEdBQXdCLENBQUNrRixLQUFLLENBQUMxQixTQUFOLENBQWdCQyxRQUFqQixFQUEyQnlCLEtBQUssQ0FBQzFCLFNBQU4sQ0FBZ0JFLFFBQTNDLEVBQXFEOUMsSUFBckQsQ0FBMEQsR0FBMUQsQ0FBeEI7QUFDQSxpQkFBT3NFLEtBQUssQ0FBQ2hCLFNBQU4sQ0FBZ0IsU0FBaEIsRUFBMkJsRSxPQUEzQixDQUFQO0FBQ0QsU0FQRDtBQVFELE9BVHVCLENBU3JCLElBVHFCLENBQXhCO0FBVUQsS0F4R0Q7O0FBMEdBWCxJQUFBQSxNQUFNLENBQUNhLFNBQVAsQ0FBaUJ3SCxVQUFqQixHQUE4QixVQUFVQyxrQkFBVixFQUE4QjNILE9BQTlCLEVBQXVDO0FBQ25Fa0YsTUFBQUEsS0FBSyxDQUFDcEIsS0FBTixDQUFZLGlCQUFaOztBQUNBLFVBQUk5RCxPQUFPLElBQUksSUFBZixFQUFxQjtBQUNuQkEsUUFBQUEsT0FBTyxHQUFHLEVBQVY7QUFDRDs7QUFDRCxXQUFLa0UsU0FBTCxDQUFlLFlBQWYsRUFBNkJsRSxPQUE3Qjs7QUFDQSxXQUFLb0QsRUFBTCxDQUFRK0QsT0FBUixHQUFrQixJQUFsQjtBQUNBLFdBQUsvRCxFQUFMLENBQVFrQyxLQUFSOztBQUNBLFdBQUtnQyxRQUFMOztBQUNBLGFBQU8sT0FBT0ssa0JBQVAsS0FBOEIsVUFBOUIsR0FBMkNBLGtCQUFrQixFQUE3RCxHQUFrRSxLQUFLLENBQTlFO0FBQ0QsS0FWRDs7QUFZQXRJLElBQUFBLE1BQU0sQ0FBQ2EsU0FBUCxDQUFpQm9ILFFBQWpCLEdBQTRCLFlBQVk7QUFDdEMsV0FBSy9ELFNBQUwsR0FBaUIsS0FBakI7O0FBQ0EsVUFBSSxLQUFLeUIsTUFBVCxFQUFpQjtBQUNmekYsUUFBQUEsS0FBSyxDQUFDcUksYUFBTixDQUFvQixLQUFLNUMsTUFBekI7QUFDRDs7QUFDRCxVQUFJLEtBQUtHLE1BQVQsRUFBaUI7QUFDZixlQUFPNUYsS0FBSyxDQUFDcUksYUFBTixDQUFvQixLQUFLekMsTUFBekIsQ0FBUDtBQUNEO0FBQ0YsS0FSRDs7QUFVQTlGLElBQUFBLE1BQU0sQ0FBQ2EsU0FBUCxDQUFpQmtFLElBQWpCLEdBQXdCLFVBQVV5RCxXQUFWLEVBQXVCN0gsT0FBdkIsRUFBZ0NDLElBQWhDLEVBQXNDO0FBQzVELFVBQUlELE9BQU8sSUFBSSxJQUFmLEVBQXFCO0FBQ25CQSxRQUFBQSxPQUFPLEdBQUcsRUFBVjtBQUNEOztBQUNELFVBQUlDLElBQUksSUFBSSxJQUFaLEVBQWtCO0FBQ2hCQSxRQUFBQSxJQUFJLEdBQUcsRUFBUDtBQUNEOztBQUNERCxNQUFBQSxPQUFPLENBQUM2SCxXQUFSLEdBQXNCQSxXQUF0QjtBQUNBLGFBQU8sS0FBSzNELFNBQUwsQ0FBZSxNQUFmLEVBQXVCbEUsT0FBdkIsRUFBZ0NDLElBQWhDLENBQVA7QUFDRCxLQVREOztBQVdBWixJQUFBQSxNQUFNLENBQUNhLFNBQVAsQ0FBaUI0SCxTQUFqQixHQUE2QixVQUFVRCxXQUFWLEVBQXVCRSxRQUF2QixFQUFpQy9ILE9BQWpDLEVBQTBDO0FBQ3JFLFVBQUlzRyxNQUFKOztBQUNBLFVBQUl0RyxPQUFPLElBQUksSUFBZixFQUFxQjtBQUNuQkEsUUFBQUEsT0FBTyxHQUFHLEVBQVY7QUFDRDs7QUFDRCxVQUFJLENBQUNBLE9BQU8sQ0FBQ2dJLEVBQWIsRUFBaUI7QUFDZmhJLFFBQUFBLE9BQU8sQ0FBQ2dJLEVBQVIsR0FBYSxTQUFTLEtBQUsxRSxPQUFMLEVBQXRCO0FBQ0Q7O0FBQ0R0RCxNQUFBQSxPQUFPLENBQUM2SCxXQUFSLEdBQXNCQSxXQUF0QjtBQUNBLFdBQUtqRSxhQUFMLENBQW1CNUQsT0FBTyxDQUFDZ0ksRUFBM0IsSUFBaUNELFFBQWpDOztBQUNBLFdBQUs3RCxTQUFMLENBQWUsV0FBZixFQUE0QmxFLE9BQTVCOztBQUNBLFdBQUtvRCxFQUFMLENBQVFtRSxlQUFSLENBQXdCLFdBQXhCLEVBQXFDdkgsT0FBckM7QUFDQXNHLE1BQUFBLE1BQU0sR0FBRyxJQUFUO0FBQ0EsYUFBTztBQUNMMEIsUUFBQUEsRUFBRSxFQUFFaEksT0FBTyxDQUFDZ0ksRUFEUDtBQUVMQyxRQUFBQSxXQUFXLEVBQUUsdUJBQVk7QUFDdkIsaUJBQU8zQixNQUFNLENBQUMyQixXQUFQLENBQW1CakksT0FBTyxDQUFDZ0ksRUFBM0IsQ0FBUDtBQUNEO0FBSkksT0FBUDtBQU1ELEtBbkJEOztBQXFCQTNJLElBQUFBLE1BQU0sQ0FBQ2EsU0FBUCxDQUFpQitILFdBQWpCLEdBQStCLFVBQVVELEVBQVYsRUFBYztBQUMzQyxhQUFPLEtBQUtwRSxhQUFMLENBQW1Cb0UsRUFBbkIsQ0FBUDtBQUNBLFdBQUs1RSxFQUFMLENBQVFtRSxlQUFSLENBQXdCLGFBQXhCLEVBQXVDO0FBQUVTLFFBQUFBLEVBQUUsRUFBRUE7QUFBTixPQUF2QztBQUNBLGFBQU8sS0FBSzlELFNBQUwsQ0FBZSxhQUFmLEVBQThCO0FBQ25DOEQsUUFBQUEsRUFBRSxFQUFFQTtBQUQrQixPQUE5QixDQUFQO0FBR0QsS0FORDs7QUFRQTNJLElBQUFBLE1BQU0sQ0FBQ2EsU0FBUCxDQUFpQmdJLEtBQWpCLEdBQXlCLFVBQVVDLFdBQVYsRUFBdUI7QUFDOUMsVUFBSTdCLE1BQUosRUFBWThCLElBQVo7QUFDQUEsTUFBQUEsSUFBSSxHQUFHRCxXQUFXLElBQUksUUFBUSxLQUFLN0UsT0FBTCxFQUE5Qjs7QUFDQSxXQUFLWSxTQUFMLENBQWUsT0FBZixFQUF3QjtBQUN0QmlFLFFBQUFBLFdBQVcsRUFBRUM7QUFEUyxPQUF4Qjs7QUFHQTlCLE1BQUFBLE1BQU0sR0FBRyxJQUFUO0FBQ0EsYUFBTztBQUNMMEIsUUFBQUEsRUFBRSxFQUFFSSxJQURDO0FBRUxDLFFBQUFBLE1BQU0sRUFBRSxrQkFBWTtBQUNsQixpQkFBTy9CLE1BQU0sQ0FBQytCLE1BQVAsQ0FBY0QsSUFBZCxDQUFQO0FBQ0QsU0FKSTtBQUtMRSxRQUFBQSxLQUFLLEVBQUUsaUJBQVk7QUFDakIsaUJBQU9oQyxNQUFNLENBQUNnQyxLQUFQLENBQWFGLElBQWIsQ0FBUDtBQUNEO0FBUEksT0FBUDtBQVNELEtBaEJEOztBQWtCQS9JLElBQUFBLE1BQU0sQ0FBQ2EsU0FBUCxDQUFpQm1JLE1BQWpCLEdBQTBCLFVBQVVGLFdBQVYsRUFBdUI7QUFDL0MsYUFBTyxLQUFLakUsU0FBTCxDQUFlLFFBQWYsRUFBeUI7QUFDOUJpRSxRQUFBQSxXQUFXLEVBQUVBO0FBRGlCLE9BQXpCLENBQVA7QUFHRCxLQUpEOztBQU1BOUksSUFBQUEsTUFBTSxDQUFDYSxTQUFQLENBQWlCb0ksS0FBakIsR0FBeUIsVUFBVUgsV0FBVixFQUF1QjtBQUM5QyxhQUFPLEtBQUtqRSxTQUFMLENBQWUsT0FBZixFQUF3QjtBQUM3QmlFLFFBQUFBLFdBQVcsRUFBRUE7QUFEZ0IsT0FBeEIsQ0FBUDtBQUdELEtBSkQ7O0FBTUE5SSxJQUFBQSxNQUFNLENBQUNhLFNBQVAsQ0FBaUI4RyxHQUFqQixHQUF1QixVQUFVVCxTQUFWLEVBQXFCRSxZQUFyQixFQUFtQ3pHLE9BQW5DLEVBQTRDO0FBQ2pFLFVBQUlBLE9BQU8sSUFBSSxJQUFmLEVBQXFCO0FBQ25CQSxRQUFBQSxPQUFPLEdBQUcsRUFBVjtBQUNEOztBQUNEQSxNQUFBQSxPQUFPLENBQUMsWUFBRCxDQUFQLEdBQXdCdUcsU0FBeEI7QUFDQXZHLE1BQUFBLE9BQU8sQ0FBQ3lHLFlBQVIsR0FBdUJBLFlBQXZCO0FBQ0EsYUFBTyxLQUFLdkMsU0FBTCxDQUFlLEtBQWYsRUFBc0JsRSxPQUF0QixDQUFQO0FBQ0QsS0FQRDs7QUFTQVgsSUFBQUEsTUFBTSxDQUFDYSxTQUFQLENBQWlCK0csSUFBakIsR0FBd0IsVUFBVVYsU0FBVixFQUFxQkUsWUFBckIsRUFBbUN6RyxPQUFuQyxFQUE0QztBQUNsRSxVQUFJQSxPQUFPLElBQUksSUFBZixFQUFxQjtBQUNuQkEsUUFBQUEsT0FBTyxHQUFHLEVBQVY7QUFDRDs7QUFDREEsTUFBQUEsT0FBTyxDQUFDLFlBQUQsQ0FBUCxHQUF3QnVHLFNBQXhCO0FBQ0F2RyxNQUFBQSxPQUFPLENBQUN5RyxZQUFSLEdBQXVCQSxZQUF2QjtBQUNBLGFBQU8sS0FBS3ZDLFNBQUwsQ0FBZSxNQUFmLEVBQXVCbEUsT0FBdkIsQ0FBUDtBQUNELEtBUEQ7O0FBU0EsV0FBT1gsTUFBUDtBQUVELEdBbFZRLEVBQVQ7O0FBb1ZBRSxFQUFBQSxLQUFLLEdBQUc7QUFDTm9GLElBQUFBLFFBQVEsRUFBRTtBQUNSNEQsTUFBQUEsSUFBSSxFQUFFLEtBREU7QUFFUjNELE1BQUFBLElBQUksRUFBRSxLQUZFO0FBR1JDLE1BQUFBLElBQUksRUFBRSxLQUhFO0FBSVI0QyxNQUFBQSxpQkFBaUIsRUFBRSw2QkFBWTtBQUM3QixlQUFPLFNBQVA7QUFDRDtBQU5PLEtBREo7QUFTTm5CLElBQUFBLE1BQU0sRUFBRSxnQkFBVWUsR0FBVixFQUFlbUIsU0FBZixFQUEwQjtBQUNoQyxVQUFJQyxLQUFKLEVBQVdyRixFQUFYOztBQUNBLFVBQUlvRixTQUFTLElBQUksSUFBakIsRUFBdUI7QUFDckJBLFFBQUFBLFNBQVMsR0FBRyxDQUFDLFdBQUQsRUFBYyxXQUFkLENBQVo7QUFDRDs7QUFDREMsTUFBQUEsS0FBSyxHQUFHbEosS0FBSyxDQUFDbUosY0FBTixJQUF3QkMsU0FBaEM7QUFDQXZGLE1BQUFBLEVBQUUsR0FBRyxJQUFJcUYsS0FBSixDQUFVcEIsR0FBVixFQUFlbUIsU0FBZixDQUFMO0FBQ0EsYUFBTyxJQUFJbkosTUFBSixDQUFXK0QsRUFBWCxDQUFQO0FBQ0QsS0FqQks7QUFrQk53RixJQUFBQSxJQUFJLEVBQUUsY0FBVXhGLEVBQVYsRUFBYztBQUNsQixhQUFPLElBQUkvRCxNQUFKLENBQVcrRCxFQUFYLENBQVA7QUFDRCxLQXBCSztBQXFCTjlELElBQUFBLEtBQUssRUFBRUE7QUFyQkQsR0FBUjs7QUF3QkEsTUFBSSxPQUFPdUosT0FBUCxLQUFtQixXQUFuQixJQUFrQ0EsT0FBTyxLQUFLLElBQWxELEVBQXdEO0FBQ3REQSxJQUFBQSxPQUFPLENBQUN0SixLQUFSLEdBQWdCQSxLQUFoQjtBQUNEOztBQUVELE1BQUksT0FBT3VKLE1BQVAsS0FBa0IsV0FBbEIsSUFBaUNBLE1BQU0sS0FBSyxJQUFoRCxFQUFzRDtBQUNwRHZKLElBQUFBLEtBQUssQ0FBQzBGLFdBQU4sR0FBb0IsVUFBVThELFFBQVYsRUFBb0JDLENBQXBCLEVBQXVCO0FBQ3pDLGFBQU9GLE1BQU0sQ0FBQzdELFdBQVAsQ0FBbUIrRCxDQUFuQixFQUFzQkQsUUFBdEIsQ0FBUDtBQUNELEtBRkQ7O0FBR0F4SixJQUFBQSxLQUFLLENBQUNxSSxhQUFOLEdBQXNCLFVBQVVJLEVBQVYsRUFBYztBQUNsQyxhQUFPYyxNQUFNLENBQUNsQixhQUFQLENBQXFCSSxFQUFyQixDQUFQO0FBQ0QsS0FGRDs7QUFHQWMsSUFBQUEsTUFBTSxDQUFDdkosS0FBUCxHQUFlQSxLQUFmO0FBQ0QsR0FSRCxNQVFPLElBQUksQ0FBQ3NKLE9BQUwsRUFBYztBQUNuQkksSUFBQUEsSUFBSSxDQUFDMUosS0FBTCxHQUFhQSxLQUFiO0FBQ0Q7QUFFRixDQWhmRCxFQWdmR2tCLElBaGZIIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvLyBHZW5lcmF0ZWQgYnkgQ29mZmVlU2NyaXB0IDEuNy4xXG5cbi8qXG4gICBTdG9tcCBPdmVyIFdlYlNvY2tldCBodHRwOi8vd3d3LmptZXNuaWwubmV0L3N0b21wLXdlYnNvY2tldC9kb2MvIHwgQXBhY2hlIExpY2Vuc2UgVjIuMFxuXG4gICBDb3B5cmlnaHQgKEMpIDIwMTAtMjAxMyBbSmVmZiBNZXNuaWxdKGh0dHA6Ly9qbWVzbmlsLm5ldC8pXG4gICBDb3B5cmlnaHQgKEMpIDIwMTIgW0Z1c2VTb3VyY2UsIEluYy5dKGh0dHA6Ly9mdXNlc291cmNlLmNvbSlcbiAqL1xuXG4oZnVuY3Rpb24gKCkge1xuICB2YXIgQnl0ZSwgQ2xpZW50LCBGcmFtZSwgU3RvbXAsXG4gICAgX19oYXNQcm9wID0ge30uaGFzT3duUHJvcGVydHksXG4gICAgX19zbGljZSA9IFtdLnNsaWNlO1xuXG4gIEJ5dGUgPSB7XG4gICAgTEY6ICdcXHgwQScsXG4gICAgTlVMTDogJ1xceDAwJ1xuICB9O1xuXG4gIEZyYW1lID0gKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdW5tYXJzaGFsbFNpbmdsZTtcblxuICAgIGZ1bmN0aW9uIEZyYW1lKGNvbW1hbmQsIGhlYWRlcnMsIGJvZHkpIHtcbiAgICAgIHRoaXMuY29tbWFuZCA9IGNvbW1hbmQ7XG4gICAgICB0aGlzLmhlYWRlcnMgPSBoZWFkZXJzICE9IG51bGwgPyBoZWFkZXJzIDoge307XG4gICAgICB0aGlzLmJvZHkgPSBib2R5ICE9IG51bGwgPyBib2R5IDogJyc7XG4gICAgfVxuXG4gICAgRnJhbWUucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGxpbmVzLCBuYW1lLCBza2lwQ29udGVudExlbmd0aCwgdmFsdWUsIF9yZWY7XG4gICAgICBsaW5lcyA9IFt0aGlzLmNvbW1hbmRdO1xuICAgICAgc2tpcENvbnRlbnRMZW5ndGggPSB0aGlzLmhlYWRlcnNbJ2NvbnRlbnQtbGVuZ3RoJ10gPT09IGZhbHNlID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgaWYgKHNraXBDb250ZW50TGVuZ3RoKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLmhlYWRlcnNbJ2NvbnRlbnQtbGVuZ3RoJ107XG4gICAgICB9XG4gICAgICBfcmVmID0gdGhpcy5oZWFkZXJzO1xuICAgICAgZm9yIChuYW1lIGluIF9yZWYpIHtcbiAgICAgICAgaWYgKCFfX2hhc1Byb3AuY2FsbChfcmVmLCBuYW1lKSkgY29udGludWU7XG4gICAgICAgIHZhbHVlID0gX3JlZltuYW1lXTtcbiAgICAgICAgbGluZXMucHVzaChcIlwiICsgbmFtZSArIFwiOlwiICsgdmFsdWUpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuYm9keSAmJiAhc2tpcENvbnRlbnRMZW5ndGgpIHtcbiAgICAgICAgbGluZXMucHVzaChcImNvbnRlbnQtbGVuZ3RoOlwiICsgKEZyYW1lLnNpemVPZlVURjgodGhpcy5ib2R5KSkpO1xuICAgICAgfVxuICAgICAgbGluZXMucHVzaChCeXRlLkxGICsgdGhpcy5ib2R5KTtcbiAgICAgIHJldHVybiBsaW5lcy5qb2luKEJ5dGUuTEYpO1xuICAgIH07XG5cbiAgICBGcmFtZS5zaXplT2ZVVEY4ID0gZnVuY3Rpb24gKHMpIHtcbiAgICAgIGlmIChzKSB7XG4gICAgICAgIHJldHVybiBlbmNvZGVVUkkocykubWF0Y2goLyUuLnwuL2cpLmxlbmd0aDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB1bm1hcnNoYWxsU2luZ2xlID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIHZhciBib2R5LCBjaHIsIGNvbW1hbmQsIGRpdmlkZXIsIGhlYWRlckxpbmVzLCBoZWFkZXJzLCBpLCBpZHgsIGxlbiwgbGluZSwgc3RhcnQsIHRyaW0sIF9pLCBfaiwgX2xlbiwgX3JlZiwgX3JlZjE7XG4gICAgICBkaXZpZGVyID0gZGF0YS5zZWFyY2goUmVnRXhwKFwiXCIgKyBCeXRlLkxGICsgQnl0ZS5MRikpO1xuICAgICAgaGVhZGVyTGluZXMgPSBkYXRhLnN1YnN0cmluZygwLCBkaXZpZGVyKS5zcGxpdChCeXRlLkxGKTtcbiAgICAgIGNvbW1hbmQgPSBoZWFkZXJMaW5lcy5zaGlmdCgpO1xuICAgICAgaGVhZGVycyA9IHt9O1xuICAgICAgdHJpbSA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgICAgICAgcmV0dXJuIHN0ci5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLCAnJyk7XG4gICAgICB9O1xuICAgICAgX3JlZiA9IGhlYWRlckxpbmVzLnJldmVyc2UoKTtcbiAgICAgIGZvciAoX2kgPSAwLCBfbGVuID0gX3JlZi5sZW5ndGg7IF9pIDwgX2xlbjsgX2krKykge1xuICAgICAgICBsaW5lID0gX3JlZltfaV07XG4gICAgICAgIGlkeCA9IGxpbmUuaW5kZXhPZignOicpO1xuICAgICAgICBoZWFkZXJzW3RyaW0obGluZS5zdWJzdHJpbmcoMCwgaWR4KSldID0gdHJpbShsaW5lLnN1YnN0cmluZyhpZHggKyAxKSk7XG4gICAgICB9XG4gICAgICBib2R5ID0gJyc7XG4gICAgICBzdGFydCA9IGRpdmlkZXIgKyAyO1xuICAgICAgaWYgKGhlYWRlcnNbJ2NvbnRlbnQtbGVuZ3RoJ10pIHtcbiAgICAgICAgbGVuID0gcGFyc2VJbnQoaGVhZGVyc1snY29udGVudC1sZW5ndGgnXSk7XG4gICAgICAgIGJvZHkgPSAoJycgKyBkYXRhKS5zdWJzdHJpbmcoc3RhcnQsIHN0YXJ0ICsgbGVuKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNociA9IG51bGw7XG4gICAgICAgIGZvciAoaSA9IF9qID0gc3RhcnQsIF9yZWYxID0gZGF0YS5sZW5ndGg7IHN0YXJ0IDw9IF9yZWYxID8gX2ogPCBfcmVmMSA6IF9qID4gX3JlZjE7IGkgPSBzdGFydCA8PSBfcmVmMSA/ICsrX2ogOiAtLV9qKSB7XG4gICAgICAgICAgY2hyID0gZGF0YS5jaGFyQXQoaSk7XG4gICAgICAgICAgaWYgKGNociA9PT0gQnl0ZS5OVUxMKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgYm9keSArPSBjaHI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgRnJhbWUoY29tbWFuZCwgaGVhZGVycywgYm9keSk7XG4gICAgfTtcblxuICAgIEZyYW1lLnVubWFyc2hhbGwgPSBmdW5jdGlvbiAoZGF0YXMpIHtcbiAgICAgIHZhciBmcmFtZSwgZnJhbWVzLCBsYXN0X2ZyYW1lLCByO1xuICAgICAgZnJhbWVzID0gZGF0YXMuc3BsaXQoUmVnRXhwKFwiXCIgKyBCeXRlLk5VTEwgKyBCeXRlLkxGICsgXCIqXCIpKTtcbiAgICAgIHIgPSB7XG4gICAgICAgIGZyYW1lczogW10sXG4gICAgICAgIHBhcnRpYWw6ICcnXG4gICAgICB9O1xuICAgICAgci5mcmFtZXMgPSAoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2ksIF9sZW4sIF9yZWYsIF9yZXN1bHRzO1xuICAgICAgICBfcmVmID0gZnJhbWVzLnNsaWNlKDAsIC0xKTtcbiAgICAgICAgX3Jlc3VsdHMgPSBbXTtcbiAgICAgICAgZm9yIChfaSA9IDAsIF9sZW4gPSBfcmVmLmxlbmd0aDsgX2kgPCBfbGVuOyBfaSsrKSB7XG4gICAgICAgICAgZnJhbWUgPSBfcmVmW19pXTtcbiAgICAgICAgICBfcmVzdWx0cy5wdXNoKHVubWFyc2hhbGxTaW5nbGUoZnJhbWUpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3Jlc3VsdHM7XG4gICAgICB9KSgpO1xuICAgICAgbGFzdF9mcmFtZSA9IGZyYW1lcy5zbGljZSgtMSlbMF07XG4gICAgICBpZiAobGFzdF9mcmFtZSA9PT0gQnl0ZS5MRiB8fCAobGFzdF9mcmFtZS5zZWFyY2goUmVnRXhwKFwiXCIgKyBCeXRlLk5VTEwgKyBCeXRlLkxGICsgXCIqJFwiKSkpICE9PSAtMSkge1xuICAgICAgICByLmZyYW1lcy5wdXNoKHVubWFyc2hhbGxTaW5nbGUobGFzdF9mcmFtZSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgci5wYXJ0aWFsID0gbGFzdF9mcmFtZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByO1xuICAgIH07XG5cbiAgICBGcmFtZS5tYXJzaGFsbCA9IGZ1bmN0aW9uIChjb21tYW5kLCBoZWFkZXJzLCBib2R5KSB7XG4gICAgICB2YXIgZnJhbWU7XG4gICAgICBmcmFtZSA9IG5ldyBGcmFtZShjb21tYW5kLCBoZWFkZXJzLCBib2R5KTtcbiAgICAgIHJldHVybiBmcmFtZS50b1N0cmluZygpICsgQnl0ZS5OVUxMO1xuICAgIH07XG5cbiAgICByZXR1cm4gRnJhbWU7XG5cbiAgfSkoKTtcblxuICBDbGllbnQgPSAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBub3c7XG5cbiAgICBmdW5jdGlvbiBDbGllbnQod3MpIHtcbiAgICAgIHRoaXMud3MgPSB3cztcbiAgICAgIHRoaXMud3MuYmluYXJ5VHlwZSA9IFwiYXJyYXlidWZmZXJcIjtcbiAgICAgIHRoaXMuY291bnRlciA9IDA7XG4gICAgICB0aGlzLmNvbm5lY3RlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5oZWFydGJlYXQgPSB7XG4gICAgICAgIG91dGdvaW5nOiAxMDAwMCxcbiAgICAgICAgaW5jb21pbmc6IDEwMDAwXG4gICAgICB9O1xuICAgICAgdGhpcy5tYXhXZWJTb2NrZXRGcmFtZVNpemUgPSAxNiAqIDEwMjQ7XG4gICAgICB0aGlzLnN1YnNjcmlwdGlvbnMgPSB7fTtcbiAgICAgIHRoaXMucGFydGlhbERhdGEgPSAnJztcbiAgICB9XG5cbiAgICBDbGllbnQucHJvdG90eXBlLmRlYnVnID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgIHZhciBfcmVmO1xuICAgICAgLy8gcmV0dXJuIHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgd2luZG93ICE9PSBudWxsID8gKF9yZWYgPSB3aW5kb3cuY29uc29sZSkgIT0gbnVsbCA/IF9yZWYubG9nKG1lc3NhZ2UpIDogdm9pZCAwIDogdm9pZCAwO1xuICAgIH07XG5cbiAgICBub3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoRGF0ZS5ub3cpIHtcbiAgICAgICAgcmV0dXJuIERhdGUubm93KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbmV3IERhdGUoKS52YWx1ZU9mO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBDbGllbnQucHJvdG90eXBlLl90cmFuc21pdCA9IGZ1bmN0aW9uIChjb21tYW5kLCBoZWFkZXJzLCBib2R5KSB7XG4gICAgICB2YXIgb3V0O1xuICAgICAgb3V0ID0gRnJhbWUubWFyc2hhbGwoY29tbWFuZCwgaGVhZGVycywgYm9keSk7XG4gICAgICBpZiAodHlwZW9mIHRoaXMuZGVidWcgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICB0aGlzLmRlYnVnKFwiPj4+IFwiICsgb3V0KTtcbiAgICAgIH1cbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIGlmIChvdXQubGVuZ3RoID4gdGhpcy5tYXhXZWJTb2NrZXRGcmFtZVNpemUpIHtcbiAgICAgICAgICB0aGlzLndzLnNlbmQob3V0LnN1YnN0cmluZygwLCB0aGlzLm1heFdlYlNvY2tldEZyYW1lU2l6ZSkpO1xuICAgICAgICAgIG91dCA9IG91dC5zdWJzdHJpbmcodGhpcy5tYXhXZWJTb2NrZXRGcmFtZVNpemUpO1xuICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5kZWJ1ZyA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICB0aGlzLmRlYnVnKFwicmVtYWluaW5nID0gXCIgKyBvdXQubGVuZ3RoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMud3Muc2VuZChvdXQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIENsaWVudC5wcm90b3R5cGUuX3NldHVwSGVhcnRiZWF0ID0gZnVuY3Rpb24gKGhlYWRlcnMpIHtcbiAgICAgIHZhciBzZXJ2ZXJJbmNvbWluZywgc2VydmVyT3V0Z29pbmcsIHR0bCwgdiwgX3JlZiwgX3JlZjE7XG4gICAgICBpZiAoKF9yZWYgPSBoZWFkZXJzLnZlcnNpb24pICE9PSBTdG9tcC5WRVJTSU9OUy5WMV8xICYmIF9yZWYgIT09IFN0b21wLlZFUlNJT05TLlYxXzIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgX3JlZjEgPSAoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2ksIF9sZW4sIF9yZWYxLCBfcmVzdWx0cztcbiAgICAgICAgX3JlZjEgPSBoZWFkZXJzWydoZWFydC1iZWF0J10uc3BsaXQoXCIsXCIpO1xuICAgICAgICBfcmVzdWx0cyA9IFtdO1xuICAgICAgICBmb3IgKF9pID0gMCwgX2xlbiA9IF9yZWYxLmxlbmd0aDsgX2kgPCBfbGVuOyBfaSsrKSB7XG4gICAgICAgICAgdiA9IF9yZWYxW19pXTtcbiAgICAgICAgICBfcmVzdWx0cy5wdXNoKHBhcnNlSW50KHYpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3Jlc3VsdHM7XG4gICAgICB9KSgpLCBzZXJ2ZXJPdXRnb2luZyA9IF9yZWYxWzBdLCBzZXJ2ZXJJbmNvbWluZyA9IF9yZWYxWzFdO1xuICAgICAgaWYgKCEodGhpcy5oZWFydGJlYXQub3V0Z29pbmcgPT09IDAgfHwgc2VydmVySW5jb21pbmcgPT09IDApKSB7XG4gICAgICAgIHR0bCA9IE1hdGgubWF4KHRoaXMuaGVhcnRiZWF0Lm91dGdvaW5nLCBzZXJ2ZXJJbmNvbWluZyk7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5kZWJ1ZyA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgdGhpcy5kZWJ1ZyhcInNlbmQgUElORyBldmVyeSBcIiArIHR0bCArIFwibXNcIik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5waW5nZXIgPSBTdG9tcC5zZXRJbnRlcnZhbCh0dGwsIChmdW5jdGlvbiAoX3RoaXMpIHtcbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMud3Muc2VuZChCeXRlLkxGKTtcbiAgICAgICAgICAgIHJldHVybiB0eXBlb2YgX3RoaXMuZGVidWcgPT09IFwiZnVuY3Rpb25cIiA/IF90aGlzLmRlYnVnKFwiPj4+IFBJTkdcIikgOiB2b2lkIDA7XG4gICAgICAgICAgfTtcbiAgICAgICAgfSkodGhpcykpO1xuICAgICAgfVxuICAgICAgaWYgKCEodGhpcy5oZWFydGJlYXQuaW5jb21pbmcgPT09IDAgfHwgc2VydmVyT3V0Z29pbmcgPT09IDApKSB7XG4gICAgICAgIHR0bCA9IE1hdGgubWF4KHRoaXMuaGVhcnRiZWF0LmluY29taW5nLCBzZXJ2ZXJPdXRnb2luZyk7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5kZWJ1ZyA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgdGhpcy5kZWJ1ZyhcImNoZWNrIFBPTkcgZXZlcnkgXCIgKyB0dGwgKyBcIm1zXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnBvbmdlciA9IFN0b21wLnNldEludGVydmFsKHR0bCwgKGZ1bmN0aW9uIChfdGhpcykge1xuICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgZGVsdGE7XG4gICAgICAgICAgICBkZWx0YSA9IG5vdygpIC0gX3RoaXMuc2VydmVyQWN0aXZpdHk7XG4gICAgICAgICAgICBpZiAoZGVsdGEgPiB0dGwgKiAyKSB7XG4gICAgICAgICAgICAgIGlmICh0eXBlb2YgX3RoaXMuZGVidWcgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgIF90aGlzLmRlYnVnKFwiZGlkIG5vdCByZWNlaXZlIHNlcnZlciBhY3Rpdml0eSBmb3IgdGhlIGxhc3QgXCIgKyBkZWx0YSArIFwibXNcIik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLndzLmNsb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgfSkodGhpcykpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBDbGllbnQucHJvdG90eXBlLl9wYXJzZUNvbm5lY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgYXJncywgY29ubmVjdENhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCBoZWFkZXJzO1xuICAgICAgYXJncyA9IDEgPD0gYXJndW1lbnRzLmxlbmd0aCA/IF9fc2xpY2UuY2FsbChhcmd1bWVudHMsIDApIDogW107XG4gICAgICBoZWFkZXJzID0ge307XG4gICAgICBzd2l0Y2ggKGFyZ3MubGVuZ3RoKSB7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICBoZWFkZXJzID0gYXJnc1swXSwgY29ubmVjdENhbGxiYWNrID0gYXJnc1sxXTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIGlmIChhcmdzWzFdIGluc3RhbmNlb2YgRnVuY3Rpb24pIHtcbiAgICAgICAgICAgIGhlYWRlcnMgPSBhcmdzWzBdLCBjb25uZWN0Q2FsbGJhY2sgPSBhcmdzWzFdLCBlcnJvckNhbGxiYWNrID0gYXJnc1syXTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaGVhZGVycy5sb2dpbiA9IGFyZ3NbMF0sIGhlYWRlcnMucGFzc2NvZGUgPSBhcmdzWzFdLCBjb25uZWN0Q2FsbGJhY2sgPSBhcmdzWzJdO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICAgIGhlYWRlcnMubG9naW4gPSBhcmdzWzBdLCBoZWFkZXJzLnBhc3Njb2RlID0gYXJnc1sxXSwgY29ubmVjdENhbGxiYWNrID0gYXJnc1syXSwgZXJyb3JDYWxsYmFjayA9IGFyZ3NbM107XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgaGVhZGVycy5sb2dpbiA9IGFyZ3NbMF0sIGhlYWRlcnMucGFzc2NvZGUgPSBhcmdzWzFdLCBjb25uZWN0Q2FsbGJhY2sgPSBhcmdzWzJdLCBlcnJvckNhbGxiYWNrID0gYXJnc1szXSwgaGVhZGVycy5ob3N0ID0gYXJnc1s0XTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBbaGVhZGVycywgY29ubmVjdENhbGxiYWNrLCBlcnJvckNhbGxiYWNrXTtcbiAgICB9O1xuXG4gICAgQ2xpZW50LnByb3RvdHlwZS5jb25uZWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGFyZ3MsIGVycm9yQ2FsbGJhY2ssIGhlYWRlcnMsIG91dDtcbiAgICAgIGFyZ3MgPSAxIDw9IGFyZ3VtZW50cy5sZW5ndGggPyBfX3NsaWNlLmNhbGwoYXJndW1lbnRzLCAwKSA6IFtdO1xuICAgICAgb3V0ID0gdGhpcy5fcGFyc2VDb25uZWN0LmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgaGVhZGVycyA9IG91dFswXSwgdGhpcy5jb25uZWN0Q2FsbGJhY2sgPSBvdXRbMV0sIGVycm9yQ2FsbGJhY2sgPSBvdXRbMl07XG4gICAgICBpZiAodHlwZW9mIHRoaXMuZGVidWcgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICB0aGlzLmRlYnVnKFwiT3BlbmluZyBXZWIgU29ja2V0Li4uXCIpO1xuICAgICAgfVxuICAgICAgdGhpcy53cy5vbm1lc3NhZ2UgPSAoZnVuY3Rpb24gKF90aGlzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgICAgLy8gX3RoaXMuZGVidWcoXCJ3cy5vbm1lc3NhZ2VcIik7XG4gICAgICAgICAgdmFyIGFyciwgYywgY2xpZW50LCBkYXRhLCBmcmFtZSwgbWVzc2FnZUlELCBvbnJlY2VpdmUsIHN1YnNjcmlwdGlvbiwgdW5tYXJzaGFsbGVkRGF0YSwgX2ksIF9sZW4sIF9yZWYsIF9yZXN1bHRzO1xuICAgICAgICAgIGRhdGEgPSB0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnICYmIGV2dC5kYXRhIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIgPyAoYXJyID0gbmV3IFVpbnQ4QXJyYXkoZXZ0LmRhdGEpLCB0eXBlb2YgX3RoaXMuZGVidWcgPT09IFwiZnVuY3Rpb25cIiA/IF90aGlzLmRlYnVnKFwiLS0tIGdvdCBkYXRhIGxlbmd0aDogXCIgKyBhcnIubGVuZ3RoKSA6IHZvaWQgMCwgKChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX2ksIF9sZW4sIF9yZXN1bHRzO1xuICAgICAgICAgICAgX3Jlc3VsdHMgPSBbXTtcbiAgICAgICAgICAgIGZvciAoX2kgPSAwLCBfbGVuID0gYXJyLmxlbmd0aDsgX2kgPCBfbGVuOyBfaSsrKSB7XG4gICAgICAgICAgICAgIGMgPSBhcnJbX2ldO1xuICAgICAgICAgICAgICBfcmVzdWx0cy5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoYykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIF9yZXN1bHRzO1xuICAgICAgICAgIH0pKCkpLmpvaW4oJycpKSA6IGV2dC5kYXRhO1xuICAgICAgICAgIF90aGlzLnNlcnZlckFjdGl2aXR5ID0gbm93KCk7XG4gICAgICAgICAgaWYgKGRhdGEgPT09IEJ5dGUuTEYpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgX3RoaXMuZGVidWcgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICBfdGhpcy5kZWJ1ZyhcIjw8PCBQT05HXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodHlwZW9mIF90aGlzLmRlYnVnID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIC8vIF90aGlzLmRlYnVnKFwiPDw8IFwiICsgZGF0YSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHVubWFyc2hhbGxlZERhdGEgPSBGcmFtZS51bm1hcnNoYWxsKF90aGlzLnBhcnRpYWxEYXRhICsgZGF0YSk7XG4gICAgICAgICAgX3RoaXMucGFydGlhbERhdGEgPSB1bm1hcnNoYWxsZWREYXRhLnBhcnRpYWw7XG4gICAgICAgICAgX3JlZiA9IHVubWFyc2hhbGxlZERhdGEuZnJhbWVzO1xuICAgICAgICAgIF9yZXN1bHRzID0gW107XG4gICAgICAgICAgZm9yIChfaSA9IDAsIF9sZW4gPSBfcmVmLmxlbmd0aDsgX2kgPCBfbGVuOyBfaSsrKSB7XG4gICAgICAgICAgICBmcmFtZSA9IF9yZWZbX2ldO1xuICAgICAgICAgICAgc3dpdGNoIChmcmFtZS5jb21tYW5kKSB7XG4gICAgICAgICAgICAgIGNhc2UgXCJDT05ORUNURURcIjpcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIF90aGlzLmRlYnVnID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgIF90aGlzLmRlYnVnKFwiY29ubmVjdGVkIHRvIHNlcnZlciBcIiArIGZyYW1lLmhlYWRlcnMuc2VydmVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgX3RoaXMuY29ubmVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBfdGhpcy5fc2V0dXBIZWFydGJlYXQoZnJhbWUuaGVhZGVycyk7XG4gICAgICAgICAgICAgICAgX3Jlc3VsdHMucHVzaCh0eXBlb2YgX3RoaXMuY29ubmVjdENhbGxiYWNrID09PSBcImZ1bmN0aW9uXCIgPyBfdGhpcy5jb25uZWN0Q2FsbGJhY2soZnJhbWUpIDogdm9pZCAwKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBcIk1FU1NBR0VcIjpcbiAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb24gPSBmcmFtZS5oZWFkZXJzLnN1YnNjcmlwdGlvbjtcbiAgICAgICAgICAgICAgICBvbnJlY2VpdmUgPSBfdGhpcy5zdWJzY3JpcHRpb25zW3N1YnNjcmlwdGlvbl0gfHwgX3RoaXMub25yZWNlaXZlO1xuICAgICAgICAgICAgICAgIGlmIChvbnJlY2VpdmUpIHtcbiAgICAgICAgICAgICAgICAgIGNsaWVudCA9IF90aGlzO1xuICAgICAgICAgICAgICAgICAgbWVzc2FnZUlEID0gZnJhbWUuaGVhZGVyc1tcIm1lc3NhZ2UtaWRcIl07XG4gICAgICAgICAgICAgICAgICBmcmFtZS5hY2sgPSBmdW5jdGlvbiAoaGVhZGVycykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaGVhZGVycyA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgaGVhZGVycyA9IHt9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjbGllbnQuYWNrKG1lc3NhZ2VJRCwgc3Vic2NyaXB0aW9uLCBoZWFkZXJzKTtcbiAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICBmcmFtZS5uYWNrID0gZnVuY3Rpb24gKGhlYWRlcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhlYWRlcnMgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnMgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2xpZW50Lm5hY2sobWVzc2FnZUlELCBzdWJzY3JpcHRpb24sIGhlYWRlcnMpO1xuICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgIF9yZXN1bHRzLnB1c2gob25yZWNlaXZlKGZyYW1lKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIF9yZXN1bHRzLnB1c2godHlwZW9mIF90aGlzLmRlYnVnID09PSBcImZ1bmN0aW9uXCIgPyBfdGhpcy5kZWJ1ZyhcIlVuaGFuZGxlZCByZWNlaXZlZCBNRVNTQUdFOiBcIiArIGZyYW1lKSA6IHZvaWQgMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIFwiUkVDRUlQVFwiOlxuICAgICAgICAgICAgICAgIF9yZXN1bHRzLnB1c2godHlwZW9mIF90aGlzLm9ucmVjZWlwdCA9PT0gXCJmdW5jdGlvblwiID8gX3RoaXMub25yZWNlaXB0KGZyYW1lKSA6IHZvaWQgMCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgXCJFUlJPUlwiOlxuICAgICAgICAgICAgICAgIF9yZXN1bHRzLnB1c2godHlwZW9mIGVycm9yQ2FsbGJhY2sgPT09IFwiZnVuY3Rpb25cIiA/IGVycm9yQ2FsbGJhY2soZnJhbWUpIDogdm9pZCAwKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBfcmVzdWx0cy5wdXNoKHR5cGVvZiBfdGhpcy5kZWJ1ZyA9PT0gXCJmdW5jdGlvblwiID8gX3RoaXMuZGVidWcoXCJVbmhhbmRsZWQgZnJhbWU6IFwiICsgZnJhbWUpIDogdm9pZCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIF9yZXN1bHRzO1xuICAgICAgICB9O1xuICAgICAgfSkodGhpcyk7XG4gICAgICB0aGlzLndzLm9uY2xvc2UgPSAoZnVuY3Rpb24gKF90aGlzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyIG1zZztcbiAgICAgICAgICBtc2cgPSBcIldob29wcyEgTG9zdCBjb25uZWN0aW9uIHRvIFwiICsgX3RoaXMud3MudXJsO1xuICAgICAgICAgIGlmICh0eXBlb2YgX3RoaXMuZGVidWcgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgX3RoaXMuZGVidWcobXNnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgX3RoaXMuX2NsZWFuVXAoKTtcbiAgICAgICAgICBfdGhpcy53cy5vbkN1c3RvbU1lc3NhZ2UoXCJPTkNMT1NFXCIpO1xuICAgICAgICAgIHJldHVybiB0eXBlb2YgZXJyb3JDYWxsYmFjayA9PT0gXCJmdW5jdGlvblwiID8gZXJyb3JDYWxsYmFjayhtc2cpIDogdm9pZCAwO1xuICAgICAgICB9O1xuICAgICAgfSkodGhpcyk7XG4gICAgICByZXR1cm4gdGhpcy53cy5vbm9wZW4gPSAoZnVuY3Rpb24gKF90aGlzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBfdGhpcy5kZWJ1ZyA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICBfdGhpcy5kZWJ1ZygnV2ViIFNvY2tldCBPcGVuZWQuLi4nKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaGVhZGVyc1tcImFjY2VwdC12ZXJzaW9uXCJdID0gU3RvbXAuVkVSU0lPTlMuc3VwcG9ydGVkVmVyc2lvbnMoKTtcbiAgICAgICAgICBoZWFkZXJzW1wiaGVhcnQtYmVhdFwiXSA9IFtfdGhpcy5oZWFydGJlYXQub3V0Z29pbmcsIF90aGlzLmhlYXJ0YmVhdC5pbmNvbWluZ10uam9pbignLCcpO1xuICAgICAgICAgIHJldHVybiBfdGhpcy5fdHJhbnNtaXQoXCJDT05ORUNUXCIsIGhlYWRlcnMpO1xuICAgICAgICB9O1xuICAgICAgfSkodGhpcyk7XG4gICAgfTtcblxuICAgIENsaWVudC5wcm90b3R5cGUuZGlzY29ubmVjdCA9IGZ1bmN0aW9uIChkaXNjb25uZWN0Q2FsbGJhY2ssIGhlYWRlcnMpIHtcbiAgICAgIF90aGlzLmRlYnVnKFwid3MuZGlzY29ubmVjdCEhXCIpO1xuICAgICAgaWYgKGhlYWRlcnMgPT0gbnVsbCkge1xuICAgICAgICBoZWFkZXJzID0ge307XG4gICAgICB9XG4gICAgICB0aGlzLl90cmFuc21pdChcIkRJU0NPTk5FQ1RcIiwgaGVhZGVycyk7XG4gICAgICB0aGlzLndzLm9uY2xvc2UgPSBudWxsO1xuICAgICAgdGhpcy53cy5jbG9zZSgpO1xuICAgICAgdGhpcy5fY2xlYW5VcCgpO1xuICAgICAgcmV0dXJuIHR5cGVvZiBkaXNjb25uZWN0Q2FsbGJhY2sgPT09IFwiZnVuY3Rpb25cIiA/IGRpc2Nvbm5lY3RDYWxsYmFjaygpIDogdm9pZCAwO1xuICAgIH07XG5cbiAgICBDbGllbnQucHJvdG90eXBlLl9jbGVhblVwID0gZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5jb25uZWN0ZWQgPSBmYWxzZTtcbiAgICAgIGlmICh0aGlzLnBpbmdlcikge1xuICAgICAgICBTdG9tcC5jbGVhckludGVydmFsKHRoaXMucGluZ2VyKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnBvbmdlcikge1xuICAgICAgICByZXR1cm4gU3RvbXAuY2xlYXJJbnRlcnZhbCh0aGlzLnBvbmdlcik7XG4gICAgICB9XG4gICAgfTtcblxuICAgIENsaWVudC5wcm90b3R5cGUuc2VuZCA9IGZ1bmN0aW9uIChkZXN0aW5hdGlvbiwgaGVhZGVycywgYm9keSkge1xuICAgICAgaWYgKGhlYWRlcnMgPT0gbnVsbCkge1xuICAgICAgICBoZWFkZXJzID0ge307XG4gICAgICB9XG4gICAgICBpZiAoYm9keSA9PSBudWxsKSB7XG4gICAgICAgIGJvZHkgPSAnJztcbiAgICAgIH1cbiAgICAgIGhlYWRlcnMuZGVzdGluYXRpb24gPSBkZXN0aW5hdGlvbjtcbiAgICAgIHJldHVybiB0aGlzLl90cmFuc21pdChcIlNFTkRcIiwgaGVhZGVycywgYm9keSk7XG4gICAgfTtcblxuICAgIENsaWVudC5wcm90b3R5cGUuc3Vic2NyaWJlID0gZnVuY3Rpb24gKGRlc3RpbmF0aW9uLCBjYWxsYmFjaywgaGVhZGVycykge1xuICAgICAgdmFyIGNsaWVudDtcbiAgICAgIGlmIChoZWFkZXJzID09IG51bGwpIHtcbiAgICAgICAgaGVhZGVycyA9IHt9O1xuICAgICAgfVxuICAgICAgaWYgKCFoZWFkZXJzLmlkKSB7XG4gICAgICAgIGhlYWRlcnMuaWQgPSBcInN1Yi1cIiArIHRoaXMuY291bnRlcisrO1xuICAgICAgfVxuICAgICAgaGVhZGVycy5kZXN0aW5hdGlvbiA9IGRlc3RpbmF0aW9uO1xuICAgICAgdGhpcy5zdWJzY3JpcHRpb25zW2hlYWRlcnMuaWRdID0gY2FsbGJhY2s7XG4gICAgICB0aGlzLl90cmFuc21pdChcIlNVQlNDUklCRVwiLCBoZWFkZXJzKTtcbiAgICAgIHRoaXMud3Mub25DdXN0b21NZXNzYWdlKFwiU1VCU0NSSUJFXCIsIGhlYWRlcnMpO1xuICAgICAgY2xpZW50ID0gdGhpcztcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlkOiBoZWFkZXJzLmlkLFxuICAgICAgICB1bnN1YnNjcmliZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBjbGllbnQudW5zdWJzY3JpYmUoaGVhZGVycy5pZCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfTtcblxuICAgIENsaWVudC5wcm90b3R5cGUudW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgIGRlbGV0ZSB0aGlzLnN1YnNjcmlwdGlvbnNbaWRdO1xuICAgICAgdGhpcy53cy5vbkN1c3RvbU1lc3NhZ2UoXCJVTlNVQlNDUklCRVwiLCB7IGlkOiBpZCB9KTtcbiAgICAgIHJldHVybiB0aGlzLl90cmFuc21pdChcIlVOU1VCU0NSSUJFXCIsIHtcbiAgICAgICAgaWQ6IGlkXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgQ2xpZW50LnByb3RvdHlwZS5iZWdpbiA9IGZ1bmN0aW9uICh0cmFuc2FjdGlvbikge1xuICAgICAgdmFyIGNsaWVudCwgdHhpZDtcbiAgICAgIHR4aWQgPSB0cmFuc2FjdGlvbiB8fCBcInR4LVwiICsgdGhpcy5jb3VudGVyKys7XG4gICAgICB0aGlzLl90cmFuc21pdChcIkJFR0lOXCIsIHtcbiAgICAgICAgdHJhbnNhY3Rpb246IHR4aWRcbiAgICAgIH0pO1xuICAgICAgY2xpZW50ID0gdGhpcztcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlkOiB0eGlkLFxuICAgICAgICBjb21taXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gY2xpZW50LmNvbW1pdCh0eGlkKTtcbiAgICAgICAgfSxcbiAgICAgICAgYWJvcnQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gY2xpZW50LmFib3J0KHR4aWQpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH07XG5cbiAgICBDbGllbnQucHJvdG90eXBlLmNvbW1pdCA9IGZ1bmN0aW9uICh0cmFuc2FjdGlvbikge1xuICAgICAgcmV0dXJuIHRoaXMuX3RyYW5zbWl0KFwiQ09NTUlUXCIsIHtcbiAgICAgICAgdHJhbnNhY3Rpb246IHRyYW5zYWN0aW9uXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgQ2xpZW50LnByb3RvdHlwZS5hYm9ydCA9IGZ1bmN0aW9uICh0cmFuc2FjdGlvbikge1xuICAgICAgcmV0dXJuIHRoaXMuX3RyYW5zbWl0KFwiQUJPUlRcIiwge1xuICAgICAgICB0cmFuc2FjdGlvbjogdHJhbnNhY3Rpb25cbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBDbGllbnQucHJvdG90eXBlLmFjayA9IGZ1bmN0aW9uIChtZXNzYWdlSUQsIHN1YnNjcmlwdGlvbiwgaGVhZGVycykge1xuICAgICAgaWYgKGhlYWRlcnMgPT0gbnVsbCkge1xuICAgICAgICBoZWFkZXJzID0ge307XG4gICAgICB9XG4gICAgICBoZWFkZXJzW1wibWVzc2FnZS1pZFwiXSA9IG1lc3NhZ2VJRDtcbiAgICAgIGhlYWRlcnMuc3Vic2NyaXB0aW9uID0gc3Vic2NyaXB0aW9uO1xuICAgICAgcmV0dXJuIHRoaXMuX3RyYW5zbWl0KFwiQUNLXCIsIGhlYWRlcnMpO1xuICAgIH07XG5cbiAgICBDbGllbnQucHJvdG90eXBlLm5hY2sgPSBmdW5jdGlvbiAobWVzc2FnZUlELCBzdWJzY3JpcHRpb24sIGhlYWRlcnMpIHtcbiAgICAgIGlmIChoZWFkZXJzID09IG51bGwpIHtcbiAgICAgICAgaGVhZGVycyA9IHt9O1xuICAgICAgfVxuICAgICAgaGVhZGVyc1tcIm1lc3NhZ2UtaWRcIl0gPSBtZXNzYWdlSUQ7XG4gICAgICBoZWFkZXJzLnN1YnNjcmlwdGlvbiA9IHN1YnNjcmlwdGlvbjtcbiAgICAgIHJldHVybiB0aGlzLl90cmFuc21pdChcIk5BQ0tcIiwgaGVhZGVycyk7XG4gICAgfTtcblxuICAgIHJldHVybiBDbGllbnQ7XG5cbiAgfSkoKTtcblxuICBTdG9tcCA9IHtcbiAgICBWRVJTSU9OUzoge1xuICAgICAgVjFfMDogJzEuMCcsXG4gICAgICBWMV8xOiAnMS4xJyxcbiAgICAgIFYxXzI6ICcxLjInLFxuICAgICAgc3VwcG9ydGVkVmVyc2lvbnM6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICcxLjEsMS4wJztcbiAgICAgIH1cbiAgICB9LFxuICAgIGNsaWVudDogZnVuY3Rpb24gKHVybCwgcHJvdG9jb2xzKSB7XG4gICAgICB2YXIga2xhc3MsIHdzO1xuICAgICAgaWYgKHByb3RvY29scyA9PSBudWxsKSB7XG4gICAgICAgIHByb3RvY29scyA9IFsndjEwLnN0b21wJywgJ3YxMS5zdG9tcCddO1xuICAgICAgfVxuICAgICAga2xhc3MgPSBTdG9tcC5XZWJTb2NrZXRDbGFzcyB8fCBXZWJTb2NrZXQ7XG4gICAgICB3cyA9IG5ldyBrbGFzcyh1cmwsIHByb3RvY29scyk7XG4gICAgICByZXR1cm4gbmV3IENsaWVudCh3cyk7XG4gICAgfSxcbiAgICBvdmVyOiBmdW5jdGlvbiAod3MpIHtcbiAgICAgIHJldHVybiBuZXcgQ2xpZW50KHdzKTtcbiAgICB9LFxuICAgIEZyYW1lOiBGcmFtZVxuICB9O1xuXG4gIGlmICh0eXBlb2YgZXhwb3J0cyAhPT0gXCJ1bmRlZmluZWRcIiAmJiBleHBvcnRzICE9PSBudWxsKSB7XG4gICAgZXhwb3J0cy5TdG9tcCA9IFN0b21wO1xuICB9XG5cbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgd2luZG93ICE9PSBudWxsKSB7XG4gICAgU3RvbXAuc2V0SW50ZXJ2YWwgPSBmdW5jdGlvbiAoaW50ZXJ2YWwsIGYpIHtcbiAgICAgIHJldHVybiB3aW5kb3cuc2V0SW50ZXJ2YWwoZiwgaW50ZXJ2YWwpO1xuICAgIH07XG4gICAgU3RvbXAuY2xlYXJJbnRlcnZhbCA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgcmV0dXJuIHdpbmRvdy5jbGVhckludGVydmFsKGlkKTtcbiAgICB9O1xuICAgIHdpbmRvdy5TdG9tcCA9IFN0b21wO1xuICB9IGVsc2UgaWYgKCFleHBvcnRzKSB7XG4gICAgc2VsZi5TdG9tcCA9IFN0b21wO1xuICB9XG5cbn0pLmNhbGwodGhpcyk7XG4iXX0=